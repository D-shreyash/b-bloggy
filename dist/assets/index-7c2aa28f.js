function Uw(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function nv(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var rv={exports:{}},vl={},ov={exports:{}},q={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ns=Symbol.for("react.element"),$w=Symbol.for("react.portal"),Vw=Symbol.for("react.fragment"),Hw=Symbol.for("react.strict_mode"),zw=Symbol.for("react.profiler"),Ww=Symbol.for("react.provider"),Kw=Symbol.for("react.context"),Gw=Symbol.for("react.forward_ref"),qw=Symbol.for("react.suspense"),Yw=Symbol.for("react.memo"),Xw=Symbol.for("react.lazy"),$f=Symbol.iterator;function Jw(t){return t===null||typeof t!="object"?null:(t=$f&&t[$f]||t["@@iterator"],typeof t=="function"?t:null)}var iv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},sv=Object.assign,av={};function Do(t,e,n){this.props=t,this.context=e,this.refs=av,this.updater=n||iv}Do.prototype.isReactComponent={};Do.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Do.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function lv(){}lv.prototype=Do.prototype;function Vd(t,e,n){this.props=t,this.context=e,this.refs=av,this.updater=n||iv}var Hd=Vd.prototype=new lv;Hd.constructor=Vd;sv(Hd,Do.prototype);Hd.isPureReactComponent=!0;var Vf=Array.isArray,cv=Object.prototype.hasOwnProperty,zd={current:null},uv={key:!0,ref:!0,__self:!0,__source:!0};function dv(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)cv.call(e,r)&&!uv.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:ns,type:t,key:i,ref:s,props:o,_owner:zd.current}}function Qw(t,e){return{$$typeof:ns,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wd(t){return typeof t=="object"&&t!==null&&t.$$typeof===ns}function Zw(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Hf=/\/+/g;function sc(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Zw(""+t.key):e.toString(36)}function Xs(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ns:case $w:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+sc(s,0):r,Vf(o)?(n="",t!=null&&(n=t.replace(Hf,"$&/")+"/"),Xs(o,e,n,"",function(c){return c})):o!=null&&(Wd(o)&&(o=Qw(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Hf,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",Vf(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+sc(i,a);s+=Xs(i,e,n,l,o)}else if(l=Jw(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+sc(i,a++),s+=Xs(i,e,n,l,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Ts(t,e,n){if(t==null)return t;var r=[],o=0;return Xs(t,r,"","",function(i){return e.call(n,i,o++)}),r}function ek(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Ve={current:null},Js={transition:null},tk={ReactCurrentDispatcher:Ve,ReactCurrentBatchConfig:Js,ReactCurrentOwner:zd};q.Children={map:Ts,forEach:function(t,e,n){Ts(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Ts(t,function(){e++}),e},toArray:function(t){return Ts(t,function(e){return e})||[]},only:function(t){if(!Wd(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};q.Component=Do;q.Fragment=Vw;q.Profiler=zw;q.PureComponent=Vd;q.StrictMode=Hw;q.Suspense=qw;q.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tk;q.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=sv({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=zd.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)cv.call(e,l)&&!uv.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ns,type:t.type,key:o,ref:i,props:r,_owner:s}};q.createContext=function(t){return t={$$typeof:Kw,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Ww,_context:t},t.Consumer=t};q.createElement=dv;q.createFactory=function(t){var e=dv.bind(null,t);return e.type=t,e};q.createRef=function(){return{current:null}};q.forwardRef=function(t){return{$$typeof:Gw,render:t}};q.isValidElement=Wd;q.lazy=function(t){return{$$typeof:Xw,_payload:{_status:-1,_result:t},_init:ek}};q.memo=function(t,e){return{$$typeof:Yw,type:t,compare:e===void 0?null:e}};q.startTransition=function(t){var e=Js.transition;Js.transition={};try{t()}finally{Js.transition=e}};q.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};q.useCallback=function(t,e){return Ve.current.useCallback(t,e)};q.useContext=function(t){return Ve.current.useContext(t)};q.useDebugValue=function(){};q.useDeferredValue=function(t){return Ve.current.useDeferredValue(t)};q.useEffect=function(t,e){return Ve.current.useEffect(t,e)};q.useId=function(){return Ve.current.useId()};q.useImperativeHandle=function(t,e,n){return Ve.current.useImperativeHandle(t,e,n)};q.useInsertionEffect=function(t,e){return Ve.current.useInsertionEffect(t,e)};q.useLayoutEffect=function(t,e){return Ve.current.useLayoutEffect(t,e)};q.useMemo=function(t,e){return Ve.current.useMemo(t,e)};q.useReducer=function(t,e,n){return Ve.current.useReducer(t,e,n)};q.useRef=function(t){return Ve.current.useRef(t)};q.useState=function(t){return Ve.current.useState(t)};q.useSyncExternalStore=function(t,e,n){return Ve.current.useSyncExternalStore(t,e,n)};q.useTransition=function(){return Ve.current.useTransition()};q.version="18.2.0";ov.exports=q;var E=ov.exports;const Kd=nv(E),nk=Uw({__proto__:null,default:Kd},[E]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rk=E,ok=Symbol.for("react.element"),ik=Symbol.for("react.fragment"),sk=Object.prototype.hasOwnProperty,ak=rk.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lk={key:!0,ref:!0,__self:!0,__source:!0};function hv(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)sk.call(e,r)&&!lk.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:ok,type:t,key:i,ref:s,props:o,_owner:ak.current}}vl.Fragment=ik;vl.jsx=hv;vl.jsxs=hv;rv.exports=vl;var b=rv.exports,au={},fv={exports:{}},it={},pv={exports:{}},mv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(N,U){var K=N.length;N.push(U);e:for(;0<K;){var H=K-1>>>1,te=N[H];if(0<o(te,U))N[H]=U,N[K]=te,K=H;else break e}}function n(N){return N.length===0?null:N[0]}function r(N){if(N.length===0)return null;var U=N[0],K=N.pop();if(K!==U){N[0]=K;e:for(var H=0,te=N.length,sr=te>>>1;H<sr;){var It=2*(H+1)-1,Fr=N[It],Qe=It+1,ar=N[Qe];if(0>o(Fr,K))Qe<te&&0>o(ar,Fr)?(N[H]=ar,N[Qe]=K,H=Qe):(N[H]=Fr,N[It]=K,H=It);else if(Qe<te&&0>o(ar,K))N[H]=ar,N[Qe]=K,H=Qe;else break e}}return U}function o(N,U){var K=N.sortIndex-U.sortIndex;return K!==0?K:N.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],c=[],u=1,d=null,h=3,f=!1,m=!1,g=!1,k=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function v(N){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=N)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function w(N){if(g=!1,v(N),!m)if(n(l)!==null)m=!0,F(x);else{var U=n(c);U!==null&&G(w,U.startTime-N)}}function x(N,U){m=!1,g&&(g=!1,y(S),S=-1),f=!0;var K=h;try{for(v(U),d=n(l);d!==null&&(!(d.expirationTime>U)||N&&!B());){var H=d.callback;if(typeof H=="function"){d.callback=null,h=d.priorityLevel;var te=H(d.expirationTime<=U);U=t.unstable_now(),typeof te=="function"?d.callback=te:d===n(l)&&r(l),v(U)}else r(l);d=n(l)}if(d!==null)var sr=!0;else{var It=n(c);It!==null&&G(w,It.startTime-U),sr=!1}return sr}finally{d=null,h=K,f=!1}}var C=!1,_=null,S=-1,T=5,L=-1;function B(){return!(t.unstable_now()-L<T)}function P(){if(_!==null){var N=t.unstable_now();L=N;var U=!0;try{U=_(!0,N)}finally{U?R():(C=!1,_=null)}}else C=!1}var R;if(typeof p=="function")R=function(){p(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,M=D.port2;D.port1.onmessage=P,R=function(){M.postMessage(null)}}else R=function(){k(P,0)};function F(N){_=N,C||(C=!0,R())}function G(N,U){S=k(function(){N(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,F(x))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(N){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var K=h;h=U;try{return N()}finally{h=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,U){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var K=h;h=N;try{return U()}finally{h=K}},t.unstable_scheduleCallback=function(N,U,K){var H=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?H+K:H):K=H,N){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=K+te,N={id:u++,callback:U,priorityLevel:N,startTime:K,expirationTime:te,sortIndex:-1},K>H?(N.sortIndex=K,e(c,N),n(l)===null&&N===n(c)&&(g?(y(S),S=-1):g=!0,G(w,K-H))):(N.sortIndex=te,e(l,N),m||f||(m=!0,F(x))),N},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(N){var U=h;return function(){var K=h;h=U;try{return N.apply(this,arguments)}finally{h=K}}}})(mv);pv.exports=mv;var ck=pv.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gv=E,rt=ck;function O(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var vv=new Set,_i={};function Rr(t,e){xo(t,e),xo(t+"Capture",e)}function xo(t,e){for(_i[t]=e,t=0;t<e.length;t++)vv.add(e[t])}var ln=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),lu=Object.prototype.hasOwnProperty,uk=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,zf={},Wf={};function dk(t){return lu.call(Wf,t)?!0:lu.call(zf,t)?!1:uk.test(t)?Wf[t]=!0:(zf[t]=!0,!1)}function hk(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function fk(t,e,n,r){if(e===null||typeof e>"u"||hk(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function He(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var Pe={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Pe[t]=new He(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Pe[e]=new He(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Pe[t]=new He(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Pe[t]=new He(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Pe[t]=new He(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Pe[t]=new He(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Pe[t]=new He(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Pe[t]=new He(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Pe[t]=new He(t,5,!1,t.toLowerCase(),null,!1,!1)});var Gd=/[\-:]([a-z])/g;function qd(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Gd,qd);Pe[e]=new He(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Gd,qd);Pe[e]=new He(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Gd,qd);Pe[e]=new He(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Pe[t]=new He(t,1,!1,t.toLowerCase(),null,!1,!1)});Pe.xlinkHref=new He("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Pe[t]=new He(t,1,!1,t.toLowerCase(),null,!0,!0)});function Yd(t,e,n,r){var o=Pe.hasOwnProperty(e)?Pe[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(fk(e,n,o,r)&&(n=null),r||o===null?dk(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gn=gv.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_s=Symbol.for("react.element"),qr=Symbol.for("react.portal"),Yr=Symbol.for("react.fragment"),Xd=Symbol.for("react.strict_mode"),cu=Symbol.for("react.profiler"),yv=Symbol.for("react.provider"),bv=Symbol.for("react.context"),Jd=Symbol.for("react.forward_ref"),uu=Symbol.for("react.suspense"),du=Symbol.for("react.suspense_list"),Qd=Symbol.for("react.memo"),xn=Symbol.for("react.lazy"),wv=Symbol.for("react.offscreen"),Kf=Symbol.iterator;function Ko(t){return t===null||typeof t!="object"?null:(t=Kf&&t[Kf]||t["@@iterator"],typeof t=="function"?t:null)}var he=Object.assign,ac;function ri(t){if(ac===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);ac=e&&e[1]||""}return`
`+ac+t}var lc=!1;function cc(t,e){if(!t||lc)return"";lc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var o=c.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{lc=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ri(t):""}function pk(t){switch(t.tag){case 5:return ri(t.type);case 16:return ri("Lazy");case 13:return ri("Suspense");case 19:return ri("SuspenseList");case 0:case 2:case 15:return t=cc(t.type,!1),t;case 11:return t=cc(t.type.render,!1),t;case 1:return t=cc(t.type,!0),t;default:return""}}function hu(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yr:return"Fragment";case qr:return"Portal";case cu:return"Profiler";case Xd:return"StrictMode";case uu:return"Suspense";case du:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case bv:return(t.displayName||"Context")+".Consumer";case yv:return(t._context.displayName||"Context")+".Provider";case Jd:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Qd:return e=t.displayName||null,e!==null?e:hu(t.type)||"Memo";case xn:e=t._payload,t=t._init;try{return hu(t(e))}catch{}}return null}function mk(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return hu(e);case 8:return e===Xd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function kv(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gk(t){var e=kv(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Is(t){t._valueTracker||(t._valueTracker=gk(t))}function xv(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=kv(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Sa(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function fu(t,e){var n=e.checked;return he({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Gf(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ev(t,e){e=e.checked,e!=null&&Yd(t,"checked",e,!1)}function pu(t,e){Ev(t,e);var n=qn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?mu(t,e.type,n):e.hasOwnProperty("defaultValue")&&mu(t,e.type,qn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function qf(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function mu(t,e,n){(e!=="number"||Sa(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var oi=Array.isArray;function fo(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qn(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function gu(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(O(91));return he({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Yf(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(O(92));if(oi(n)){if(1<n.length)throw Error(O(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qn(n)}}function Sv(t,e){var n=qn(e.value),r=qn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Xf(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Cv(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function vu(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Cv(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bs,Tv=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bs=Bs||document.createElement("div"),Bs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ii(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var di={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vk=["Webkit","ms","Moz","O"];Object.keys(di).forEach(function(t){vk.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),di[e]=di[t]})});function _v(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||di.hasOwnProperty(t)&&di[t]?(""+e).trim():e+"px"}function Iv(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=_v(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var yk=he({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function yu(t,e){if(e){if(yk[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(O(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(O(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(O(61))}if(e.style!=null&&typeof e.style!="object")throw Error(O(62))}}function bu(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wu=null;function Zd(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var ku=null,po=null,mo=null;function Jf(t){if(t=is(t)){if(typeof ku!="function")throw Error(O(280));var e=t.stateNode;e&&(e=xl(e),ku(t.stateNode,t.type,e))}}function Bv(t){po?mo?mo.push(t):mo=[t]:po=t}function Av(){if(po){var t=po,e=mo;if(mo=po=null,Jf(t),e)for(t=0;t<e.length;t++)Jf(e[t])}}function Pv(t,e){return t(e)}function Lv(){}var uc=!1;function Nv(t,e,n){if(uc)return t(e,n);uc=!0;try{return Pv(t,e,n)}finally{uc=!1,(po!==null||mo!==null)&&(Lv(),Av())}}function Bi(t,e){var n=t.stateNode;if(n===null)return null;var r=xl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(O(231,e,typeof n));return n}var xu=!1;if(ln)try{var Go={};Object.defineProperty(Go,"passive",{get:function(){xu=!0}}),window.addEventListener("test",Go,Go),window.removeEventListener("test",Go,Go)}catch{xu=!1}function bk(t,e,n,r,o,i,s,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var hi=!1,Ca=null,Ta=!1,Eu=null,wk={onError:function(t){hi=!0,Ca=t}};function kk(t,e,n,r,o,i,s,a,l){hi=!1,Ca=null,bk.apply(wk,arguments)}function xk(t,e,n,r,o,i,s,a,l){if(kk.apply(this,arguments),hi){if(hi){var c=Ca;hi=!1,Ca=null}else throw Error(O(198));Ta||(Ta=!0,Eu=c)}}function Or(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Rv(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Qf(t){if(Or(t)!==t)throw Error(O(188))}function Ek(t){var e=t.alternate;if(!e){if(e=Or(t),e===null)throw Error(O(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return Qf(o),t;if(i===r)return Qf(o),e;i=i.sibling}throw Error(O(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?t:e}function Ov(t){return t=Ek(t),t!==null?Mv(t):null}function Mv(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Mv(t);if(e!==null)return e;t=t.sibling}return null}var Dv=rt.unstable_scheduleCallback,Zf=rt.unstable_cancelCallback,Sk=rt.unstable_shouldYield,Ck=rt.unstable_requestPaint,pe=rt.unstable_now,Tk=rt.unstable_getCurrentPriorityLevel,eh=rt.unstable_ImmediatePriority,jv=rt.unstable_UserBlockingPriority,_a=rt.unstable_NormalPriority,_k=rt.unstable_LowPriority,Fv=rt.unstable_IdlePriority,yl=null,Mt=null;function Ik(t){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(yl,t,void 0,(t.current.flags&128)===128)}catch{}}var St=Math.clz32?Math.clz32:Pk,Bk=Math.log,Ak=Math.LN2;function Pk(t){return t>>>=0,t===0?32:31-(Bk(t)/Ak|0)|0}var As=64,Ps=4194304;function ii(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ia(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=ii(a):(i&=s,i!==0&&(r=ii(i)))}else s=n&~o,s!==0?r=ii(s):i!==0&&(r=ii(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-St(e),o=1<<n,r|=t[n],e&=~o;return r}function Lk(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nk(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-St(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=Lk(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Su(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Uv(){var t=As;return As<<=1,!(As&4194240)&&(As=64),t}function dc(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function rs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-St(e),t[e]=n}function Rk(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-St(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function th(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-St(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var ee=0;function $v(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Vv,nh,Hv,zv,Wv,Cu=!1,Ls=[],On=null,Mn=null,Dn=null,Ai=new Map,Pi=new Map,Tn=[],Ok="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ep(t,e){switch(t){case"focusin":case"focusout":On=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Dn=null;break;case"pointerover":case"pointerout":Ai.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pi.delete(e.pointerId)}}function qo(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=is(e),e!==null&&nh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function Mk(t,e,n,r,o){switch(e){case"focusin":return On=qo(On,t,e,n,r,o),!0;case"dragenter":return Mn=qo(Mn,t,e,n,r,o),!0;case"mouseover":return Dn=qo(Dn,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return Ai.set(i,qo(Ai.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Pi.set(i,qo(Pi.get(i)||null,t,e,n,r,o)),!0}return!1}function Kv(t){var e=gr(t.target);if(e!==null){var n=Or(e);if(n!==null){if(e=n.tag,e===13){if(e=Rv(n),e!==null){t.blockedOn=e,Wv(t.priority,function(){Hv(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qs(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Tu(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);wu=r,n.target.dispatchEvent(r),wu=null}else return e=is(n),e!==null&&nh(e),t.blockedOn=n,!1;e.shift()}return!0}function tp(t,e,n){Qs(t)&&n.delete(e)}function Dk(){Cu=!1,On!==null&&Qs(On)&&(On=null),Mn!==null&&Qs(Mn)&&(Mn=null),Dn!==null&&Qs(Dn)&&(Dn=null),Ai.forEach(tp),Pi.forEach(tp)}function Yo(t,e){t.blockedOn===e&&(t.blockedOn=null,Cu||(Cu=!0,rt.unstable_scheduleCallback(rt.unstable_NormalPriority,Dk)))}function Li(t){function e(o){return Yo(o,t)}if(0<Ls.length){Yo(Ls[0],t);for(var n=1;n<Ls.length;n++){var r=Ls[n];r.blockedOn===t&&(r.blockedOn=null)}}for(On!==null&&Yo(On,t),Mn!==null&&Yo(Mn,t),Dn!==null&&Yo(Dn,t),Ai.forEach(e),Pi.forEach(e),n=0;n<Tn.length;n++)r=Tn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Tn.length&&(n=Tn[0],n.blockedOn===null);)Kv(n),n.blockedOn===null&&Tn.shift()}var go=gn.ReactCurrentBatchConfig,Ba=!0;function jk(t,e,n,r){var o=ee,i=go.transition;go.transition=null;try{ee=1,rh(t,e,n,r)}finally{ee=o,go.transition=i}}function Fk(t,e,n,r){var o=ee,i=go.transition;go.transition=null;try{ee=4,rh(t,e,n,r)}finally{ee=o,go.transition=i}}function rh(t,e,n,r){if(Ba){var o=Tu(t,e,n,r);if(o===null)kc(t,e,r,Aa,n),ep(t,r);else if(Mk(o,t,e,n,r))r.stopPropagation();else if(ep(t,r),e&4&&-1<Ok.indexOf(t)){for(;o!==null;){var i=is(o);if(i!==null&&Vv(i),i=Tu(t,e,n,r),i===null&&kc(t,e,r,Aa,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else kc(t,e,r,null,n)}}var Aa=null;function Tu(t,e,n,r){if(Aa=null,t=Zd(r),t=gr(t),t!==null)if(e=Or(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Rv(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Aa=t,null}function Gv(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Tk()){case eh:return 1;case jv:return 4;case _a:case _k:return 16;case Fv:return 536870912;default:return 16}default:return 16}}var Ln=null,oh=null,Zs=null;function qv(){if(Zs)return Zs;var t,e=oh,n=e.length,r,o="value"in Ln?Ln.value:Ln.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return Zs=o.slice(t,1<r?1-r:void 0)}function ea(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ns(){return!0}function np(){return!1}function st(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Ns:np,this.isPropagationStopped=np,this}return he(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),e}var jo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ih=st(jo),os=he({},jo,{view:0,detail:0}),Uk=st(os),hc,fc,Xo,bl=he({},os,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:sh,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Xo&&(Xo&&t.type==="mousemove"?(hc=t.screenX-Xo.screenX,fc=t.screenY-Xo.screenY):fc=hc=0,Xo=t),hc)},movementY:function(t){return"movementY"in t?t.movementY:fc}}),rp=st(bl),$k=he({},bl,{dataTransfer:0}),Vk=st($k),Hk=he({},os,{relatedTarget:0}),pc=st(Hk),zk=he({},jo,{animationName:0,elapsedTime:0,pseudoElement:0}),Wk=st(zk),Kk=he({},jo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Gk=st(Kk),qk=he({},jo,{data:0}),op=st(qk),Yk={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xk={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Jk={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qk(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Jk[t])?!!e[t]:!1}function sh(){return Qk}var Zk=he({},os,{key:function(t){if(t.key){var e=Yk[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ea(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Xk[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:sh,charCode:function(t){return t.type==="keypress"?ea(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ea(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),ex=st(Zk),tx=he({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ip=st(tx),nx=he({},os,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:sh}),rx=st(nx),ox=he({},jo,{propertyName:0,elapsedTime:0,pseudoElement:0}),ix=st(ox),sx=he({},bl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),ax=st(sx),lx=[9,13,27,32],ah=ln&&"CompositionEvent"in window,fi=null;ln&&"documentMode"in document&&(fi=document.documentMode);var cx=ln&&"TextEvent"in window&&!fi,Yv=ln&&(!ah||fi&&8<fi&&11>=fi),sp=String.fromCharCode(32),ap=!1;function Xv(t,e){switch(t){case"keyup":return lx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jv(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Xr=!1;function ux(t,e){switch(t){case"compositionend":return Jv(e);case"keypress":return e.which!==32?null:(ap=!0,sp);case"textInput":return t=e.data,t===sp&&ap?null:t;default:return null}}function dx(t,e){if(Xr)return t==="compositionend"||!ah&&Xv(t,e)?(t=qv(),Zs=oh=Ln=null,Xr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Yv&&e.locale!=="ko"?null:e.data;default:return null}}var hx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function lp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!hx[t.type]:e==="textarea"}function Qv(t,e,n,r){Bv(r),e=Pa(e,"onChange"),0<e.length&&(n=new ih("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pi=null,Ni=null;function fx(t){cy(t,0)}function wl(t){var e=Zr(t);if(xv(e))return t}function px(t,e){if(t==="change")return e}var Zv=!1;if(ln){var mc;if(ln){var gc="oninput"in document;if(!gc){var cp=document.createElement("div");cp.setAttribute("oninput","return;"),gc=typeof cp.oninput=="function"}mc=gc}else mc=!1;Zv=mc&&(!document.documentMode||9<document.documentMode)}function up(){pi&&(pi.detachEvent("onpropertychange",ey),Ni=pi=null)}function ey(t){if(t.propertyName==="value"&&wl(Ni)){var e=[];Qv(e,Ni,t,Zd(t)),Nv(fx,e)}}function mx(t,e,n){t==="focusin"?(up(),pi=e,Ni=n,pi.attachEvent("onpropertychange",ey)):t==="focusout"&&up()}function gx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return wl(Ni)}function vx(t,e){if(t==="click")return wl(e)}function yx(t,e){if(t==="input"||t==="change")return wl(e)}function bx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tt=typeof Object.is=="function"?Object.is:bx;function Ri(t,e){if(Tt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!lu.call(e,o)||!Tt(t[o],e[o]))return!1}return!0}function dp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function hp(t,e){var n=dp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=dp(n)}}function ty(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ty(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ny(){for(var t=window,e=Sa();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Sa(t.document)}return e}function lh(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wx(t){var e=ny(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ty(n.ownerDocument.documentElement,n)){if(r!==null&&lh(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=hp(n,i);var s=hp(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var kx=ln&&"documentMode"in document&&11>=document.documentMode,Jr=null,_u=null,mi=null,Iu=!1;function fp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Iu||Jr==null||Jr!==Sa(r)||(r=Jr,"selectionStart"in r&&lh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),mi&&Ri(mi,r)||(mi=r,r=Pa(_u,"onSelect"),0<r.length&&(e=new ih("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Jr)))}function Rs(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Qr={animationend:Rs("Animation","AnimationEnd"),animationiteration:Rs("Animation","AnimationIteration"),animationstart:Rs("Animation","AnimationStart"),transitionend:Rs("Transition","TransitionEnd")},vc={},ry={};ln&&(ry=document.createElement("div").style,"AnimationEvent"in window||(delete Qr.animationend.animation,delete Qr.animationiteration.animation,delete Qr.animationstart.animation),"TransitionEvent"in window||delete Qr.transitionend.transition);function kl(t){if(vc[t])return vc[t];if(!Qr[t])return t;var e=Qr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ry)return vc[t]=e[n];return t}var oy=kl("animationend"),iy=kl("animationiteration"),sy=kl("animationstart"),ay=kl("transitionend"),ly=new Map,pp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zn(t,e){ly.set(t,e),Rr(e,[t])}for(var yc=0;yc<pp.length;yc++){var bc=pp[yc],xx=bc.toLowerCase(),Ex=bc[0].toUpperCase()+bc.slice(1);Zn(xx,"on"+Ex)}Zn(oy,"onAnimationEnd");Zn(iy,"onAnimationIteration");Zn(sy,"onAnimationStart");Zn("dblclick","onDoubleClick");Zn("focusin","onFocus");Zn("focusout","onBlur");Zn(ay,"onTransitionEnd");xo("onMouseEnter",["mouseout","mouseover"]);xo("onMouseLeave",["mouseout","mouseover"]);xo("onPointerEnter",["pointerout","pointerover"]);xo("onPointerLeave",["pointerout","pointerover"]);Rr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Rr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Rr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Rr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Rr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var si="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Sx=new Set("cancel close invalid load scroll toggle".split(" ").concat(si));function mp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,xk(r,e,void 0,t),t.currentTarget=null}function cy(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;mp(o,a,c),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;mp(o,a,c),i=l}}}if(Ta)throw t=Eu,Ta=!1,Eu=null,t}function oe(t,e){var n=e[Nu];n===void 0&&(n=e[Nu]=new Set);var r=t+"__bubble";n.has(r)||(uy(e,t,2,!1),n.add(r))}function wc(t,e,n){var r=0;e&&(r|=4),uy(n,t,r,e)}var Os="_reactListening"+Math.random().toString(36).slice(2);function Oi(t){if(!t[Os]){t[Os]=!0,vv.forEach(function(n){n!=="selectionchange"&&(Sx.has(n)||wc(n,!1,t),wc(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Os]||(e[Os]=!0,wc("selectionchange",!1,e))}}function uy(t,e,n,r){switch(Gv(e)){case 1:var o=jk;break;case 4:o=Fk;break;default:o=rh}n=o.bind(null,e,n,t),o=void 0,!xu||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function kc(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=gr(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}Nv(function(){var c=i,u=Zd(n),d=[];e:{var h=ly.get(t);if(h!==void 0){var f=ih,m=t;switch(t){case"keypress":if(ea(n)===0)break e;case"keydown":case"keyup":f=ex;break;case"focusin":m="focus",f=pc;break;case"focusout":m="blur",f=pc;break;case"beforeblur":case"afterblur":f=pc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=rp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=Vk;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=rx;break;case oy:case iy:case sy:f=Wk;break;case ay:f=ix;break;case"scroll":f=Uk;break;case"wheel":f=ax;break;case"copy":case"cut":case"paste":f=Gk;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=ip}var g=(e&4)!==0,k=!g&&t==="scroll",y=g?h!==null?h+"Capture":null:h;g=[];for(var p=c,v;p!==null;){v=p;var w=v.stateNode;if(v.tag===5&&w!==null&&(v=w,y!==null&&(w=Bi(p,y),w!=null&&g.push(Mi(p,w,v)))),k)break;p=p.return}0<g.length&&(h=new f(h,m,null,n,u),d.push({event:h,listeners:g}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",f=t==="mouseout"||t==="pointerout",h&&n!==wu&&(m=n.relatedTarget||n.fromElement)&&(gr(m)||m[cn]))break e;if((f||h)&&(h=u.window===u?u:(h=u.ownerDocument)?h.defaultView||h.parentWindow:window,f?(m=n.relatedTarget||n.toElement,f=c,m=m?gr(m):null,m!==null&&(k=Or(m),m!==k||m.tag!==5&&m.tag!==6)&&(m=null)):(f=null,m=c),f!==m)){if(g=rp,w="onMouseLeave",y="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(g=ip,w="onPointerLeave",y="onPointerEnter",p="pointer"),k=f==null?h:Zr(f),v=m==null?h:Zr(m),h=new g(w,p+"leave",f,n,u),h.target=k,h.relatedTarget=v,w=null,gr(u)===c&&(g=new g(y,p+"enter",m,n,u),g.target=v,g.relatedTarget=k,w=g),k=w,f&&m)t:{for(g=f,y=m,p=0,v=g;v;v=Ur(v))p++;for(v=0,w=y;w;w=Ur(w))v++;for(;0<p-v;)g=Ur(g),p--;for(;0<v-p;)y=Ur(y),v--;for(;p--;){if(g===y||y!==null&&g===y.alternate)break t;g=Ur(g),y=Ur(y)}g=null}else g=null;f!==null&&gp(d,h,f,g,!1),m!==null&&k!==null&&gp(d,k,m,g,!0)}}e:{if(h=c?Zr(c):window,f=h.nodeName&&h.nodeName.toLowerCase(),f==="select"||f==="input"&&h.type==="file")var x=px;else if(lp(h))if(Zv)x=yx;else{x=gx;var C=mx}else(f=h.nodeName)&&f.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(x=vx);if(x&&(x=x(t,c))){Qv(d,x,n,u);break e}C&&C(t,h,c),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&mu(h,"number",h.value)}switch(C=c?Zr(c):window,t){case"focusin":(lp(C)||C.contentEditable==="true")&&(Jr=C,_u=c,mi=null);break;case"focusout":mi=_u=Jr=null;break;case"mousedown":Iu=!0;break;case"contextmenu":case"mouseup":case"dragend":Iu=!1,fp(d,n,u);break;case"selectionchange":if(kx)break;case"keydown":case"keyup":fp(d,n,u)}var _;if(ah)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Xr?Xv(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Yv&&n.locale!=="ko"&&(Xr||S!=="onCompositionStart"?S==="onCompositionEnd"&&Xr&&(_=qv()):(Ln=u,oh="value"in Ln?Ln.value:Ln.textContent,Xr=!0)),C=Pa(c,S),0<C.length&&(S=new op(S,t,null,n,u),d.push({event:S,listeners:C}),_?S.data=_:(_=Jv(n),_!==null&&(S.data=_)))),(_=cx?ux(t,n):dx(t,n))&&(c=Pa(c,"onBeforeInput"),0<c.length&&(u=new op("onBeforeInput","beforeinput",null,n,u),d.push({event:u,listeners:c}),u.data=_))}cy(d,e)})}function Mi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Pa(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Bi(t,n),i!=null&&r.unshift(Mi(t,i,o)),i=Bi(t,e),i!=null&&r.push(Mi(t,i,o))),t=t.return}return r}function Ur(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function gp(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,o?(l=Bi(n,i),l!=null&&s.unshift(Mi(n,l,a))):o||(l=Bi(n,i),l!=null&&s.push(Mi(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var Cx=/\r\n?/g,Tx=/\u0000|\uFFFD/g;function vp(t){return(typeof t=="string"?t:""+t).replace(Cx,`
`).replace(Tx,"")}function Ms(t,e,n){if(e=vp(e),vp(t)!==e&&n)throw Error(O(425))}function La(){}var Bu=null,Au=null;function Pu(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Lu=typeof setTimeout=="function"?setTimeout:void 0,_x=typeof clearTimeout=="function"?clearTimeout:void 0,yp=typeof Promise=="function"?Promise:void 0,Ix=typeof queueMicrotask=="function"?queueMicrotask:typeof yp<"u"?function(t){return yp.resolve(null).then(t).catch(Bx)}:Lu;function Bx(t){setTimeout(function(){throw t})}function xc(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Li(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Li(e)}function jn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function bp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Fo=Math.random().toString(36).slice(2),Rt="__reactFiber$"+Fo,Di="__reactProps$"+Fo,cn="__reactContainer$"+Fo,Nu="__reactEvents$"+Fo,Ax="__reactListeners$"+Fo,Px="__reactHandles$"+Fo;function gr(t){var e=t[Rt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[cn]||n[Rt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=bp(t);t!==null;){if(n=t[Rt])return n;t=bp(t)}return e}t=n,n=t.parentNode}return null}function is(t){return t=t[Rt]||t[cn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(O(33))}function xl(t){return t[Di]||null}var Ru=[],eo=-1;function er(t){return{current:t}}function se(t){0>eo||(t.current=Ru[eo],Ru[eo]=null,eo--)}function re(t,e){eo++,Ru[eo]=t.current,t.current=e}var Yn={},Me=er(Yn),qe=er(!1),Tr=Yn;function Eo(t,e){var n=t.type.contextTypes;if(!n)return Yn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function Ye(t){return t=t.childContextTypes,t!=null}function Na(){se(qe),se(Me)}function wp(t,e,n){if(Me.current!==Yn)throw Error(O(168));re(Me,e),re(qe,n)}function dy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(O(108,mk(t)||"Unknown",o));return he({},n,r)}function Ra(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Yn,Tr=Me.current,re(Me,t),re(qe,qe.current),!0}function kp(t,e,n){var r=t.stateNode;if(!r)throw Error(O(169));n?(t=dy(t,e,Tr),r.__reactInternalMemoizedMergedChildContext=t,se(qe),se(Me),re(Me,t)):se(qe),re(qe,n)}var Gt=null,El=!1,Ec=!1;function hy(t){Gt===null?Gt=[t]:Gt.push(t)}function Lx(t){El=!0,hy(t)}function tr(){if(!Ec&&Gt!==null){Ec=!0;var t=0,e=ee;try{var n=Gt;for(ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gt=null,El=!1}catch(o){throw Gt!==null&&(Gt=Gt.slice(t+1)),Dv(eh,tr),o}finally{ee=e,Ec=!1}}return null}var to=[],no=0,Oa=null,Ma=0,lt=[],ct=0,_r=null,Xt=1,Jt="";function ur(t,e){to[no++]=Ma,to[no++]=Oa,Oa=t,Ma=e}function fy(t,e,n){lt[ct++]=Xt,lt[ct++]=Jt,lt[ct++]=_r,_r=t;var r=Xt;t=Jt;var o=32-St(r)-1;r&=~(1<<o),n+=1;var i=32-St(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,Xt=1<<32-St(e)+o|n<<o|r,Jt=i+t}else Xt=1<<i|n<<o|r,Jt=t}function ch(t){t.return!==null&&(ur(t,1),fy(t,1,0))}function uh(t){for(;t===Oa;)Oa=to[--no],to[no]=null,Ma=to[--no],to[no]=null;for(;t===_r;)_r=lt[--ct],lt[ct]=null,Jt=lt[--ct],lt[ct]=null,Xt=lt[--ct],lt[ct]=null}var nt=null,tt=null,ae=!1,kt=null;function py(t,e){var n=ut(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function xp(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,nt=t,tt=jn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,nt=t,tt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=_r!==null?{id:Xt,overflow:Jt}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ut(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,nt=t,tt=null,!0):!1;default:return!1}}function Ou(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Mu(t){if(ae){var e=tt;if(e){var n=e;if(!xp(t,e)){if(Ou(t))throw Error(O(418));e=jn(n.nextSibling);var r=nt;e&&xp(t,e)?py(r,n):(t.flags=t.flags&-4097|2,ae=!1,nt=t)}}else{if(Ou(t))throw Error(O(418));t.flags=t.flags&-4097|2,ae=!1,nt=t}}}function Ep(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;nt=t}function Ds(t){if(t!==nt)return!1;if(!ae)return Ep(t),ae=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pu(t.type,t.memoizedProps)),e&&(e=tt)){if(Ou(t))throw my(),Error(O(418));for(;e;)py(t,e),e=jn(e.nextSibling)}if(Ep(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(O(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){tt=jn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}tt=null}}else tt=nt?jn(t.stateNode.nextSibling):null;return!0}function my(){for(var t=tt;t;)t=jn(t.nextSibling)}function So(){tt=nt=null,ae=!1}function dh(t){kt===null?kt=[t]:kt.push(t)}var Nx=gn.ReactCurrentBatchConfig;function bt(t,e){if(t&&t.defaultProps){e=he({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Da=er(null),ja=null,ro=null,hh=null;function fh(){hh=ro=ja=null}function ph(t){var e=Da.current;se(Da),t._currentValue=e}function Du(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function vo(t,e){ja=t,hh=ro=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(We=!0),t.firstContext=null)}function ft(t){var e=t._currentValue;if(hh!==t)if(t={context:t,memoizedValue:e,next:null},ro===null){if(ja===null)throw Error(O(308));ro=t,ja.dependencies={lanes:0,firstContext:t}}else ro=ro.next=t;return e}var vr=null;function mh(t){vr===null?vr=[t]:vr.push(t)}function gy(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,mh(e)):(n.next=o.next,o.next=n),e.interleaved=n,un(t,r)}function un(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var En=!1;function gh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function rn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Fn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Q&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,un(t,n)}return o=r.interleaved,o===null?(e.next=e,mh(r)):(e.next=o.next,o.next=e),r.interleaved=e,un(t,n)}function ta(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,th(t,n)}}function Sp(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Fa(t,e,n,r){var o=t.updateQueue;En=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,c=l.next;l.next=null,s===null?i=c:s.next=c,s=l;var u=t.alternate;u!==null&&(u=u.updateQueue,a=u.lastBaseUpdate,a!==s&&(a===null?u.firstBaseUpdate=c:a.next=c,u.lastBaseUpdate=l))}if(i!==null){var d=o.baseState;s=0,u=c=l=null,a=i;do{var h=a.lane,f=a.eventTime;if((r&h)===h){u!==null&&(u=u.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(h=e,f=n,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(f,d,h);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,h=typeof m=="function"?m.call(f,d,h):m,h==null)break e;d=he({},d,h);break e;case 2:En=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else f={eventTime:f,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},u===null?(c=u=f,l=d):u=u.next=f,s|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(1);if(u===null&&(l=d),o.baseState=l,o.firstBaseUpdate=c,o.lastBaseUpdate=u,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);Br|=s,t.lanes=s,t.memoizedState=d}}function Cp(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(O(191,o));o.call(r)}}}var yy=new gv.Component().refs;function ju(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:he({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Sl={isMounted:function(t){return(t=t._reactInternals)?Or(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=$e(),o=$n(t),i=rn(r,o);i.payload=e,n!=null&&(i.callback=n),e=Fn(t,i,o),e!==null&&(Ct(e,t,o,r),ta(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=$e(),o=$n(t),i=rn(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=Fn(t,i,o),e!==null&&(Ct(e,t,o,r),ta(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=$e(),r=$n(t),o=rn(n,r);o.tag=2,e!=null&&(o.callback=e),e=Fn(t,o,r),e!==null&&(Ct(e,t,r,n),ta(e,t,r))}};function Tp(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!Ri(n,r)||!Ri(o,i):!0}function by(t,e,n){var r=!1,o=Yn,i=e.contextType;return typeof i=="object"&&i!==null?i=ft(i):(o=Ye(e)?Tr:Me.current,r=e.contextTypes,i=(r=r!=null)?Eo(t,o):Yn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Sl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function _p(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Sl.enqueueReplaceState(e,e.state,null)}function Fu(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=yy,gh(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=ft(i):(i=Ye(e)?Tr:Me.current,o.context=Eo(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ju(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Sl.enqueueReplaceState(o,o.state,null),Fa(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function Jo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;a===yy&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,t))}return t}function js(t,e){throw t=Object.prototype.toString.call(e),Error(O(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Ip(t){var e=t._init;return e(t._payload)}function wy(t){function e(y,p){if(t){var v=y.deletions;v===null?(y.deletions=[p],y.flags|=16):v.push(p)}}function n(y,p){if(!t)return null;for(;p!==null;)e(y,p),p=p.sibling;return null}function r(y,p){for(y=new Map;p!==null;)p.key!==null?y.set(p.key,p):y.set(p.index,p),p=p.sibling;return y}function o(y,p){return y=Vn(y,p),y.index=0,y.sibling=null,y}function i(y,p,v){return y.index=v,t?(v=y.alternate,v!==null?(v=v.index,v<p?(y.flags|=2,p):v):(y.flags|=2,p)):(y.flags|=1048576,p)}function s(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,p,v,w){return p===null||p.tag!==6?(p=Ac(v,y.mode,w),p.return=y,p):(p=o(p,v),p.return=y,p)}function l(y,p,v,w){var x=v.type;return x===Yr?u(y,p,v.props.children,w,v.key):p!==null&&(p.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===xn&&Ip(x)===p.type)?(w=o(p,v.props),w.ref=Jo(y,p,v),w.return=y,w):(w=aa(v.type,v.key,v.props,null,y.mode,w),w.ref=Jo(y,p,v),w.return=y,w)}function c(y,p,v,w){return p===null||p.tag!==4||p.stateNode.containerInfo!==v.containerInfo||p.stateNode.implementation!==v.implementation?(p=Pc(v,y.mode,w),p.return=y,p):(p=o(p,v.children||[]),p.return=y,p)}function u(y,p,v,w,x){return p===null||p.tag!==7?(p=xr(v,y.mode,w,x),p.return=y,p):(p=o(p,v),p.return=y,p)}function d(y,p,v){if(typeof p=="string"&&p!==""||typeof p=="number")return p=Ac(""+p,y.mode,v),p.return=y,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case _s:return v=aa(p.type,p.key,p.props,null,y.mode,v),v.ref=Jo(y,null,p),v.return=y,v;case qr:return p=Pc(p,y.mode,v),p.return=y,p;case xn:var w=p._init;return d(y,w(p._payload),v)}if(oi(p)||Ko(p))return p=xr(p,y.mode,v,null),p.return=y,p;js(y,p)}return null}function h(y,p,v,w){var x=p!==null?p.key:null;if(typeof v=="string"&&v!==""||typeof v=="number")return x!==null?null:a(y,p,""+v,w);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case _s:return v.key===x?l(y,p,v,w):null;case qr:return v.key===x?c(y,p,v,w):null;case xn:return x=v._init,h(y,p,x(v._payload),w)}if(oi(v)||Ko(v))return x!==null?null:u(y,p,v,w,null);js(y,v)}return null}function f(y,p,v,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return y=y.get(v)||null,a(p,y,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case _s:return y=y.get(w.key===null?v:w.key)||null,l(p,y,w,x);case qr:return y=y.get(w.key===null?v:w.key)||null,c(p,y,w,x);case xn:var C=w._init;return f(y,p,v,C(w._payload),x)}if(oi(w)||Ko(w))return y=y.get(v)||null,u(p,y,w,x,null);js(p,w)}return null}function m(y,p,v,w){for(var x=null,C=null,_=p,S=p=0,T=null;_!==null&&S<v.length;S++){_.index>S?(T=_,_=null):T=_.sibling;var L=h(y,_,v[S],w);if(L===null){_===null&&(_=T);break}t&&_&&L.alternate===null&&e(y,_),p=i(L,p,S),C===null?x=L:C.sibling=L,C=L,_=T}if(S===v.length)return n(y,_),ae&&ur(y,S),x;if(_===null){for(;S<v.length;S++)_=d(y,v[S],w),_!==null&&(p=i(_,p,S),C===null?x=_:C.sibling=_,C=_);return ae&&ur(y,S),x}for(_=r(y,_);S<v.length;S++)T=f(_,y,S,v[S],w),T!==null&&(t&&T.alternate!==null&&_.delete(T.key===null?S:T.key),p=i(T,p,S),C===null?x=T:C.sibling=T,C=T);return t&&_.forEach(function(B){return e(y,B)}),ae&&ur(y,S),x}function g(y,p,v,w){var x=Ko(v);if(typeof x!="function")throw Error(O(150));if(v=x.call(v),v==null)throw Error(O(151));for(var C=x=null,_=p,S=p=0,T=null,L=v.next();_!==null&&!L.done;S++,L=v.next()){_.index>S?(T=_,_=null):T=_.sibling;var B=h(y,_,L.value,w);if(B===null){_===null&&(_=T);break}t&&_&&B.alternate===null&&e(y,_),p=i(B,p,S),C===null?x=B:C.sibling=B,C=B,_=T}if(L.done)return n(y,_),ae&&ur(y,S),x;if(_===null){for(;!L.done;S++,L=v.next())L=d(y,L.value,w),L!==null&&(p=i(L,p,S),C===null?x=L:C.sibling=L,C=L);return ae&&ur(y,S),x}for(_=r(y,_);!L.done;S++,L=v.next())L=f(_,y,S,L.value,w),L!==null&&(t&&L.alternate!==null&&_.delete(L.key===null?S:L.key),p=i(L,p,S),C===null?x=L:C.sibling=L,C=L);return t&&_.forEach(function(P){return e(y,P)}),ae&&ur(y,S),x}function k(y,p,v,w){if(typeof v=="object"&&v!==null&&v.type===Yr&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case _s:e:{for(var x=v.key,C=p;C!==null;){if(C.key===x){if(x=v.type,x===Yr){if(C.tag===7){n(y,C.sibling),p=o(C,v.props.children),p.return=y,y=p;break e}}else if(C.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===xn&&Ip(x)===C.type){n(y,C.sibling),p=o(C,v.props),p.ref=Jo(y,C,v),p.return=y,y=p;break e}n(y,C);break}else e(y,C);C=C.sibling}v.type===Yr?(p=xr(v.props.children,y.mode,w,v.key),p.return=y,y=p):(w=aa(v.type,v.key,v.props,null,y.mode,w),w.ref=Jo(y,p,v),w.return=y,y=w)}return s(y);case qr:e:{for(C=v.key;p!==null;){if(p.key===C)if(p.tag===4&&p.stateNode.containerInfo===v.containerInfo&&p.stateNode.implementation===v.implementation){n(y,p.sibling),p=o(p,v.children||[]),p.return=y,y=p;break e}else{n(y,p);break}else e(y,p);p=p.sibling}p=Pc(v,y.mode,w),p.return=y,y=p}return s(y);case xn:return C=v._init,k(y,p,C(v._payload),w)}if(oi(v))return m(y,p,v,w);if(Ko(v))return g(y,p,v,w);js(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"?(v=""+v,p!==null&&p.tag===6?(n(y,p.sibling),p=o(p,v),p.return=y,y=p):(n(y,p),p=Ac(v,y.mode,w),p.return=y,y=p),s(y)):n(y,p)}return k}var Co=wy(!0),ky=wy(!1),ss={},Dt=er(ss),ji=er(ss),Fi=er(ss);function yr(t){if(t===ss)throw Error(O(174));return t}function vh(t,e){switch(re(Fi,e),re(ji,t),re(Dt,ss),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:vu(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=vu(e,t)}se(Dt),re(Dt,e)}function To(){se(Dt),se(ji),se(Fi)}function xy(t){yr(Fi.current);var e=yr(Dt.current),n=vu(e,t.type);e!==n&&(re(ji,t),re(Dt,n))}function yh(t){ji.current===t&&(se(Dt),se(ji))}var ce=er(0);function Ua(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sc=[];function bh(){for(var t=0;t<Sc.length;t++)Sc[t]._workInProgressVersionPrimary=null;Sc.length=0}var na=gn.ReactCurrentDispatcher,Cc=gn.ReactCurrentBatchConfig,Ir=0,de=null,we=null,Se=null,$a=!1,gi=!1,Ui=0,Rx=0;function Le(){throw Error(O(321))}function wh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Tt(t[n],e[n]))return!1;return!0}function kh(t,e,n,r,o,i){if(Ir=i,de=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,na.current=t===null||t.memoizedState===null?jx:Fx,t=n(r,o),gi){i=0;do{if(gi=!1,Ui=0,25<=i)throw Error(O(301));i+=1,Se=we=null,e.updateQueue=null,na.current=Ux,t=n(r,o)}while(gi)}if(na.current=Va,e=we!==null&&we.next!==null,Ir=0,Se=we=de=null,$a=!1,e)throw Error(O(300));return t}function xh(){var t=Ui!==0;return Ui=0,t}function Pt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Se===null?de.memoizedState=Se=t:Se=Se.next=t,Se}function pt(){if(we===null){var t=de.alternate;t=t!==null?t.memoizedState:null}else t=we.next;var e=Se===null?de.memoizedState:Se.next;if(e!==null)Se=e,we=t;else{if(t===null)throw Error(O(310));we=t,t={memoizedState:we.memoizedState,baseState:we.baseState,baseQueue:we.baseQueue,queue:we.queue,next:null},Se===null?de.memoizedState=Se=t:Se=Se.next=t}return Se}function $i(t,e){return typeof e=="function"?e(t):e}function Tc(t){var e=pt(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=we,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,c=i;do{var u=c.lane;if((Ir&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var d={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,de.lanes|=u,Br|=u}c=c.next}while(c!==null&&c!==i);l===null?s=r:l.next=a,Tt(r,e.memoizedState)||(We=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,de.lanes|=i,Br|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function _c(t){var e=pt(),n=e.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);Tt(i,e.memoizedState)||(We=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Ey(){}function Sy(t,e){var n=de,r=pt(),o=e(),i=!Tt(r.memoizedState,o);if(i&&(r.memoizedState=o,We=!0),r=r.queue,Eh(_y.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||Se!==null&&Se.memoizedState.tag&1){if(n.flags|=2048,Vi(9,Ty.bind(null,n,r,o,e),void 0,null),Ce===null)throw Error(O(349));Ir&30||Cy(n,e,o)}return o}function Cy(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Ty(t,e,n,r){e.value=n,e.getSnapshot=r,Iy(e)&&By(t)}function _y(t,e,n){return n(function(){Iy(e)&&By(t)})}function Iy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Tt(t,n)}catch{return!0}}function By(t){var e=un(t,1);e!==null&&Ct(e,t,1,-1)}function Bp(t){var e=Pt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$i,lastRenderedState:t},e.queue=t,t=t.dispatch=Dx.bind(null,de,t),[e.memoizedState,t]}function Vi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=de.updateQueue,e===null?(e={lastEffect:null,stores:null},de.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Ay(){return pt().memoizedState}function ra(t,e,n,r){var o=Pt();de.flags|=t,o.memoizedState=Vi(1|e,n,void 0,r===void 0?null:r)}function Cl(t,e,n,r){var o=pt();r=r===void 0?null:r;var i=void 0;if(we!==null){var s=we.memoizedState;if(i=s.destroy,r!==null&&wh(r,s.deps)){o.memoizedState=Vi(e,n,i,r);return}}de.flags|=t,o.memoizedState=Vi(1|e,n,i,r)}function Ap(t,e){return ra(8390656,8,t,e)}function Eh(t,e){return Cl(2048,8,t,e)}function Py(t,e){return Cl(4,2,t,e)}function Ly(t,e){return Cl(4,4,t,e)}function Ny(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ry(t,e,n){return n=n!=null?n.concat([t]):null,Cl(4,4,Ny.bind(null,e,t),n)}function Sh(){}function Oy(t,e){var n=pt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function My(t,e){var n=pt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Dy(t,e,n){return Ir&21?(Tt(n,e)||(n=Uv(),de.lanes|=n,Br|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,We=!0),t.memoizedState=n)}function Ox(t,e){var n=ee;ee=n!==0&&4>n?n:4,t(!0);var r=Cc.transition;Cc.transition={};try{t(!1),e()}finally{ee=n,Cc.transition=r}}function jy(){return pt().memoizedState}function Mx(t,e,n){var r=$n(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Fy(t))Uy(e,n);else if(n=gy(t,e,n,r),n!==null){var o=$e();Ct(n,t,r,o),$y(n,e,r)}}function Dx(t,e,n){var r=$n(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Fy(t))Uy(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,Tt(a,s)){var l=e.interleaved;l===null?(o.next=o,mh(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=gy(t,e,o,r),n!==null&&(o=$e(),Ct(n,t,r,o),$y(n,e,r))}}function Fy(t){var e=t.alternate;return t===de||e!==null&&e===de}function Uy(t,e){gi=$a=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $y(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,th(t,n)}}var Va={readContext:ft,useCallback:Le,useContext:Le,useEffect:Le,useImperativeHandle:Le,useInsertionEffect:Le,useLayoutEffect:Le,useMemo:Le,useReducer:Le,useRef:Le,useState:Le,useDebugValue:Le,useDeferredValue:Le,useTransition:Le,useMutableSource:Le,useSyncExternalStore:Le,useId:Le,unstable_isNewReconciler:!1},jx={readContext:ft,useCallback:function(t,e){return Pt().memoizedState=[t,e===void 0?null:e],t},useContext:ft,useEffect:Ap,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,ra(4194308,4,Ny.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ra(4194308,4,t,e)},useInsertionEffect:function(t,e){return ra(4,2,t,e)},useMemo:function(t,e){var n=Pt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Mx.bind(null,de,t),[r.memoizedState,t]},useRef:function(t){var e=Pt();return t={current:t},e.memoizedState=t},useState:Bp,useDebugValue:Sh,useDeferredValue:function(t){return Pt().memoizedState=t},useTransition:function(){var t=Bp(!1),e=t[0];return t=Ox.bind(null,t[1]),Pt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=de,o=Pt();if(ae){if(n===void 0)throw Error(O(407));n=n()}else{if(n=e(),Ce===null)throw Error(O(349));Ir&30||Cy(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,Ap(_y.bind(null,r,i,t),[t]),r.flags|=2048,Vi(9,Ty.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Pt(),e=Ce.identifierPrefix;if(ae){var n=Jt,r=Xt;n=(r&~(1<<32-St(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Ui++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=Rx++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Fx={readContext:ft,useCallback:Oy,useContext:ft,useEffect:Eh,useImperativeHandle:Ry,useInsertionEffect:Py,useLayoutEffect:Ly,useMemo:My,useReducer:Tc,useRef:Ay,useState:function(){return Tc($i)},useDebugValue:Sh,useDeferredValue:function(t){var e=pt();return Dy(e,we.memoizedState,t)},useTransition:function(){var t=Tc($i)[0],e=pt().memoizedState;return[t,e]},useMutableSource:Ey,useSyncExternalStore:Sy,useId:jy,unstable_isNewReconciler:!1},Ux={readContext:ft,useCallback:Oy,useContext:ft,useEffect:Eh,useImperativeHandle:Ry,useInsertionEffect:Py,useLayoutEffect:Ly,useMemo:My,useReducer:_c,useRef:Ay,useState:function(){return _c($i)},useDebugValue:Sh,useDeferredValue:function(t){var e=pt();return we===null?e.memoizedState=t:Dy(e,we.memoizedState,t)},useTransition:function(){var t=_c($i)[0],e=pt().memoizedState;return[t,e]},useMutableSource:Ey,useSyncExternalStore:Sy,useId:jy,unstable_isNewReconciler:!1};function _o(t,e){try{var n="",r=e;do n+=pk(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function Ic(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Uu(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var $x=typeof WeakMap=="function"?WeakMap:Map;function Vy(t,e,n){n=rn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){za||(za=!0,Xu=r),Uu(t,e)},n}function Hy(t,e,n){n=rn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){Uu(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Uu(t,e),typeof r!="function"&&(Un===null?Un=new Set([this]):Un.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function Pp(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new $x;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=tE.bind(null,t,e,n),e.then(t,t))}function Lp(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Np(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=rn(-1,1),e.tag=2,Fn(n,e,1))),n.lanes|=1),t)}var Vx=gn.ReactCurrentOwner,We=!1;function Ue(t,e,n,r){e.child=t===null?ky(e,null,n,r):Co(e,t.child,n,r)}function Rp(t,e,n,r,o){n=n.render;var i=e.ref;return vo(e,o),r=kh(t,e,n,r,i,o),n=xh(),t!==null&&!We?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,dn(t,e,o)):(ae&&n&&ch(e),e.flags|=1,Ue(t,e,r,o),e.child)}function Op(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!Lh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,zy(t,e,i,r,o)):(t=aa(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Ri,n(s,r)&&t.ref===e.ref)return dn(t,e,o)}return e.flags|=1,t=Vn(i,r),t.ref=e.ref,t.return=e,e.child=t}function zy(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(Ri(i,r)&&t.ref===e.ref)if(We=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(We=!0);else return e.lanes=t.lanes,dn(t,e,o)}return $u(t,e,n,r,o)}function Wy(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},re(io,et),et|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,re(io,et),et|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,re(io,et),et|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,re(io,et),et|=r;return Ue(t,e,o,n),e.child}function Ky(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function $u(t,e,n,r,o){var i=Ye(n)?Tr:Me.current;return i=Eo(e,i),vo(e,o),n=kh(t,e,n,r,i,o),r=xh(),t!==null&&!We?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,dn(t,e,o)):(ae&&r&&ch(e),e.flags|=1,Ue(t,e,n,o),e.child)}function Mp(t,e,n,r,o){if(Ye(n)){var i=!0;Ra(e)}else i=!1;if(vo(e,o),e.stateNode===null)oa(t,e),by(e,n,r),Fu(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,c=n.contextType;typeof c=="object"&&c!==null?c=ft(c):(c=Ye(n)?Tr:Me.current,c=Eo(e,c));var u=n.getDerivedStateFromProps,d=typeof u=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==c)&&_p(e,s,r,c),En=!1;var h=e.memoizedState;s.state=h,Fa(e,r,s,o),l=e.memoizedState,a!==r||h!==l||qe.current||En?(typeof u=="function"&&(ju(e,n,u,r),l=e.memoizedState),(a=En||Tp(e,n,a,r,h,l,c))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=c,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,vy(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:bt(e.type,a),s.props=c,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=ft(l):(l=Ye(n)?Tr:Me.current,l=Eo(e,l));var f=n.getDerivedStateFromProps;(u=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&_p(e,s,r,l),En=!1,h=e.memoizedState,s.state=h,Fa(e,r,s,o);var m=e.memoizedState;a!==d||h!==m||qe.current||En?(typeof f=="function"&&(ju(e,n,f,r),m=e.memoizedState),(c=En||Tp(e,n,c,r,h,m,l)||!1)?(u||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,m,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,m,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=m),s.props=r,s.state=m,s.context=l,r=c):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return Vu(t,e,n,r,i,o)}function Vu(t,e,n,r,o,i){Ky(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&kp(e,n,!1),dn(t,e,i);r=e.stateNode,Vx.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=Co(e,t.child,null,i),e.child=Co(e,null,a,i)):Ue(t,e,a,i),e.memoizedState=r.state,o&&kp(e,n,!0),e.child}function Gy(t){var e=t.stateNode;e.pendingContext?wp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&wp(t,e.context,!1),vh(t,e.containerInfo)}function Dp(t,e,n,r,o){return So(),dh(o),e.flags|=256,Ue(t,e,n,r),e.child}var Hu={dehydrated:null,treeContext:null,retryLane:0};function zu(t){return{baseLanes:t,cachePool:null,transitions:null}}function qy(t,e,n){var r=e.pendingProps,o=ce.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),re(ce,o&1),t===null)return Mu(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Il(s,r,0,null),t=xr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=zu(n),e.memoizedState=Hu,t):Ch(e,s));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return Hx(t,e,s,r,a,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Vn(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Vn(a,i):(i=xr(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?zu(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=Hu,r}return i=t.child,t=i.sibling,r=Vn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Ch(t,e){return e=Il({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fs(t,e,n,r){return r!==null&&dh(r),Co(e,t.child,null,n),t=Ch(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Hx(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=Ic(Error(O(422))),Fs(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Il({mode:"visible",children:r.children},o,0,null),i=xr(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Co(e,t.child,null,s),e.child.memoizedState=zu(s),e.memoizedState=Hu,i);if(!(e.mode&1))return Fs(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(O(419)),r=Ic(i,r,void 0),Fs(t,e,s,r)}if(a=(s&t.childLanes)!==0,We||a){if(r=Ce,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,un(t,o),Ct(r,t,o,-1))}return Ph(),r=Ic(Error(O(421))),Fs(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=nE.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,tt=jn(o.nextSibling),nt=e,ae=!0,kt=null,t!==null&&(lt[ct++]=Xt,lt[ct++]=Jt,lt[ct++]=_r,Xt=t.id,Jt=t.overflow,_r=e),e=Ch(e,r.children),e.flags|=4096,e)}function jp(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Du(t.return,e,n)}function Bc(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Yy(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Ue(t,e,r.children,n),r=ce.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jp(t,n,e);else if(t.tag===19)jp(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(re(ce,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Ua(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Bc(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Ua(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Bc(e,!0,n,null,i);break;case"together":Bc(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function oa(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function dn(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Br|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(O(153));if(e.child!==null){for(t=e.child,n=Vn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Vn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function zx(t,e,n){switch(e.tag){case 3:Gy(e),So();break;case 5:xy(e);break;case 1:Ye(e.type)&&Ra(e);break;case 4:vh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;re(Da,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(re(ce,ce.current&1),e.flags|=128,null):n&e.child.childLanes?qy(t,e,n):(re(ce,ce.current&1),t=dn(t,e,n),t!==null?t.sibling:null);re(ce,ce.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Yy(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),re(ce,ce.current),r)break;return null;case 22:case 23:return e.lanes=0,Wy(t,e,n)}return dn(t,e,n)}var Xy,Wu,Jy,Qy;Xy=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Wu=function(){};Jy=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,yr(Dt.current);var i=null;switch(n){case"input":o=fu(t,o),r=fu(t,r),i=[];break;case"select":o=he({},o,{value:void 0}),r=he({},r,{value:void 0}),i=[];break;case"textarea":o=gu(t,o),r=gu(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=La)}yu(n,r);var s;n=null;for(c in o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&o[c]!=null)if(c==="style"){var a=o[c];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(_i.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=o!=null?o[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(_i.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&oe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};Qy=function(t,e,n,r){n!==r&&(e.flags|=4)};function Qo(t,e){if(!ae)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ne(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Wx(t,e,n){var r=e.pendingProps;switch(uh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ne(e),null;case 1:return Ye(e.type)&&Na(),Ne(e),null;case 3:return r=e.stateNode,To(),se(qe),se(Me),bh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Ds(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,kt!==null&&(Zu(kt),kt=null))),Wu(t,e),Ne(e),null;case 5:yh(e);var o=yr(Fi.current);if(n=e.type,t!==null&&e.stateNode!=null)Jy(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(O(166));return Ne(e),null}if(t=yr(Dt.current),Ds(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Rt]=e,r[Di]=i,t=(e.mode&1)!==0,n){case"dialog":oe("cancel",r),oe("close",r);break;case"iframe":case"object":case"embed":oe("load",r);break;case"video":case"audio":for(o=0;o<si.length;o++)oe(si[o],r);break;case"source":oe("error",r);break;case"img":case"image":case"link":oe("error",r),oe("load",r);break;case"details":oe("toggle",r);break;case"input":Gf(r,i),oe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},oe("invalid",r);break;case"textarea":Yf(r,i),oe("invalid",r)}yu(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ms(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ms(r.textContent,a,t),o=["children",""+a]):_i.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&oe("scroll",r)}switch(n){case"input":Is(r),qf(r,i,!0);break;case"textarea":Is(r),Xf(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=La)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Cv(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Rt]=e,t[Di]=r,Xy(t,e,!1,!1),e.stateNode=t;e:{switch(s=bu(n,r),n){case"dialog":oe("cancel",t),oe("close",t),o=r;break;case"iframe":case"object":case"embed":oe("load",t),o=r;break;case"video":case"audio":for(o=0;o<si.length;o++)oe(si[o],t);o=r;break;case"source":oe("error",t),o=r;break;case"img":case"image":case"link":oe("error",t),oe("load",t),o=r;break;case"details":oe("toggle",t),o=r;break;case"input":Gf(t,r),o=fu(t,r),oe("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=he({},r,{value:void 0}),oe("invalid",t);break;case"textarea":Yf(t,r),o=gu(t,r),oe("invalid",t);break;default:o=r}yu(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Iv(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Tv(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ii(t,l):typeof l=="number"&&Ii(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(_i.hasOwnProperty(i)?l!=null&&i==="onScroll"&&oe("scroll",t):l!=null&&Yd(t,i,l,s))}switch(n){case"input":Is(t),qf(t,r,!1);break;case"textarea":Is(t),Xf(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?fo(t,!!r.multiple,i,!1):r.defaultValue!=null&&fo(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=La)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ne(e),null;case 6:if(t&&e.stateNode!=null)Qy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(O(166));if(n=yr(Fi.current),yr(Dt.current),Ds(e)){if(r=e.stateNode,n=e.memoizedProps,r[Rt]=e,(i=r.nodeValue!==n)&&(t=nt,t!==null))switch(t.tag){case 3:Ms(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ms(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Rt]=e,e.stateNode=r}return Ne(e),null;case 13:if(se(ce),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ae&&tt!==null&&e.mode&1&&!(e.flags&128))my(),So(),e.flags|=98560,i=!1;else if(i=Ds(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(O(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(O(317));i[Rt]=e}else So(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ne(e),i=!1}else kt!==null&&(Zu(kt),kt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||ce.current&1?xe===0&&(xe=3):Ph())),e.updateQueue!==null&&(e.flags|=4),Ne(e),null);case 4:return To(),Wu(t,e),t===null&&Oi(e.stateNode.containerInfo),Ne(e),null;case 10:return ph(e.type._context),Ne(e),null;case 17:return Ye(e.type)&&Na(),Ne(e),null;case 19:if(se(ce),i=e.memoizedState,i===null)return Ne(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)Qo(i,!1);else{if(xe!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Ua(t),s!==null){for(e.flags|=128,Qo(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return re(ce,ce.current&1|2),e.child}t=t.sibling}i.tail!==null&&pe()>Io&&(e.flags|=128,r=!0,Qo(i,!1),e.lanes=4194304)}else{if(!r)if(t=Ua(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Qo(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ae)return Ne(e),null}else 2*pe()-i.renderingStartTime>Io&&n!==1073741824&&(e.flags|=128,r=!0,Qo(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=pe(),e.sibling=null,n=ce.current,re(ce,r?n&1|2:n&1),e):(Ne(e),null);case 22:case 23:return Ah(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?et&1073741824&&(Ne(e),e.subtreeFlags&6&&(e.flags|=8192)):Ne(e),null;case 24:return null;case 25:return null}throw Error(O(156,e.tag))}function Kx(t,e){switch(uh(e),e.tag){case 1:return Ye(e.type)&&Na(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return To(),se(qe),se(Me),bh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yh(e),null;case 13:if(se(ce),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(O(340));So()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return se(ce),null;case 4:return To(),null;case 10:return ph(e.type._context),null;case 22:case 23:return Ah(),null;case 24:return null;default:return null}}var Us=!1,Oe=!1,Gx=typeof WeakSet=="function"?WeakSet:Set,j=null;function oo(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){fe(t,e,r)}else n.current=null}function Ku(t,e,n){try{n()}catch(r){fe(t,e,r)}}var Fp=!1;function qx(t,e){if(Bu=Ba,t=ny(),lh(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,c=0,u=0,d=t,h=null;t:for(;;){for(var f;d!==n||o!==0&&d.nodeType!==3||(a=s+o),d!==i||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(f=d.firstChild)!==null;)h=d,d=f;for(;;){if(d===t)break t;if(h===n&&++c===o&&(a=s),h===i&&++u===r&&(l=s),(f=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=f}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Au={focusedElem:t,selectionRange:n},Ba=!1,j=e;j!==null;)if(e=j,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,j=t;else for(;j!==null;){e=j;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,k=m.memoizedState,y=e.stateNode,p=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:bt(e.type,g),k);y.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var v=e.stateNode.containerInfo;v.nodeType===1?v.textContent="":v.nodeType===9&&v.documentElement&&v.removeChild(v.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(w){fe(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,j=t;break}j=e.return}return m=Fp,Fp=!1,m}function vi(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&Ku(e,n,i)}o=o.next}while(o!==r)}}function Tl(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Gu(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Zy(t){var e=t.alternate;e!==null&&(t.alternate=null,Zy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Rt],delete e[Di],delete e[Nu],delete e[Ax],delete e[Px])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function e0(t){return t.tag===5||t.tag===3||t.tag===4}function Up(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||e0(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function qu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=La));else if(r!==4&&(t=t.child,t!==null))for(qu(t,e,n),t=t.sibling;t!==null;)qu(t,e,n),t=t.sibling}function Yu(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Yu(t,e,n),t=t.sibling;t!==null;)Yu(t,e,n),t=t.sibling}var _e=null,wt=!1;function vn(t,e,n){for(n=n.child;n!==null;)t0(t,e,n),n=n.sibling}function t0(t,e,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(yl,n)}catch{}switch(n.tag){case 5:Oe||oo(n,e);case 6:var r=_e,o=wt;_e=null,vn(t,e,n),_e=r,wt=o,_e!==null&&(wt?(t=_e,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):_e.removeChild(n.stateNode));break;case 18:_e!==null&&(wt?(t=_e,n=n.stateNode,t.nodeType===8?xc(t.parentNode,n):t.nodeType===1&&xc(t,n),Li(t)):xc(_e,n.stateNode));break;case 4:r=_e,o=wt,_e=n.stateNode.containerInfo,wt=!0,vn(t,e,n),_e=r,wt=o;break;case 0:case 11:case 14:case 15:if(!Oe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&Ku(n,e,s),o=o.next}while(o!==r)}vn(t,e,n);break;case 1:if(!Oe&&(oo(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){fe(n,e,a)}vn(t,e,n);break;case 21:vn(t,e,n);break;case 22:n.mode&1?(Oe=(r=Oe)||n.memoizedState!==null,vn(t,e,n),Oe=r):vn(t,e,n);break;default:vn(t,e,n)}}function $p(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Gx),e.forEach(function(r){var o=rE.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function mt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:_e=a.stateNode,wt=!1;break e;case 3:_e=a.stateNode.containerInfo,wt=!0;break e;case 4:_e=a.stateNode.containerInfo,wt=!0;break e}a=a.return}if(_e===null)throw Error(O(160));t0(i,s,o),_e=null,wt=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(c){fe(o,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)n0(e,t),e=e.sibling}function n0(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(mt(e,t),Bt(t),r&4){try{vi(3,t,t.return),Tl(3,t)}catch(g){fe(t,t.return,g)}try{vi(5,t,t.return)}catch(g){fe(t,t.return,g)}}break;case 1:mt(e,t),Bt(t),r&512&&n!==null&&oo(n,n.return);break;case 5:if(mt(e,t),Bt(t),r&512&&n!==null&&oo(n,n.return),t.flags&32){var o=t.stateNode;try{Ii(o,"")}catch(g){fe(t,t.return,g)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Ev(o,i),bu(a,s);var c=bu(a,i);for(s=0;s<l.length;s+=2){var u=l[s],d=l[s+1];u==="style"?Iv(o,d):u==="dangerouslySetInnerHTML"?Tv(o,d):u==="children"?Ii(o,d):Yd(o,u,d,c)}switch(a){case"input":pu(o,i);break;case"textarea":Sv(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var f=i.value;f!=null?fo(o,!!i.multiple,f,!1):h!==!!i.multiple&&(i.defaultValue!=null?fo(o,!!i.multiple,i.defaultValue,!0):fo(o,!!i.multiple,i.multiple?[]:"",!1))}o[Di]=i}catch(g){fe(t,t.return,g)}}break;case 6:if(mt(e,t),Bt(t),r&4){if(t.stateNode===null)throw Error(O(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(g){fe(t,t.return,g)}}break;case 3:if(mt(e,t),Bt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Li(e.containerInfo)}catch(g){fe(t,t.return,g)}break;case 4:mt(e,t),Bt(t);break;case 13:mt(e,t),Bt(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Ih=pe())),r&4&&$p(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(Oe=(c=Oe)||u,mt(e,t),Oe=c):mt(e,t),Bt(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(j=t,u=t.child;u!==null;){for(d=j=u;j!==null;){switch(h=j,f=h.child,h.tag){case 0:case 11:case 14:case 15:vi(4,h,h.return);break;case 1:oo(h,h.return);var m=h.stateNode;if(typeof m.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){fe(r,n,g)}}break;case 5:oo(h,h.return);break;case 22:if(h.memoizedState!==null){Hp(d);continue}}f!==null?(f.return=h,j=f):Hp(d)}u=u.sibling}e:for(u=null,d=t;;){if(d.tag===5){if(u===null){u=d;try{o=d.stateNode,c?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=_v("display",s))}catch(g){fe(t,t.return,g)}}}else if(d.tag===6){if(u===null)try{d.stateNode.nodeValue=c?"":d.memoizedProps}catch(g){fe(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;u===d&&(u=null),d=d.return}u===d&&(u=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:mt(e,t),Bt(t),r&4&&$p(t);break;case 21:break;default:mt(e,t),Bt(t)}}function Bt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(e0(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ii(o,""),r.flags&=-33);var i=Up(t);Yu(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=Up(t);qu(t,a,s);break;default:throw Error(O(161))}}catch(l){fe(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Yx(t,e,n){j=t,r0(t)}function r0(t,e,n){for(var r=(t.mode&1)!==0;j!==null;){var o=j,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||Us;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||Oe;a=Us;var c=Oe;if(Us=s,(Oe=l)&&!c)for(j=o;j!==null;)s=j,l=s.child,s.tag===22&&s.memoizedState!==null?zp(o):l!==null?(l.return=s,j=l):zp(o);for(;i!==null;)j=i,r0(i),i=i.sibling;j=o,Us=a,Oe=c}Vp(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,j=i):Vp(t)}}function Vp(t){for(;j!==null;){var e=j;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Oe||Tl(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Oe)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:bt(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Cp(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cp(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var d=u.dehydrated;d!==null&&Li(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}Oe||e.flags&512&&Gu(e)}catch(h){fe(e,e.return,h)}}if(e===t){j=null;break}if(n=e.sibling,n!==null){n.return=e.return,j=n;break}j=e.return}}function Hp(t){for(;j!==null;){var e=j;if(e===t){j=null;break}var n=e.sibling;if(n!==null){n.return=e.return,j=n;break}j=e.return}}function zp(t){for(;j!==null;){var e=j;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Tl(4,e)}catch(l){fe(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){fe(e,o,l)}}var i=e.return;try{Gu(e)}catch(l){fe(e,i,l)}break;case 5:var s=e.return;try{Gu(e)}catch(l){fe(e,s,l)}}}catch(l){fe(e,e.return,l)}if(e===t){j=null;break}var a=e.sibling;if(a!==null){a.return=e.return,j=a;break}j=e.return}}var Xx=Math.ceil,Ha=gn.ReactCurrentDispatcher,Th=gn.ReactCurrentOwner,dt=gn.ReactCurrentBatchConfig,Q=0,Ce=null,ve=null,Ie=0,et=0,io=er(0),xe=0,Hi=null,Br=0,_l=0,_h=0,yi=null,ze=null,Ih=0,Io=1/0,Kt=null,za=!1,Xu=null,Un=null,$s=!1,Nn=null,Wa=0,bi=0,Ju=null,ia=-1,sa=0;function $e(){return Q&6?pe():ia!==-1?ia:ia=pe()}function $n(t){return t.mode&1?Q&2&&Ie!==0?Ie&-Ie:Nx.transition!==null?(sa===0&&(sa=Uv()),sa):(t=ee,t!==0||(t=window.event,t=t===void 0?16:Gv(t.type)),t):1}function Ct(t,e,n,r){if(50<bi)throw bi=0,Ju=null,Error(O(185));rs(t,n,r),(!(Q&2)||t!==Ce)&&(t===Ce&&(!(Q&2)&&(_l|=n),xe===4&&_n(t,Ie)),Xe(t,r),n===1&&Q===0&&!(e.mode&1)&&(Io=pe()+500,El&&tr()))}function Xe(t,e){var n=t.callbackNode;Nk(t,e);var r=Ia(t,t===Ce?Ie:0);if(r===0)n!==null&&Zf(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Zf(n),e===1)t.tag===0?Lx(Wp.bind(null,t)):hy(Wp.bind(null,t)),Ix(function(){!(Q&6)&&tr()}),n=null;else{switch($v(r)){case 1:n=eh;break;case 4:n=jv;break;case 16:n=_a;break;case 536870912:n=Fv;break;default:n=_a}n=d0(n,o0.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function o0(t,e){if(ia=-1,sa=0,Q&6)throw Error(O(327));var n=t.callbackNode;if(yo()&&t.callbackNode!==n)return null;var r=Ia(t,t===Ce?Ie:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ka(t,r);else{e=r;var o=Q;Q|=2;var i=s0();(Ce!==t||Ie!==e)&&(Kt=null,Io=pe()+500,kr(t,e));do try{Zx();break}catch(a){i0(t,a)}while(1);fh(),Ha.current=i,Q=o,ve!==null?e=0:(Ce=null,Ie=0,e=xe)}if(e!==0){if(e===2&&(o=Su(t),o!==0&&(r=o,e=Qu(t,o))),e===1)throw n=Hi,kr(t,0),_n(t,r),Xe(t,pe()),n;if(e===6)_n(t,r);else{if(o=t.current.alternate,!(r&30)&&!Jx(o)&&(e=Ka(t,r),e===2&&(i=Su(t),i!==0&&(r=i,e=Qu(t,i))),e===1))throw n=Hi,kr(t,0),_n(t,r),Xe(t,pe()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(O(345));case 2:dr(t,ze,Kt);break;case 3:if(_n(t,r),(r&130023424)===r&&(e=Ih+500-pe(),10<e)){if(Ia(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){$e(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Lu(dr.bind(null,t,ze,Kt),e);break}dr(t,ze,Kt);break;case 4:if(_n(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-St(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=pe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Xx(r/1960))-r,10<r){t.timeoutHandle=Lu(dr.bind(null,t,ze,Kt),r);break}dr(t,ze,Kt);break;case 5:dr(t,ze,Kt);break;default:throw Error(O(329))}}}return Xe(t,pe()),t.callbackNode===n?o0.bind(null,t):null}function Qu(t,e){var n=yi;return t.current.memoizedState.isDehydrated&&(kr(t,e).flags|=256),t=Ka(t,e),t!==2&&(e=ze,ze=n,e!==null&&Zu(e)),t}function Zu(t){ze===null?ze=t:ze.push.apply(ze,t)}function Jx(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!Tt(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function _n(t,e){for(e&=~_h,e&=~_l,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-St(e),r=1<<n;t[n]=-1,e&=~r}}function Wp(t){if(Q&6)throw Error(O(327));yo();var e=Ia(t,0);if(!(e&1))return Xe(t,pe()),null;var n=Ka(t,e);if(t.tag!==0&&n===2){var r=Su(t);r!==0&&(e=r,n=Qu(t,r))}if(n===1)throw n=Hi,kr(t,0),_n(t,e),Xe(t,pe()),n;if(n===6)throw Error(O(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,dr(t,ze,Kt),Xe(t,pe()),null}function Bh(t,e){var n=Q;Q|=1;try{return t(e)}finally{Q=n,Q===0&&(Io=pe()+500,El&&tr())}}function Ar(t){Nn!==null&&Nn.tag===0&&!(Q&6)&&yo();var e=Q;Q|=1;var n=dt.transition,r=ee;try{if(dt.transition=null,ee=1,t)return t()}finally{ee=r,dt.transition=n,Q=e,!(Q&6)&&tr()}}function Ah(){et=io.current,se(io)}function kr(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,_x(n)),ve!==null)for(n=ve.return;n!==null;){var r=n;switch(uh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Na();break;case 3:To(),se(qe),se(Me),bh();break;case 5:yh(r);break;case 4:To();break;case 13:se(ce);break;case 19:se(ce);break;case 10:ph(r.type._context);break;case 22:case 23:Ah()}n=n.return}if(Ce=t,ve=t=Vn(t.current,null),Ie=et=e,xe=0,Hi=null,_h=_l=Br=0,ze=yi=null,vr!==null){for(e=0;e<vr.length;e++)if(n=vr[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}vr=null}return t}function i0(t,e){do{var n=ve;try{if(fh(),na.current=Va,$a){for(var r=de.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}$a=!1}if(Ir=0,Se=we=de=null,gi=!1,Ui=0,Th.current=null,n===null||n.return===null){xe=1,Hi=e,ve=null;break}e:{var i=t,s=n.return,a=n,l=e;if(e=Ie,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=a,d=u.tag;if(!(u.mode&1)&&(d===0||d===11||d===15)){var h=u.alternate;h?(u.updateQueue=h.updateQueue,u.memoizedState=h.memoizedState,u.lanes=h.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=Lp(s);if(f!==null){f.flags&=-257,Np(f,s,a,i,e),f.mode&1&&Pp(i,c,e),e=f,l=c;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){Pp(i,c,e),Ph();break e}l=Error(O(426))}}else if(ae&&a.mode&1){var k=Lp(s);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Np(k,s,a,i,e),dh(_o(l,a));break e}}i=l=_o(l,a),xe!==4&&(xe=2),yi===null?yi=[i]:yi.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var y=Vy(i,l,e);Sp(i,y);break e;case 1:a=l;var p=i.type,v=i.stateNode;if(!(i.flags&128)&&(typeof p.getDerivedStateFromError=="function"||v!==null&&typeof v.componentDidCatch=="function"&&(Un===null||!Un.has(v)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Hy(i,a,e);Sp(i,w);break e}}i=i.return}while(i!==null)}l0(n)}catch(x){e=x,ve===n&&n!==null&&(ve=n=n.return);continue}break}while(1)}function s0(){var t=Ha.current;return Ha.current=Va,t===null?Va:t}function Ph(){(xe===0||xe===3||xe===2)&&(xe=4),Ce===null||!(Br&268435455)&&!(_l&268435455)||_n(Ce,Ie)}function Ka(t,e){var n=Q;Q|=2;var r=s0();(Ce!==t||Ie!==e)&&(Kt=null,kr(t,e));do try{Qx();break}catch(o){i0(t,o)}while(1);if(fh(),Q=n,Ha.current=r,ve!==null)throw Error(O(261));return Ce=null,Ie=0,xe}function Qx(){for(;ve!==null;)a0(ve)}function Zx(){for(;ve!==null&&!Sk();)a0(ve)}function a0(t){var e=u0(t.alternate,t,et);t.memoizedProps=t.pendingProps,e===null?l0(t):ve=e,Th.current=null}function l0(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Kx(n,e),n!==null){n.flags&=32767,ve=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xe=6,ve=null;return}}else if(n=Wx(n,e,et),n!==null){ve=n;return}if(e=e.sibling,e!==null){ve=e;return}ve=e=t}while(e!==null);xe===0&&(xe=5)}function dr(t,e,n){var r=ee,o=dt.transition;try{dt.transition=null,ee=1,eE(t,e,n,r)}finally{dt.transition=o,ee=r}return null}function eE(t,e,n,r){do yo();while(Nn!==null);if(Q&6)throw Error(O(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(O(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(Rk(t,i),t===Ce&&(ve=Ce=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||$s||($s=!0,d0(_a,function(){return yo(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=dt.transition,dt.transition=null;var s=ee;ee=1;var a=Q;Q|=4,Th.current=null,qx(t,n),n0(n,t),wx(Au),Ba=!!Bu,Au=Bu=null,t.current=n,Yx(n),Ck(),Q=a,ee=s,dt.transition=i}else t.current=n;if($s&&($s=!1,Nn=t,Wa=o),i=t.pendingLanes,i===0&&(Un=null),Ik(n.stateNode),Xe(t,pe()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(za)throw za=!1,t=Xu,Xu=null,t;return Wa&1&&t.tag!==0&&yo(),i=t.pendingLanes,i&1?t===Ju?bi++:(bi=0,Ju=t):bi=0,tr(),null}function yo(){if(Nn!==null){var t=$v(Wa),e=dt.transition,n=ee;try{if(dt.transition=null,ee=16>t?16:t,Nn===null)var r=!1;else{if(t=Nn,Nn=null,Wa=0,Q&6)throw Error(O(331));var o=Q;for(Q|=4,j=t.current;j!==null;){var i=j,s=i.child;if(j.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(j=c;j!==null;){var u=j;switch(u.tag){case 0:case 11:case 15:vi(8,u,i)}var d=u.child;if(d!==null)d.return=u,j=d;else for(;j!==null;){u=j;var h=u.sibling,f=u.return;if(Zy(u),u===c){j=null;break}if(h!==null){h.return=f,j=h;break}j=f}}}var m=i.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var k=g.sibling;g.sibling=null,g=k}while(g!==null)}}j=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,j=s;else e:for(;j!==null;){if(i=j,i.flags&2048)switch(i.tag){case 0:case 11:case 15:vi(9,i,i.return)}var y=i.sibling;if(y!==null){y.return=i.return,j=y;break e}j=i.return}}var p=t.current;for(j=p;j!==null;){s=j;var v=s.child;if(s.subtreeFlags&2064&&v!==null)v.return=s,j=v;else e:for(s=p;j!==null;){if(a=j,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Tl(9,a)}}catch(x){fe(a,a.return,x)}if(a===s){j=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,j=w;break e}j=a.return}}if(Q=o,tr(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(yl,t)}catch{}r=!0}return r}finally{ee=n,dt.transition=e}}return!1}function Kp(t,e,n){e=_o(n,e),e=Vy(t,e,1),t=Fn(t,e,1),e=$e(),t!==null&&(rs(t,1,e),Xe(t,e))}function fe(t,e,n){if(t.tag===3)Kp(t,t,n);else for(;e!==null;){if(e.tag===3){Kp(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Un===null||!Un.has(r))){t=_o(n,t),t=Hy(e,t,1),e=Fn(e,t,1),t=$e(),e!==null&&(rs(e,1,t),Xe(e,t));break}}e=e.return}}function tE(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=$e(),t.pingedLanes|=t.suspendedLanes&n,Ce===t&&(Ie&n)===n&&(xe===4||xe===3&&(Ie&130023424)===Ie&&500>pe()-Ih?kr(t,0):_h|=n),Xe(t,e)}function c0(t,e){e===0&&(t.mode&1?(e=Ps,Ps<<=1,!(Ps&130023424)&&(Ps=4194304)):e=1);var n=$e();t=un(t,e),t!==null&&(rs(t,e,n),Xe(t,n))}function nE(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),c0(t,n)}function rE(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(e),c0(t,n)}var u0;u0=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||qe.current)We=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return We=!1,zx(t,e,n);We=!!(t.flags&131072)}else We=!1,ae&&e.flags&1048576&&fy(e,Ma,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;oa(t,e),t=e.pendingProps;var o=Eo(e,Me.current);vo(e,n),o=kh(null,e,r,t,o,n);var i=xh();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ye(r)?(i=!0,Ra(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,gh(e),o.updater=Sl,e.stateNode=o,o._reactInternals=e,Fu(e,r,t,n),e=Vu(null,e,r,!0,i,n)):(e.tag=0,ae&&i&&ch(e),Ue(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(oa(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=iE(r),t=bt(r,t),o){case 0:e=$u(null,e,r,t,n);break e;case 1:e=Mp(null,e,r,t,n);break e;case 11:e=Rp(null,e,r,t,n);break e;case 14:e=Op(null,e,r,bt(r.type,t),n);break e}throw Error(O(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:bt(r,o),$u(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:bt(r,o),Mp(t,e,r,o,n);case 3:e:{if(Gy(e),t===null)throw Error(O(387));r=e.pendingProps,i=e.memoizedState,o=i.element,vy(t,e),Fa(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=_o(Error(O(423)),e),e=Dp(t,e,r,n,o);break e}else if(r!==o){o=_o(Error(O(424)),e),e=Dp(t,e,r,n,o);break e}else for(tt=jn(e.stateNode.containerInfo.firstChild),nt=e,ae=!0,kt=null,n=ky(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(So(),r===o){e=dn(t,e,n);break e}Ue(t,e,r,n)}e=e.child}return e;case 5:return xy(e),t===null&&Mu(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,Pu(r,o)?s=null:i!==null&&Pu(r,i)&&(e.flags|=32),Ky(t,e),Ue(t,e,s,n),e.child;case 6:return t===null&&Mu(e),null;case 13:return qy(t,e,n);case 4:return vh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Co(e,null,r,n):Ue(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:bt(r,o),Rp(t,e,r,o,n);case 7:return Ue(t,e,e.pendingProps,n),e.child;case 8:return Ue(t,e,e.pendingProps.children,n),e.child;case 12:return Ue(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,re(Da,r._currentValue),r._currentValue=s,i!==null)if(Tt(i.value,s)){if(i.children===o.children&&!qe.current){e=dn(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=rn(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Du(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(O(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Du(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Ue(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,vo(e,n),o=ft(o),r=r(o),e.flags|=1,Ue(t,e,r,n),e.child;case 14:return r=e.type,o=bt(r,e.pendingProps),o=bt(r.type,o),Op(t,e,r,o,n);case 15:return zy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:bt(r,o),oa(t,e),e.tag=1,Ye(r)?(t=!0,Ra(e)):t=!1,vo(e,n),by(e,r,o),Fu(e,r,o,n),Vu(null,e,r,!0,t,n);case 19:return Yy(t,e,n);case 22:return Wy(t,e,n)}throw Error(O(156,e.tag))};function d0(t,e){return Dv(t,e)}function oE(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ut(t,e,n,r){return new oE(t,e,n,r)}function Lh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function iE(t){if(typeof t=="function")return Lh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Jd)return 11;if(t===Qd)return 14}return 2}function Vn(t,e){var n=t.alternate;return n===null?(n=ut(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function aa(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")Lh(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Yr:return xr(n.children,o,i,e);case Xd:s=8,o|=8;break;case cu:return t=ut(12,n,e,o|2),t.elementType=cu,t.lanes=i,t;case uu:return t=ut(13,n,e,o),t.elementType=uu,t.lanes=i,t;case du:return t=ut(19,n,e,o),t.elementType=du,t.lanes=i,t;case wv:return Il(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case yv:s=10;break e;case bv:s=9;break e;case Jd:s=11;break e;case Qd:s=14;break e;case xn:s=16,r=null;break e}throw Error(O(130,t==null?t:typeof t,""))}return e=ut(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function xr(t,e,n,r){return t=ut(7,t,r,e),t.lanes=n,t}function Il(t,e,n,r){return t=ut(22,t,r,e),t.elementType=wv,t.lanes=n,t.stateNode={isHidden:!1},t}function Ac(t,e,n){return t=ut(6,t,null,e),t.lanes=n,t}function Pc(t,e,n){return e=ut(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function sE(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=dc(0),this.expirationTimes=dc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=dc(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Nh(t,e,n,r,o,i,s,a,l){return t=new sE(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=ut(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},gh(i),t}function aE(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:qr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function h0(t){if(!t)return Yn;t=t._reactInternals;e:{if(Or(t)!==t||t.tag!==1)throw Error(O(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ye(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(O(171))}if(t.tag===1){var n=t.type;if(Ye(n))return dy(t,n,e)}return e}function f0(t,e,n,r,o,i,s,a,l){return t=Nh(n,r,!0,t,o,i,s,a,l),t.context=h0(null),n=t.current,r=$e(),o=$n(n),i=rn(r,o),i.callback=e??null,Fn(n,i,o),t.current.lanes=o,rs(t,o,r),Xe(t,r),t}function Bl(t,e,n,r){var o=e.current,i=$e(),s=$n(o);return n=h0(n),e.context===null?e.context=n:e.pendingContext=n,e=rn(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Fn(o,e,s),t!==null&&(Ct(t,o,s,i),ta(t,o,s)),s}function Ga(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Gp(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Rh(t,e){Gp(t,e),(t=t.alternate)&&Gp(t,e)}function lE(){return null}var p0=typeof reportError=="function"?reportError:function(t){console.error(t)};function Oh(t){this._internalRoot=t}Al.prototype.render=Oh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(O(409));Bl(t,e,null,null)};Al.prototype.unmount=Oh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ar(function(){Bl(null,t,null,null)}),e[cn]=null}};function Al(t){this._internalRoot=t}Al.prototype.unstable_scheduleHydration=function(t){if(t){var e=zv();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Tn.length&&e!==0&&e<Tn[n].priority;n++);Tn.splice(n,0,t),n===0&&Kv(t)}};function Mh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Pl(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function qp(){}function cE(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var c=Ga(s);i.call(c)}}var s=f0(e,r,t,0,null,!1,!1,"",qp);return t._reactRootContainer=s,t[cn]=s.current,Oi(t.nodeType===8?t.parentNode:t),Ar(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var c=Ga(l);a.call(c)}}var l=Nh(t,0,!1,null,null,!1,!1,"",qp);return t._reactRootContainer=l,t[cn]=l.current,Oi(t.nodeType===8?t.parentNode:t),Ar(function(){Bl(e,l,n,r)}),l}function Ll(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=Ga(s);a.call(l)}}Bl(e,s,t,o)}else s=cE(n,e,t,o,r);return Ga(s)}Vv=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ii(e.pendingLanes);n!==0&&(th(e,n|1),Xe(e,pe()),!(Q&6)&&(Io=pe()+500,tr()))}break;case 13:Ar(function(){var r=un(t,1);if(r!==null){var o=$e();Ct(r,t,1,o)}}),Rh(t,1)}};nh=function(t){if(t.tag===13){var e=un(t,134217728);if(e!==null){var n=$e();Ct(e,t,134217728,n)}Rh(t,134217728)}};Hv=function(t){if(t.tag===13){var e=$n(t),n=un(t,e);if(n!==null){var r=$e();Ct(n,t,e,r)}Rh(t,e)}};zv=function(){return ee};Wv=function(t,e){var n=ee;try{return ee=t,e()}finally{ee=n}};ku=function(t,e,n){switch(e){case"input":if(pu(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=xl(r);if(!o)throw Error(O(90));xv(r),pu(r,o)}}}break;case"textarea":Sv(t,n);break;case"select":e=n.value,e!=null&&fo(t,!!n.multiple,e,!1)}};Pv=Bh;Lv=Ar;var uE={usingClientEntryPoint:!1,Events:[is,Zr,xl,Bv,Av,Bh]},Zo={findFiberByHostInstance:gr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},dE={bundleType:Zo.bundleType,version:Zo.version,rendererPackageName:Zo.rendererPackageName,rendererConfig:Zo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ov(t),t===null?null:t.stateNode},findFiberByHostInstance:Zo.findFiberByHostInstance||lE,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vs=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vs.isDisabled&&Vs.supportsFiber)try{yl=Vs.inject(dE),Mt=Vs}catch{}}it.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=uE;it.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mh(e))throw Error(O(200));return aE(t,e,null,n)};it.createRoot=function(t,e){if(!Mh(t))throw Error(O(299));var n=!1,r="",o=p0;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Nh(t,1,!1,null,null,n,!1,r,o),t[cn]=e.current,Oi(t.nodeType===8?t.parentNode:t),new Oh(e)};it.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(O(188)):(t=Object.keys(t).join(","),Error(O(268,t)));return t=Ov(e),t=t===null?null:t.stateNode,t};it.flushSync=function(t){return Ar(t)};it.hydrate=function(t,e,n){if(!Pl(e))throw Error(O(200));return Ll(null,t,e,!0,n)};it.hydrateRoot=function(t,e,n){if(!Mh(t))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=p0;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=f0(e,null,t,1,n??null,o,!1,i,s),t[cn]=e.current,Oi(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new Al(e)};it.render=function(t,e,n){if(!Pl(e))throw Error(O(200));return Ll(null,t,e,!1,n)};it.unmountComponentAtNode=function(t){if(!Pl(t))throw Error(O(40));return t._reactRootContainer?(Ar(function(){Ll(null,null,t,!1,function(){t._reactRootContainer=null,t[cn]=null})}),!0):!1};it.unstable_batchedUpdates=Bh;it.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Pl(n))throw Error(O(200));if(t==null||t._reactInternals===void 0)throw Error(O(38));return Ll(t,e,n,!1,r)};it.version="18.2.0-next-9e3b772b8-20220608";function m0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(m0)}catch(t){console.error(t)}}m0(),fv.exports=it;var hE=fv.exports,Yp=hE;au.createRoot=Yp.createRoot,au.hydrateRoot=Yp.hydrateRoot;/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function zi(){return zi=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},zi.apply(this,arguments)}var Rn;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Rn||(Rn={}));const Xp="popstate";function fE(t){t===void 0&&(t={});function e(r,o){let{pathname:i,search:s,hash:a}=r.location;return ed("",{pathname:i,search:s,hash:a},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(r,o){return typeof o=="string"?o:qa(o)}return mE(e,n,null,t)}function me(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Dh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function pE(){return Math.random().toString(36).substr(2,8)}function Jp(t,e){return{usr:t.state,key:t.key,idx:e}}function ed(t,e,n,r){return n===void 0&&(n=null),zi({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Uo(e):e,{state:n,key:e&&e.key||r||pE()})}function qa(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Uo(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function mE(t,e,n,r){r===void 0&&(r={});let{window:o=document.defaultView,v5Compat:i=!1}=r,s=o.history,a=Rn.Pop,l=null,c=u();c==null&&(c=0,s.replaceState(zi({},s.state,{idx:c}),""));function u(){return(s.state||{idx:null}).idx}function d(){a=Rn.Pop;let k=u(),y=k==null?null:k-c;c=k,l&&l({action:a,location:g.location,delta:y})}function h(k,y){a=Rn.Push;let p=ed(g.location,k,y);n&&n(p,k),c=u()+1;let v=Jp(p,c),w=g.createHref(p);try{s.pushState(v,"",w)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;o.location.assign(w)}i&&l&&l({action:a,location:g.location,delta:1})}function f(k,y){a=Rn.Replace;let p=ed(g.location,k,y);n&&n(p,k),c=u();let v=Jp(p,c),w=g.createHref(p);s.replaceState(v,"",w),i&&l&&l({action:a,location:g.location,delta:0})}function m(k){let y=o.location.origin!=="null"?o.location.origin:o.location.href,p=typeof k=="string"?k:qa(k);return me(y,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,y)}let g={get action(){return a},get location(){return t(o,s)},listen(k){if(l)throw new Error("A history only accepts one active listener");return o.addEventListener(Xp,d),l=k,()=>{o.removeEventListener(Xp,d),l=null}},createHref(k){return e(o,k)},createURL:m,encodeLocation(k){let y=m(k);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:h,replace:f,go(k){return s.go(k)}};return g}var Qp;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Qp||(Qp={}));function gE(t,e,n){n===void 0&&(n="/");let r=typeof e=="string"?Uo(e):e,o=jh(r.pathname||"/",n);if(o==null)return null;let i=g0(t);vE(i);let s=null;for(let a=0;s==null&&a<i.length;++a)s=TE(i[a],BE(o));return s}function g0(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let o=(i,s,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:s,route:i};l.relativePath.startsWith("/")&&(me(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Hn([r,l.relativePath]),u=n.concat(l);i.children&&i.children.length>0&&(me(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),g0(i.children,e,u,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:SE(c,i.index),routesMeta:u})};return t.forEach((i,s)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))o(i,s);else for(let l of v0(i.path))o(i,s,l)}),e}function v0(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,o=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return o?[i,""]:[i];let s=v0(r.join("/")),a=[];return a.push(...s.map(l=>l===""?i:[i,l].join("/"))),o&&a.push(...s),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function vE(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:CE(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const yE=/^:\w+$/,bE=3,wE=2,kE=1,xE=10,EE=-2,Zp=t=>t==="*";function SE(t,e){let n=t.split("/"),r=n.length;return n.some(Zp)&&(r+=EE),e&&(r+=wE),n.filter(o=>!Zp(o)).reduce((o,i)=>o+(yE.test(i)?bE:i===""?kE:xE),r)}function CE(t,e){return t.length===e.length&&t.slice(0,-1).every((r,o)=>r===e[o])?t[t.length-1]-e[e.length-1]:0}function TE(t,e){let{routesMeta:n}=t,r={},o="/",i=[];for(let s=0;s<n.length;++s){let a=n[s],l=s===n.length-1,c=o==="/"?e:e.slice(o.length)||"/",u=_E({path:a.relativePath,caseSensitive:a.caseSensitive,end:l},c);if(!u)return null;Object.assign(r,u.params);let d=a.route;i.push({params:r,pathname:Hn([o,u.pathname]),pathnameBase:NE(Hn([o,u.pathnameBase])),route:d}),u.pathnameBase!=="/"&&(o=Hn([o,u.pathnameBase]))}return i}function _E(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=IE(t.path,t.caseSensitive,t.end),o=e.match(n);if(!o)return null;let i=o[0],s=i.replace(/(.)\/+$/,"$1"),a=o.slice(1);return{params:r.reduce((c,u,d)=>{if(u==="*"){let h=a[d]||"";s=i.slice(0,i.length-h.length).replace(/(.)\/+$/,"$1")}return c[u]=AE(a[d]||"",u),c},{}),pathname:i,pathnameBase:s,pattern:t}}function IE(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Dh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],o="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,a)=>(r.push(a),"/([^\\/]+)"));return t.endsWith("*")?(r.push("*"),o+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":t!==""&&t!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),r]}function BE(t){try{return decodeURI(t)}catch(e){return Dh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function AE(t,e){try{return decodeURIComponent(t)}catch(n){return Dh(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+n+").")),t}}function jh(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function PE(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:o=""}=typeof t=="string"?Uo(t):t;return{pathname:n?n.startsWith("/")?n:LE(n,e):e,search:RE(r),hash:OE(o)}}function LE(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Lc(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Fh(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Uh(t,e,n,r){r===void 0&&(r=!1);let o;typeof t=="string"?o=Uo(t):(o=zi({},t),me(!o.pathname||!o.pathname.includes("?"),Lc("?","pathname","search",o)),me(!o.pathname||!o.pathname.includes("#"),Lc("#","pathname","hash",o)),me(!o.search||!o.search.includes("#"),Lc("#","search","hash",o)));let i=t===""||o.pathname==="",s=i?"/":o.pathname,a;if(r||s==null)a=n;else{let d=e.length-1;if(s.startsWith("..")){let h=s.split("/");for(;h[0]==="..";)h.shift(),d-=1;o.pathname=h.join("/")}a=d>=0?e[d]:"/"}let l=PE(o,a),c=s&&s!=="/"&&s.endsWith("/"),u=(i||s===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const Hn=t=>t.join("/").replace(/\/\/+/g,"/"),NE=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RE=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OE=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function ME(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const y0=["post","put","patch","delete"];new Set(y0);const DE=["get",...y0];new Set(DE);/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ya(){return Ya=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ya.apply(this,arguments)}const $h=E.createContext(null),jE=E.createContext(null),$o=E.createContext(null),Nl=E.createContext(null),Ht=E.createContext({outlet:null,matches:[],isDataRoute:!1}),b0=E.createContext(null);function FE(t,e){let{relative:n}=e===void 0?{}:e;Vo()||me(!1);let{basename:r,navigator:o}=E.useContext($o),{hash:i,pathname:s,search:a}=k0(t,{relative:n}),l=s;return r!=="/"&&(l=s==="/"?r:Hn([r,s])),o.createHref({pathname:l,search:a,hash:i})}function Vo(){return E.useContext(Nl)!=null}function as(){return Vo()||me(!1),E.useContext(Nl).location}function w0(t){E.useContext($o).static||E.useLayoutEffect(t)}function ls(){let{isDataRoute:t}=E.useContext(Ht);return t?eS():UE()}function UE(){Vo()||me(!1);let t=E.useContext($h),{basename:e,navigator:n}=E.useContext($o),{matches:r}=E.useContext(Ht),{pathname:o}=as(),i=JSON.stringify(Fh(r).map(l=>l.pathnameBase)),s=E.useRef(!1);return w0(()=>{s.current=!0}),E.useCallback(function(l,c){if(c===void 0&&(c={}),!s.current)return;if(typeof l=="number"){n.go(l);return}let u=Uh(l,JSON.parse(i),o,c.relative==="path");t==null&&e!=="/"&&(u.pathname=u.pathname==="/"?e:Hn([e,u.pathname])),(c.replace?n.replace:n.push)(u,c.state,c)},[e,n,i,o,t])}const $E=E.createContext(null);function VE(t){let e=E.useContext(Ht).outlet;return e&&E.createElement($E.Provider,{value:t},e)}function Rl(){let{matches:t}=E.useContext(Ht),e=t[t.length-1];return e?e.params:{}}function k0(t,e){let{relative:n}=e===void 0?{}:e,{matches:r}=E.useContext(Ht),{pathname:o}=as(),i=JSON.stringify(Fh(r).map(s=>s.pathnameBase));return E.useMemo(()=>Uh(t,JSON.parse(i),o,n==="path"),[t,i,o,n])}function HE(t,e){return zE(t,e)}function zE(t,e,n){Vo()||me(!1);let{navigator:r}=E.useContext($o),{matches:o}=E.useContext(Ht),i=o[o.length-1],s=i?i.params:{};i&&i.pathname;let a=i?i.pathnameBase:"/";i&&i.route;let l=as(),c;if(e){var u;let g=typeof e=="string"?Uo(e):e;a==="/"||(u=g.pathname)!=null&&u.startsWith(a)||me(!1),c=g}else c=l;let d=c.pathname||"/",h=a==="/"?d:d.slice(a.length)||"/",f=gE(t,{pathname:h}),m=YE(f&&f.map(g=>Object.assign({},g,{params:Object.assign({},s,g.params),pathname:Hn([a,r.encodeLocation?r.encodeLocation(g.pathname).pathname:g.pathname]),pathnameBase:g.pathnameBase==="/"?a:Hn([a,r.encodeLocation?r.encodeLocation(g.pathnameBase).pathname:g.pathnameBase])})),o,n);return e&&m?E.createElement(Nl.Provider,{value:{location:Ya({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Rn.Pop}},m):m}function WE(){let t=ZE(),e=ME(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,o={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),n?E.createElement("pre",{style:o},n):null,i)}const KE=E.createElement(WE,null);class GE extends E.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error?E.createElement(Ht.Provider,{value:this.props.routeContext},E.createElement(b0.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qE(t){let{routeContext:e,match:n,children:r}=t,o=E.useContext($h);return o&&o.static&&o.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(o.staticContext._deepestRenderedBoundaryId=n.route.id),E.createElement(Ht.Provider,{value:e},r)}function YE(t,e,n){var r;if(e===void 0&&(e=[]),n===void 0&&(n=null),t==null){var o;if((o=n)!=null&&o.errors)t=n.matches;else return null}let i=t,s=(r=n)==null?void 0:r.errors;if(s!=null){let a=i.findIndex(l=>l.route.id&&(s==null?void 0:s[l.route.id]));a>=0||me(!1),i=i.slice(0,Math.min(i.length,a+1))}return i.reduceRight((a,l,c)=>{let u=l.route.id?s==null?void 0:s[l.route.id]:null,d=null;n&&(d=l.route.errorElement||KE);let h=e.concat(i.slice(0,c+1)),f=()=>{let m;return u?m=d:l.route.Component?m=E.createElement(l.route.Component,null):l.route.element?m=l.route.element:m=a,E.createElement(qE,{match:l,routeContext:{outlet:a,matches:h,isDataRoute:n!=null},children:m})};return n&&(l.route.ErrorBoundary||l.route.errorElement||c===0)?E.createElement(GE,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:f(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):f()},null)}var td;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(td||(td={}));var Wi;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(Wi||(Wi={}));function XE(t){let e=E.useContext($h);return e||me(!1),e}function JE(t){let e=E.useContext(jE);return e||me(!1),e}function QE(t){let e=E.useContext(Ht);return e||me(!1),e}function x0(t){let e=QE(),n=e.matches[e.matches.length-1];return n.route.id||me(!1),n.route.id}function ZE(){var t;let e=E.useContext(b0),n=JE(Wi.UseRouteError),r=x0(Wi.UseRouteError);return e||((t=n.errors)==null?void 0:t[r])}function eS(){let{router:t}=XE(td.UseNavigateStable),e=x0(Wi.UseNavigateStable),n=E.useRef(!1);return w0(()=>{n.current=!0}),E.useCallback(function(o,i){i===void 0&&(i={}),n.current&&(typeof o=="number"?t.navigate(o):t.navigate(o,Ya({fromRouteId:e},i)))},[t,e])}function E0(t){let{to:e,replace:n,state:r,relative:o}=t;Vo()||me(!1);let{matches:i}=E.useContext(Ht),{pathname:s}=as(),a=ls(),l=Uh(e,Fh(i).map(u=>u.pathnameBase),s,o==="path"),c=JSON.stringify(l);return E.useEffect(()=>a(JSON.parse(c),{replace:n,state:r,relative:o}),[a,c,o,n,r]),null}function tS(t){return VE(t.context)}function gt(t){me(!1)}function nS(t){let{basename:e="/",children:n=null,location:r,navigationType:o=Rn.Pop,navigator:i,static:s=!1}=t;Vo()&&me(!1);let a=e.replace(/^\/*/,"/"),l=E.useMemo(()=>({basename:a,navigator:i,static:s}),[a,i,s]);typeof r=="string"&&(r=Uo(r));let{pathname:c="/",search:u="",hash:d="",state:h=null,key:f="default"}=r,m=E.useMemo(()=>{let g=jh(c,a);return g==null?null:{location:{pathname:g,search:u,hash:d,state:h,key:f},navigationType:o}},[a,c,u,d,h,f,o]);return m==null?null:E.createElement($o.Provider,{value:l},E.createElement(Nl.Provider,{children:n,value:m}))}function rS(t){let{children:e,location:n}=t;return HE(nd(e),n)}var em;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(em||(em={}));new Promise(()=>{});function nd(t,e){e===void 0&&(e=[]);let n=[];return E.Children.forEach(t,(r,o)=>{if(!E.isValidElement(r))return;let i=[...e,o];if(r.type===E.Fragment){n.push.apply(n,nd(r.props.children,i));return}r.type!==gt&&me(!1),!r.props.index||!r.props.children||me(!1);let s={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(s.children=nd(r.props.children,i)),n.push(s)}),n}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rd(){return rd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rd.apply(this,arguments)}function oS(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}function iS(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sS(t,e){return t.button===0&&(!e||e==="_self")&&!iS(t)}const aS=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],lS="startTransition",tm=nk[lS];function cS(t){let{basename:e,children:n,future:r,window:o}=t,i=E.useRef();i.current==null&&(i.current=fE({window:o,v5Compat:!0}));let s=i.current,[a,l]=E.useState({action:s.action,location:s.location}),{v7_startTransition:c}=r||{},u=E.useCallback(d=>{c&&tm?tm(()=>l(d)):l(d)},[l,c]);return E.useLayoutEffect(()=>s.listen(u),[s,u]),E.createElement(nS,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:s})}const uS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",dS=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ke=E.forwardRef(function(e,n){let{onClick:r,relative:o,reloadDocument:i,replace:s,state:a,target:l,to:c,preventScrollReset:u}=e,d=oS(e,aS),{basename:h}=E.useContext($o),f,m=!1;if(typeof c=="string"&&dS.test(c)&&(f=c,uS))try{let p=new URL(window.location.href),v=c.startsWith("//")?new URL(p.protocol+c):new URL(c),w=jh(v.pathname,h);v.origin===p.origin&&w!=null?c=w+v.search+v.hash:m=!0}catch{}let g=FE(c,{relative:o}),k=hS(c,{replace:s,state:a,target:l,preventScrollReset:u,relative:o});function y(p){r&&r(p),p.defaultPrevented||k(p)}return E.createElement("a",rd({},d,{href:f||g,onClick:m||i?r:y,ref:n,target:l}))});var nm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(nm||(nm={}));var rm;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(rm||(rm={}));function hS(t,e){let{target:n,replace:r,state:o,preventScrollReset:i,relative:s}=e===void 0?{}:e,a=ls(),l=as(),c=k0(t,{relative:s});return E.useCallback(u=>{if(sS(u,n)){u.preventDefault();let d=r!==void 0?r:qa(l)===qa(c);a(t,{replace:d,state:o,preventScrollReset:i,relative:s})}},[l,a,c,r,o,n,t,i,s])}const S0="/assets/logo-e46e85a3.png",C0=E.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),Ol=E.createContext({}),Ml=E.createContext(null),Dl=typeof document<"u",Xa=Dl?E.useLayoutEffect:E.useEffect,T0=E.createContext({strict:!1});function fS(t,e,n,r){const{visualElement:o}=E.useContext(Ol),i=E.useContext(T0),s=E.useContext(Ml),a=E.useContext(C0).reducedMotion,l=E.useRef();r=r||i.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:o,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:a}));const c=l.current;return E.useInsertionEffect(()=>{c&&c.update(n,s)}),Xa(()=>{c&&c.render()}),E.useEffect(()=>{c&&c.updateFeatures()}),(window.HandoffAppearAnimations?Xa:E.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function so(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function pS(t,e,n){return E.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):so(n)&&(n.current=r))},[e])}function Ki(t){return typeof t=="string"||Array.isArray(t)}function jl(t){return typeof t=="object"&&typeof t.start=="function"}const Vh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Hh=["initial",...Vh];function Fl(t){return jl(t.animate)||Hh.some(e=>Ki(t[e]))}function _0(t){return!!(Fl(t)||t.variants)}function mS(t,e){if(Fl(t)){const{initial:n,animate:r}=t;return{initial:n===!1||Ki(n)?n:void 0,animate:Ki(r)?r:void 0}}return t.inherit!==!1?e:{}}function gS(t){const{initial:e,animate:n}=mS(t,E.useContext(Ol));return E.useMemo(()=>({initial:e,animate:n}),[om(e),om(n)])}function om(t){return Array.isArray(t)?t.join(" "):t}const im={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Gi={};for(const t in im)Gi[t]={isEnabled:e=>im[t].some(n=>!!e[n])};function vS(t){for(const e in t)Gi[e]={...Gi[e],...t[e]}}const zh=E.createContext({}),I0=E.createContext({}),yS=Symbol.for("motionComponentSymbol");function bS({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:o}){t&&vS(t);function i(a,l){let c;const u={...E.useContext(C0),...a,layoutId:wS(a)},{isStatic:d}=u,h=gS(a),f=r(a,d);if(!d&&Dl){h.visualElement=fS(o,f,u,e);const m=E.useContext(I0),g=E.useContext(T0).strict;h.visualElement&&(c=h.visualElement.loadFeatures(u,g,t,m))}return E.createElement(Ol.Provider,{value:h},c&&h.visualElement?E.createElement(c,{visualElement:h.visualElement,...u}):null,n(o,a,pS(f,h.visualElement,l),f,d,h.visualElement))}const s=E.forwardRef(i);return s[yS]=o,s}function wS({layoutId:t}){const e=E.useContext(zh).id;return e&&t!==void 0?e+"-"+t:t}function kS(t){function e(r,o={}){return bS(t(r,o))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,o)=>(n.has(o)||n.set(o,e(o)),n.get(o))})}const xS=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Wh(t){return typeof t!="string"||t.includes("-")?!1:!!(xS.indexOf(t)>-1||/[A-Z]/.test(t))}const Ja={};function ES(t){Object.assign(Ja,t)}const cs=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Mr=new Set(cs);function B0(t,{layout:e,layoutId:n}){return Mr.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Ja[t]||t==="opacity")}const Je=t=>!!(t&&t.getVelocity),SS={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CS=cs.length;function TS(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,o){let i="";for(let s=0;s<CS;s++){const a=cs[s];if(t[a]!==void 0){const l=SS[a]||a;i+=`${l}(${t[a]}) `}}return e&&!t.z&&(i+="translateZ(0)"),i=i.trim(),o?i=o(t,r?"":i):n&&r&&(i="none"),i}const A0=t=>e=>typeof e=="string"&&e.startsWith(t),P0=A0("--"),od=A0("var(--"),_S=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,IS=(t,e)=>e&&typeof t=="number"?e.transform(t):t,Xn=(t,e,n)=>Math.min(Math.max(n,t),e),Dr={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},wi={...Dr,transform:t=>Xn(0,1,t)},Hs={...Dr,default:1},ki=t=>Math.round(t*1e5)/1e5,Ul=/(-)?([\d]*\.?[\d])+/g,L0=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,BS=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function us(t){return typeof t=="string"}const ds=t=>({test:e=>us(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),wn=ds("deg"),jt=ds("%"),V=ds("px"),AS=ds("vh"),PS=ds("vw"),sm={...jt,parse:t=>jt.parse(t)/100,transform:t=>jt.transform(t*100)},am={...Dr,transform:Math.round},N0={borderWidth:V,borderTopWidth:V,borderRightWidth:V,borderBottomWidth:V,borderLeftWidth:V,borderRadius:V,radius:V,borderTopLeftRadius:V,borderTopRightRadius:V,borderBottomRightRadius:V,borderBottomLeftRadius:V,width:V,maxWidth:V,height:V,maxHeight:V,size:V,top:V,right:V,bottom:V,left:V,padding:V,paddingTop:V,paddingRight:V,paddingBottom:V,paddingLeft:V,margin:V,marginTop:V,marginRight:V,marginBottom:V,marginLeft:V,rotate:wn,rotateX:wn,rotateY:wn,rotateZ:wn,scale:Hs,scaleX:Hs,scaleY:Hs,scaleZ:Hs,skew:wn,skewX:wn,skewY:wn,distance:V,translateX:V,translateY:V,translateZ:V,x:V,y:V,z:V,perspective:V,transformPerspective:V,opacity:wi,originX:sm,originY:sm,originZ:V,zIndex:am,fillOpacity:wi,strokeOpacity:wi,numOctaves:am};function Kh(t,e,n,r){const{style:o,vars:i,transform:s,transformOrigin:a}=t;let l=!1,c=!1,u=!0;for(const d in e){const h=e[d];if(P0(d)){i[d]=h;continue}const f=N0[d],m=IS(h,f);if(Mr.has(d)){if(l=!0,s[d]=m,!u)continue;h!==(f.default||0)&&(u=!1)}else d.startsWith("origin")?(c=!0,a[d]=m):o[d]=m}if(e.transform||(l||r?o.transform=TS(t.transform,n,u,r):o.transform&&(o.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:f=0}=a;o.transformOrigin=`${d} ${h} ${f}`}}const Gh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function R0(t,e,n){for(const r in e)!Je(e[r])&&!B0(r,n)&&(t[r]=e[r])}function LS({transformTemplate:t},e,n){return E.useMemo(()=>{const r=Gh();return Kh(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function NS(t,e,n){const r=t.style||{},o={};return R0(o,r,t),Object.assign(o,LS(t,e,n)),t.transformValues?t.transformValues(o):o}function RS(t,e,n){const r={},o=NS(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,o.userSelect=o.WebkitUserSelect=o.WebkitTouchCallout="none",o.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=o,r}const OS=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Qa(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||OS.has(t)}let O0=t=>!Qa(t);function MS(t){t&&(O0=e=>e.startsWith("on")?!Qa(e):t(e))}try{MS(require("@emotion/is-prop-valid").default)}catch{}function DS(t,e,n){const r={};for(const o in t)o==="values"&&typeof t.values=="object"||(O0(o)||n===!0&&Qa(o)||!e&&!Qa(o)||t.draggable&&o.startsWith("onDrag"))&&(r[o]=t[o]);return r}function lm(t,e,n){return typeof t=="string"?t:V.transform(e+n*t)}function jS(t,e,n){const r=lm(e,t.x,t.width),o=lm(n,t.y,t.height);return`${r} ${o}`}const FS={offset:"stroke-dashoffset",array:"stroke-dasharray"},US={offset:"strokeDashoffset",array:"strokeDasharray"};function $S(t,e,n=1,r=0,o=!0){t.pathLength=1;const i=o?FS:US;t[i.offset]=V.transform(-r);const s=V.transform(e),a=V.transform(n);t[i.array]=`${s} ${a}`}function qh(t,{attrX:e,attrY:n,attrScale:r,originX:o,originY:i,pathLength:s,pathSpacing:a=1,pathOffset:l=0,...c},u,d,h){if(Kh(t,c,u,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:m,dimensions:g}=t;f.transform&&(g&&(m.transform=f.transform),delete f.transform),g&&(o!==void 0||i!==void 0||m.transform)&&(m.transformOrigin=jS(g,o!==void 0?o:.5,i!==void 0?i:.5)),e!==void 0&&(f.x=e),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),s!==void 0&&$S(f,s,a,l,!1)}const M0=()=>({...Gh(),attrs:{}}),Yh=t=>typeof t=="string"&&t.toLowerCase()==="svg";function VS(t,e,n,r){const o=E.useMemo(()=>{const i=M0();return qh(i,e,{enableHardwareAcceleration:!1},Yh(r),t.transformTemplate),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};R0(i,t.style,t),o.style={...i,...o.style}}return o}function HS(t=!1){return(n,r,o,{latestValues:i},s)=>{const l=(Wh(n)?VS:RS)(r,i,s,n),u={...DS(r,typeof n=="string",t),...l,ref:o},{children:d}=r,h=E.useMemo(()=>Je(d)?d.get():d,[d]);return E.createElement(n,{...u,children:h})}}const Xh=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function D0(t,{style:e,vars:n},r,o){Object.assign(t.style,e,o&&o.getProjectionStyles(r));for(const i in n)t.style.setProperty(i,n[i])}const j0=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function F0(t,e,n,r){D0(t,e,void 0,r);for(const o in e.attrs)t.setAttribute(j0.has(o)?o:Xh(o),e.attrs[o])}function Jh(t,e){const{style:n}=t,r={};for(const o in n)(Je(n[o])||e.style&&Je(e.style[o])||B0(o,t))&&(r[o]=n[o]);return r}function U0(t,e){const n=Jh(t,e);for(const r in t)if(Je(t[r])||Je(e[r])){const o=cs.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[o]=t[r]}return n}function Qh(t,e,n,r={},o={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,o)),e}function $0(t){const e=E.useRef(null);return e.current===null&&(e.current=t()),e.current}const Za=t=>Array.isArray(t),zS=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),WS=t=>Za(t)?t[t.length-1]||0:t;function la(t){const e=Je(t)?t.get():t;return zS(e)?e.toValue():e}function KS({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,o,i){const s={latestValues:GS(r,o,i,t),renderState:e()};return n&&(s.mount=a=>n(r,a,s)),s}const V0=t=>(e,n)=>{const r=E.useContext(Ol),o=E.useContext(Ml),i=()=>KS(t,e,r,o);return n?i():$0(i)};function GS(t,e,n,r){const o={},i=r(t,{});for(const h in i)o[h]=la(i[h]);let{initial:s,animate:a}=t;const l=Fl(t),c=_0(t);e&&c&&!l&&t.inherit!==!1&&(s===void 0&&(s=e.initial),a===void 0&&(a=e.animate));let u=n?n.initial===!1:!1;u=u||s===!1;const d=u?a:s;return d&&typeof d!="boolean"&&!jl(d)&&(Array.isArray(d)?d:[d]).forEach(f=>{const m=Qh(t,f);if(!m)return;const{transitionEnd:g,transition:k,...y}=m;for(const p in y){let v=y[p];if(Array.isArray(v)){const w=u?v.length-1:0;v=v[w]}v!==null&&(o[p]=v)}for(const p in g)o[p]=g[p]}),o}const qS={useVisualState:V0({scrapeMotionValuesFromProps:U0,createRenderState:M0,onMount:(t,e,{renderState:n,latestValues:r})=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}qh(n,r,{enableHardwareAcceleration:!1},Yh(e.tagName),t.transformTemplate),F0(e,n)}})},YS={useVisualState:V0({scrapeMotionValuesFromProps:Jh,createRenderState:Gh})};function XS(t,{forwardMotionProps:e=!1},n,r){return{...Wh(t)?qS:YS,preloadedFeatures:n,useRender:HS(e),createVisualElement:r,Component:t}}function Qt(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const H0=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function $l(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const JS=t=>e=>H0(e)&&t(e,$l(e));function on(t,e,n,r){return Qt(t,e,JS(n),r)}const QS=(t,e)=>n=>e(t(n)),zn=(...t)=>t.reduce(QS);function z0(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const cm=z0("dragHorizontal"),um=z0("dragVertical");function W0(t){let e=!1;if(t==="y")e=um();else if(t==="x")e=cm();else{const n=cm(),r=um();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function K0(){const t=W0(!0);return t?(t(),!1):!0}class nr{constructor(e){this.isMounted=!1,this.node=e}update(){}}const ye=t=>t;function ZS(t){let e=[],n=[],r=0,o=!1,i=!1;const s=new WeakSet,a={schedule:(l,c=!1,u=!1)=>{const d=u&&o,h=d?e:n;return c&&s.add(l),h.indexOf(l)===-1&&(h.push(l),d&&o&&(r=e.length)),l},cancel:l=>{const c=n.indexOf(l);c!==-1&&n.splice(c,1),s.delete(l)},process:l=>{if(o){i=!0;return}if(o=!0,[e,n]=[n,e],n.length=0,r=e.length,r)for(let c=0;c<r;c++){const u=e[c];u(l),s.has(u)&&(a.schedule(u),t())}o=!1,i&&(i=!1,a.process(l))}};return a}const zs=["prepare","read","update","preRender","render","postRender"],eC=40;function tC(t,e){let n=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},i=zs.reduce((d,h)=>(d[h]=ZS(()=>n=!0),d),{}),s=d=>i[d].process(o),a=d=>{n=!1,o.delta=r?1e3/60:Math.max(Math.min(d-o.timestamp,eC),1),o.timestamp=d,o.isProcessing=!0,zs.forEach(s),o.isProcessing=!1,n&&e&&(r=!1,t(a))},l=()=>{n=!0,r=!0,o.isProcessing||t(a)};return{schedule:zs.reduce((d,h)=>{const f=i[h];return d[h]=(m,g=!1,k=!1)=>(n||l(),f.schedule(m,g,k)),d},{}),cancel:d=>zs.forEach(h=>i[h].cancel(d)),state:o,steps:i}}const{schedule:le,cancel:hn,state:Re,steps:Nc}=tC(typeof requestAnimationFrame<"u"?requestAnimationFrame:ye,!0);function dm(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),o=(i,s)=>{if(i.type==="touch"||K0())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[r]&&le.update(()=>a[r](i,s))};return on(t.current,n,o,{passive:!t.getProps()[r]})}class nC extends nr{mount(){this.unmount=zn(dm(this.node,!0),dm(this.node,!1))}unmount(){}}class rC extends nr{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zn(Qt(this.node.current,"focus",()=>this.onFocus()),Qt(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const G0=(t,e)=>e?t===e?!0:G0(t,e.parentElement):!1;function Rc(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,$l(n))}class oC extends nr{constructor(){super(...arguments),this.removeStartListeners=ye,this.removeEndListeners=ye,this.removeAccessibleListeners=ye,this.startPointerPress=(e,n)=>{if(this.removeEndListeners(),this.isPressing)return;const r=this.node.getProps(),i=on(window,"pointerup",(a,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u}=this.node.getProps();le.update(()=>{G0(this.node.current,a.target)?c&&c(a,l):u&&u(a,l)})},{passive:!(r.onTap||r.onPointerUp)}),s=on(window,"pointercancel",(a,l)=>this.cancelPress(a,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=zn(i,s),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=i=>{if(i.key!=="Enter"||this.isPressing)return;const s=a=>{a.key!=="Enter"||!this.checkPressEnd()||Rc("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&le.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=Qt(this.node.current,"keyup",s),Rc("down",(a,l)=>{this.startPress(a,l)})},n=Qt(this.node.current,"keydown",e),r=()=>{this.isPressing&&Rc("cancel",(i,s)=>this.cancelPress(i,s))},o=Qt(this.node.current,"blur",r);this.removeAccessibleListeners=zn(n,o)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&le.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!K0()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&le.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=on(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=Qt(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=zn(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const id=new WeakMap,Oc=new WeakMap,iC=t=>{const e=id.get(t.target);e&&e(t)},sC=t=>{t.forEach(iC)};function aC({root:t,...e}){const n=t||document;Oc.has(n)||Oc.set(n,{});const r=Oc.get(n),o=JSON.stringify(e);return r[o]||(r[o]=new IntersectionObserver(sC,{root:t,...e})),r[o]}function lC(t,e,n){const r=aC(e);return id.set(t,n),r.observe(t),()=>{id.delete(t),r.unobserve(t)}}const cC={some:0,all:1};class uC extends nr{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:o="some",once:i}=e,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:cC[o]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,i&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:d}=this.node.getProps(),h=c?u:d;h&&h(l)};return lC(this.node.current,s,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(dC(e,n))&&this.startObserver()}unmount(){}}function dC({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const hC={inView:{Feature:uC},tap:{Feature:oC},focus:{Feature:rC},hover:{Feature:nC}};function q0(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function fC(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function pC(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function Vl(t,e,n){const r=t.getProps();return Qh(r,e,n!==void 0?n:r.custom,fC(t),pC(t))}const mC="framerAppearId",gC="data-"+Xh(mC);let vC=ye,Zh=ye;const Wn=t=>t*1e3,sn=t=>t/1e3,yC={current:!1},Y0=t=>Array.isArray(t)&&typeof t[0]=="number";function X0(t){return!!(!t||typeof t=="string"&&J0[t]||Y0(t)||Array.isArray(t)&&t.every(X0))}const ai=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,J0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:ai([0,.65,.55,1]),circOut:ai([.55,0,1,.45]),backIn:ai([.31,.01,.66,-.59]),backOut:ai([.33,1.53,.69,.99])};function Q0(t){if(t)return Y0(t)?ai(t):Array.isArray(t)?t.map(Q0):J0[t]}function bC(t,e,n,{delay:r=0,duration:o,repeat:i=0,repeatType:s="loop",ease:a,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=Q0(a);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:o,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:i+1,direction:s==="reverse"?"alternate":"normal"})}function wC(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const Z0=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,kC=1e-7,xC=12;function EC(t,e,n,r,o){let i,s,a=0;do s=e+(n-e)/2,i=Z0(s,r,o)-t,i>0?n=s:e=s;while(Math.abs(i)>kC&&++a<xC);return s}function hs(t,e,n,r){if(t===e&&n===r)return ye;const o=i=>EC(i,0,1,t,n);return i=>i===0||i===1?i:Z0(o(i),e,r)}const SC=hs(.42,0,1,1),CC=hs(0,0,.58,1),e1=hs(.42,0,.58,1),TC=t=>Array.isArray(t)&&typeof t[0]!="number",t1=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,n1=t=>e=>1-t(1-e),r1=t=>1-Math.sin(Math.acos(t)),ef=n1(r1),_C=t1(ef),o1=hs(.33,1.53,.69,.99),tf=n1(o1),IC=t1(tf),BC=t=>(t*=2)<1?.5*tf(t):.5*(2-Math.pow(2,-10*(t-1))),AC={linear:ye,easeIn:SC,easeInOut:e1,easeOut:CC,circIn:r1,circInOut:_C,circOut:ef,backIn:tf,backInOut:IC,backOut:o1,anticipate:BC},hm=t=>{if(Array.isArray(t)){Zh(t.length===4);const[e,n,r,o]=t;return hs(e,n,r,o)}else if(typeof t=="string")return AC[t];return t},nf=(t,e)=>n=>!!(us(n)&&BS.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),i1=(t,e,n)=>r=>{if(!us(r))return r;const[o,i,s,a]=r.match(Ul);return{[t]:parseFloat(o),[e]:parseFloat(i),[n]:parseFloat(s),alpha:a!==void 0?parseFloat(a):1}},PC=t=>Xn(0,255,t),Mc={...Dr,transform:t=>Math.round(PC(t))},br={test:nf("rgb","red"),parse:i1("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+Mc.transform(t)+", "+Mc.transform(e)+", "+Mc.transform(n)+", "+ki(wi.transform(r))+")"};function LC(t){let e="",n="",r="",o="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),o=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),o=t.substring(4,5),e+=e,n+=n,r+=r,o+=o),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const sd={test:nf("#"),parse:LC,transform:br.transform},ao={test:nf("hsl","hue"),parse:i1("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+jt.transform(ki(e))+", "+jt.transform(ki(n))+", "+ki(wi.transform(r))+")"},Fe={test:t=>br.test(t)||sd.test(t)||ao.test(t),parse:t=>br.test(t)?br.parse(t):ao.test(t)?ao.parse(t):sd.parse(t),transform:t=>us(t)?t:t.hasOwnProperty("red")?br.transform(t):ao.transform(t)},ue=(t,e,n)=>-n*t+n*e+t;function Dc(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function NC({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let o=0,i=0,s=0;if(!e)o=i=s=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;o=Dc(l,a,t+1/3),i=Dc(l,a,t),s=Dc(l,a,t-1/3)}return{red:Math.round(o*255),green:Math.round(i*255),blue:Math.round(s*255),alpha:r}}const jc=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},RC=[sd,br,ao],OC=t=>RC.find(e=>e.test(t));function fm(t){const e=OC(t);let n=e.parse(t);return e===ao&&(n=NC(n)),n}const s1=(t,e)=>{const n=fm(t),r=fm(e),o={...n};return i=>(o.red=jc(n.red,r.red,i),o.green=jc(n.green,r.green,i),o.blue=jc(n.blue,r.blue,i),o.alpha=ue(n.alpha,r.alpha,i),br.transform(o))};function MC(t){var e,n;return isNaN(t)&&us(t)&&(((e=t.match(Ul))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(L0))===null||n===void 0?void 0:n.length)||0)>0}const a1={regex:_S,countKey:"Vars",token:"${v}",parse:ye},l1={regex:L0,countKey:"Colors",token:"${c}",parse:Fe.parse},c1={regex:Ul,countKey:"Numbers",token:"${n}",parse:Dr.parse};function Fc(t,{regex:e,countKey:n,token:r,parse:o}){const i=t.tokenised.match(e);i&&(t["num"+n]=i.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...i.map(o)))}function el(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Fc(n,a1),Fc(n,l1),Fc(n,c1),n}function u1(t){return el(t).values}function d1(t){const{values:e,numColors:n,numVars:r,tokenised:o}=el(t),i=e.length;return s=>{let a=o;for(let l=0;l<i;l++)l<r?a=a.replace(a1.token,s[l]):l<r+n?a=a.replace(l1.token,Fe.transform(s[l])):a=a.replace(c1.token,ki(s[l]));return a}}const DC=t=>typeof t=="number"?0:t;function jC(t){const e=u1(t);return d1(t)(e.map(DC))}const Jn={test:MC,parse:u1,createTransformer:d1,getAnimatableNone:jC},h1=(t,e)=>n=>`${n>0?e:t}`;function f1(t,e){return typeof t=="number"?n=>ue(t,e,n):Fe.test(t)?s1(t,e):t.startsWith("var(")?h1(t,e):m1(t,e)}const p1=(t,e)=>{const n=[...t],r=n.length,o=t.map((i,s)=>f1(i,e[s]));return i=>{for(let s=0;s<r;s++)n[s]=o[s](i);return n}},FC=(t,e)=>{const n={...t,...e},r={};for(const o in n)t[o]!==void 0&&e[o]!==void 0&&(r[o]=f1(t[o],e[o]));return o=>{for(const i in r)n[i]=r[i](o);return n}},m1=(t,e)=>{const n=Jn.createTransformer(e),r=el(t),o=el(e);return r.numVars===o.numVars&&r.numColors===o.numColors&&r.numNumbers>=o.numNumbers?zn(p1(r.values,o.values),n):h1(t,e)},qi=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},pm=(t,e)=>n=>ue(t,e,n);function UC(t){return typeof t=="number"?pm:typeof t=="string"?Fe.test(t)?s1:m1:Array.isArray(t)?p1:typeof t=="object"?FC:pm}function $C(t,e,n){const r=[],o=n||UC(t[0]),i=t.length-1;for(let s=0;s<i;s++){let a=o(t[s],t[s+1]);if(e){const l=Array.isArray(e)?e[s]||ye:e;a=zn(l,a)}r.push(a)}return r}function g1(t,e,{clamp:n=!0,ease:r,mixer:o}={}){const i=t.length;if(Zh(i===e.length),i===1)return()=>e[0];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const s=$C(e,r,o),a=s.length,l=c=>{let u=0;if(a>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const d=qi(t[u],t[u+1],c);return s[u](d)};return n?c=>l(Xn(t[0],t[i-1],c)):l}function VC(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const o=qi(0,e,r);t.push(ue(n,1,o))}}function HC(t){const e=[0];return VC(e,t.length-1),e}function zC(t,e){return t.map(n=>n*e)}function WC(t,e){return t.map(()=>e||e1).splice(0,t.length-1)}function tl({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const o=TC(r)?r.map(hm):hm(r),i={done:!1,value:e[0]},s=zC(n&&n.length===e.length?n:HC(e),t),a=g1(s,e,{ease:Array.isArray(o)?o:WC(e,o)});return{calculatedDuration:t,next:l=>(i.value=a(l),i.done=l>=t,i)}}function v1(t,e){return e?t*(1e3/e):0}const KC=5;function y1(t,e,n){const r=Math.max(e-KC,0);return v1(n-t(r),e-r)}const Uc=.001,GC=.01,mm=10,qC=.05,YC=1;function XC({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let o,i;vC(t<=Wn(mm));let s=1-e;s=Xn(qC,YC,s),t=Xn(GC,mm,sn(t)),s<1?(o=c=>{const u=c*s,d=u*t,h=u-n,f=ad(c,s),m=Math.exp(-d);return Uc-h/f*m},i=c=>{const d=c*s*t,h=d*n+n,f=Math.pow(s,2)*Math.pow(c,2)*t,m=Math.exp(-d),g=ad(Math.pow(c,2),s);return(-o(c)+Uc>0?-1:1)*((h-f)*m)/g}):(o=c=>{const u=Math.exp(-c*t),d=(c-n)*t+1;return-Uc+u*d},i=c=>{const u=Math.exp(-c*t),d=(n-c)*(t*t);return u*d});const a=5/t,l=QC(o,i,a);if(t=Wn(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:s*2*Math.sqrt(r*c),duration:t}}}const JC=12;function QC(t,e,n){let r=n;for(let o=1;o<JC;o++)r=r-t(r)/e(r);return r}function ad(t,e){return t*Math.sqrt(1-e*e)}const ZC=["duration","bounce"],eT=["stiffness","damping","mass"];function gm(t,e){return e.some(n=>t[n]!==void 0)}function tT(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!gm(t,eT)&&gm(t,ZC)){const n=XC(t);e={...e,...n,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function b1({keyframes:t,restDelta:e,restSpeed:n,...r}){const o=t[0],i=t[t.length-1],s={done:!1,value:o},{stiffness:a,damping:l,mass:c,velocity:u,duration:d,isResolvedFromDuration:h}=tT(r),f=u?-sn(u):0,m=l/(2*Math.sqrt(a*c)),g=i-o,k=sn(Math.sqrt(a/c)),y=Math.abs(g)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let p;if(m<1){const v=ad(k,m);p=w=>{const x=Math.exp(-m*k*w);return i-x*((f+m*k*g)/v*Math.sin(v*w)+g*Math.cos(v*w))}}else if(m===1)p=v=>i-Math.exp(-k*v)*(g+(f+k*g)*v);else{const v=k*Math.sqrt(m*m-1);p=w=>{const x=Math.exp(-m*k*w),C=Math.min(v*w,300);return i-x*((f+m*k*g)*Math.sinh(C)+v*g*Math.cosh(C))/v}}return{calculatedDuration:h&&d||null,next:v=>{const w=p(v);if(h)s.done=v>=d;else{let x=f;v!==0&&(m<1?x=y1(p,v,w):x=0);const C=Math.abs(x)<=n,_=Math.abs(i-w)<=e;s.done=C&&_}return s.value=s.done?i:w,s}}}function vm({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:i=500,modifyTarget:s,min:a,max:l,restDelta:c=.5,restSpeed:u}){const d=t[0],h={done:!1,value:d},f=S=>a!==void 0&&S<a||l!==void 0&&S>l,m=S=>a===void 0?l:l===void 0||Math.abs(a-S)<Math.abs(l-S)?a:l;let g=n*e;const k=d+g,y=s===void 0?k:s(k);y!==k&&(g=y-d);const p=S=>-g*Math.exp(-S/r),v=S=>y+p(S),w=S=>{const T=p(S),L=v(S);h.done=Math.abs(T)<=c,h.value=h.done?y:L};let x,C;const _=S=>{f(h.value)&&(x=S,C=b1({keyframes:[h.value,m(h.value)],velocity:y1(v,S,h.value),damping:o,stiffness:i,restDelta:c,restSpeed:u}))};return _(0),{calculatedDuration:null,next:S=>{let T=!1;return!C&&x===void 0&&(T=!0,w(S),_(S)),x!==void 0&&S>x?C.next(S-x):(!T&&w(S),h)}}}const nT=t=>{const e=({timestamp:n})=>t(n);return{start:()=>le.update(e,!0),stop:()=>hn(e),now:()=>Re.isProcessing?Re.timestamp:performance.now()}},ym=2e4;function bm(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<ym;)e+=n,r=t.next(e);return e>=ym?1/0:e}const rT={decay:vm,inertia:vm,tween:tl,keyframes:tl,spring:b1};function nl({autoplay:t=!0,delay:e=0,driver:n=nT,keyframes:r,type:o="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:d,...h}){let f=1,m=!1,g,k;const y=()=>{k=new Promise(H=>{g=H})};y();let p;const v=rT[o]||tl;let w;v!==tl&&typeof r[0]!="number"&&(w=g1([0,100],r,{clamp:!1}),r=[0,100]);const x=v({...h,keyframes:r});let C;a==="mirror"&&(C=v({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let _="idle",S=null,T=null,L=null;x.calculatedDuration===null&&i&&(x.calculatedDuration=bm(x));const{calculatedDuration:B}=x;let P=1/0,R=1/0;B!==null&&(P=B+s,R=P*(i+1)-s);let D=0;const M=H=>{if(T===null)return;f>0&&(T=Math.min(T,H)),f<0&&(T=Math.min(H-R/f,T)),S!==null?D=S:D=Math.round(H-T)*f;const te=D-e*(f>=0?1:-1),sr=f>=0?te<0:te>R;D=Math.max(te,0),_==="finished"&&S===null&&(D=R);let It=D,Fr=x;if(i){const ic=D/P;let Cs=Math.floor(ic),lr=ic%1;!lr&&ic>=1&&(lr=1),lr===1&&Cs--,Cs=Math.min(Cs,i+1);const Ff=!!(Cs%2);Ff&&(a==="reverse"?(lr=1-lr,s&&(lr-=s/P)):a==="mirror"&&(Fr=C));let Uf=Xn(0,1,lr);D>R&&(Uf=a==="reverse"&&Ff?1:0),It=Uf*P}const Qe=sr?{done:!1,value:r[0]}:Fr.next(It);w&&(Qe.value=w(Qe.value));let{done:ar}=Qe;!sr&&B!==null&&(ar=f>=0?D>=R:D<=0);const Fw=S===null&&(_==="finished"||_==="running"&&ar);return d&&d(Qe.value),Fw&&N(),Qe},F=()=>{p&&p.stop(),p=void 0},G=()=>{_="idle",F(),g(),y(),T=L=null},N=()=>{_="finished",u&&u(),F(),g()},U=()=>{if(m)return;p||(p=n(M));const H=p.now();l&&l(),S!==null?T=H-S:(!T||_==="finished")&&(T=H),_==="finished"&&y(),L=T,S=null,_="running",p.start()};t&&U();const K={then(H,te){return k.then(H,te)},get time(){return sn(D)},set time(H){H=Wn(H),D=H,S!==null||!p||f===0?S=H:T=p.now()-H/f},get duration(){const H=x.calculatedDuration===null?bm(x):x.calculatedDuration;return sn(H)},get speed(){return f},set speed(H){H===f||!p||(f=H,K.time=sn(D))},get state(){return _},play:U,pause:()=>{_="paused",S=D},stop:()=>{m=!0,_!=="idle"&&(_="idle",c&&c(),G())},cancel:()=>{L!==null&&M(L),G()},complete:()=>{_="finished"},sample:H=>(T=0,M(H))};return K}function oT(t){let e;return()=>(e===void 0&&(e=t()),e)}const iT=oT(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),sT=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Ws=10,aT=2e4,lT=(t,e)=>e.type==="spring"||t==="backgroundColor"||!X0(e.ease);function cT(t,e,{onUpdate:n,onComplete:r,...o}){if(!(iT()&&sT.has(e)&&!o.repeatDelay&&o.repeatType!=="mirror"&&o.damping!==0&&o.type!=="inertia"))return!1;let s=!1,a,l;const c=()=>{l=new Promise(y=>{a=y})};c();let{keyframes:u,duration:d=300,ease:h,times:f}=o;if(lT(e,o)){const y=nl({...o,repeat:0,delay:0});let p={done:!1,value:u[0]};const v=[];let w=0;for(;!p.done&&w<aT;)p=y.sample(w),v.push(p.value),w+=Ws;f=void 0,u=v,d=w-Ws,h="linear"}const m=bC(t.owner.current,e,u,{...o,duration:d,ease:h,times:f}),g=()=>m.cancel(),k=()=>{le.update(g),a(),c()};return m.onfinish=()=>{t.set(wC(u,o)),r&&r(),k()},{then(y,p){return l.then(y,p)},get timeline(){return m.timeline},set timeline(y){m.timeline=y,m.onfinish=null},get time(){return sn(m.currentTime||0)},set time(y){m.currentTime=Wn(y)},get speed(){return m.playbackRate},set speed(y){m.playbackRate=y},get duration(){return sn(d)},play:()=>{s||(m.play(),hn(g))},pause:()=>m.pause(),stop:()=>{if(s=!0,m.playState==="idle")return;const{currentTime:y}=m;if(y){const p=nl({...o,autoplay:!1});t.setWithVelocity(p.sample(y-Ws).value,p.sample(y).value,Ws)}k()},complete:()=>m.finish(),cancel:k}}function uT({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const o=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:ye,pause:ye,stop:ye,then:i=>(i(),Promise.resolve()),cancel:ye,complete:ye});return e?nl({keyframes:[0,1],duration:0,delay:e,onComplete:o}):o()}const dT={type:"spring",stiffness:500,damping:25,restSpeed:10},hT=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),fT={type:"keyframes",duration:.8},pT={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},mT=(t,{keyframes:e})=>e.length>2?fT:Mr.has(t)?t.startsWith("scale")?hT(e[1]):dT:pT,ld=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(Jn.test(e)||e==="0")&&!e.startsWith("url(")),gT=new Set(["brightness","contrast","saturate","opacity"]);function vT(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(Ul)||[];if(!r)return t;const o=n.replace(r,"");let i=gT.has(e)?1:0;return r!==n&&(i*=100),e+"("+i+o+")"}const yT=/([a-z-]*)\(.*?\)/g,cd={...Jn,getAnimatableNone:t=>{const e=t.match(yT);return e?e.map(vT).join(" "):t}},bT={...N0,color:Fe,backgroundColor:Fe,outlineColor:Fe,fill:Fe,stroke:Fe,borderColor:Fe,borderTopColor:Fe,borderRightColor:Fe,borderBottomColor:Fe,borderLeftColor:Fe,filter:cd,WebkitFilter:cd},rf=t=>bT[t];function w1(t,e){let n=rf(t);return n!==cd&&(n=Jn),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const k1=t=>/^0[^.\s]+$/.test(t);function wT(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||k1(t)}function kT(t,e,n,r){const o=ld(e,n);let i;Array.isArray(n)?i=[...n]:i=[null,n];const s=r.from!==void 0?r.from:t.get();let a;const l=[];for(let c=0;c<i.length;c++)i[c]===null&&(i[c]=c===0?s:i[c-1]),wT(i[c])&&l.push(c),typeof i[c]=="string"&&i[c]!=="none"&&i[c]!=="0"&&(a=i[c]);if(o&&l.length&&a)for(let c=0;c<l.length;c++){const u=l[c];i[u]=w1(e,a)}return i}function xT({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:o,repeat:i,repeatType:s,repeatDelay:a,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function x1(t,e){return t[e]||t.default||t}const of=(t,e,n,r={})=>o=>{const i=x1(r,t)||{},s=i.delay||r.delay||0;let{elapsed:a=0}=r;a=a-Wn(s);const l=kT(e,t,n,i),c=l[0],u=l[l.length-1],d=ld(t,c),h=ld(t,u);let f={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...i,delay:-a,onUpdate:m=>{e.set(m),i.onUpdate&&i.onUpdate(m)},onComplete:()=>{o(),i.onComplete&&i.onComplete()}};if(xT(i)||(f={...f,...mT(t,f)}),f.duration&&(f.duration=Wn(f.duration)),f.repeatDelay&&(f.repeatDelay=Wn(f.repeatDelay)),!d||!h||yC.current||i.type===!1)return uT(f);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const m=cT(e,t,f);if(m)return m}return nl(f)};function rl(t){return!!(Je(t)&&t.add)}const ET=t=>/^\-?\d*\.?\d+$/.test(t);function sf(t,e){t.indexOf(e)===-1&&t.push(e)}function af(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class lf{constructor(){this.subscriptions=[]}add(e){return sf(this.subscriptions,e),()=>af(this.subscriptions,e)}notify(e,n,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](e,n,r);else for(let i=0;i<o;i++){const s=this.subscriptions[i];s&&s(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ST=t=>!isNaN(parseFloat(t));class CT{constructor(e,n={}){this.version="10.13.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,o=!0)=>{this.prev=this.current,this.current=r;const{delta:i,timestamp:s}=Re;this.lastUpdated!==s&&(this.timeDelta=i,this.lastUpdated=s,le.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>le.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=ST(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new lf);const r=this.events[e].add(n);return e==="change"?()=>{r(),le.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?v1(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Bo(t,e){return new CT(t,e)}const E1=t=>e=>e.test(t),TT={test:t=>t==="auto",parse:t=>t},S1=[Dr,V,jt,wn,PS,AS,TT],ei=t=>S1.find(E1(t)),_T=[...S1,Fe,Jn],IT=t=>_T.find(E1(t));function BT(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,Bo(n))}function AT(t,e){const n=Vl(t,e);let{transitionEnd:r={},transition:o={},...i}=n?t.makeTargetAnimatable(n,!1):{};i={...i,...r};for(const s in i){const a=WS(i[s]);BT(t,s,a)}}function PT(t,e,n){var r,o;const i=Object.keys(e).filter(a=>!t.hasValue(a)),s=i.length;if(s)for(let a=0;a<s;a++){const l=i[a],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(o=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&o!==void 0?o:e[l]),u!=null&&(typeof u=="string"&&(ET(u)||k1(u))?u=parseFloat(u):!IT(u)&&Jn.test(c)&&(u=w1(l,c)),t.addValue(l,Bo(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function LT(t,e){return e?(e[t]||e.default||e).from:void 0}function NT(t,e,n){const r={};for(const o in t){const i=LT(o,e);if(i!==void 0)r[o]=i;else{const s=n.getValue(o);s&&(r[o]=s.get())}}return r}function RT({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function C1(t,e,{delay:n=0,transitionOverride:r,type:o}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:s,...a}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(i=r);const c=[],u=o&&t.animationState&&t.animationState.getState()[o];for(const d in a){const h=t.getValue(d),f=a[d];if(!h||f===void 0||u&&RT(u,d))continue;const m={delay:n,elapsed:0,...i};if(window.HandoffAppearAnimations&&!h.hasAnimated){const k=t.getProps()[gC];k&&(m.elapsed=window.HandoffAppearAnimations(k,d,h,le))}h.start(of(d,h,f,t.shouldReduceMotion&&Mr.has(d)?{type:!1}:m));const g=h.animation;rl(l)&&(l.add(d),g.then(()=>l.remove(d))),c.push(g)}return s&&Promise.all(c).then(()=>{s&&AT(t,s)}),c}function ud(t,e,n={}){const r=Vl(t,e,n.custom);let{transition:o=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(o=n.transitionOverride);const i=r?()=>Promise.all(C1(t,r,n)):()=>Promise.resolve(),s=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:d}=o;return OT(t,e,c+l,u,d,n)}:()=>Promise.resolve(),{when:a}=o;if(a){const[l,c]=a==="beforeChildren"?[i,s]:[s,i];return l().then(()=>c())}else return Promise.all([i(),s(n.delay)])}function OT(t,e,n=0,r=0,o=1,i){const s=[],a=(t.variantChildren.size-1)*r,l=o===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(MT).forEach((c,u)=>{c.notify("AnimationStart",e),s.push(ud(c,e,{...i,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(s)}function MT(t,e){return t.sortNodePosition(e)}function DT(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const o=e.map(i=>ud(t,i,n));r=Promise.all(o)}else if(typeof e=="string")r=ud(t,e,n);else{const o=typeof e=="function"?Vl(t,e,n.custom):e;r=Promise.all(C1(t,o,n))}return r.then(()=>t.notify("AnimationComplete",e))}const jT=[...Vh].reverse(),FT=Vh.length;function UT(t){return e=>Promise.all(e.map(({animation:n,options:r})=>DT(t,n,r)))}function $T(t){let e=UT(t);const n=HT();let r=!0;const o=(l,c)=>{const u=Vl(t,c);if(u){const{transition:d,transitionEnd:h,...f}=u;l={...l,...f,...h}}return l};function i(l){e=l(t)}function s(l,c){const u=t.getProps(),d=t.getVariantContext(!0)||{},h=[],f=new Set;let m={},g=1/0;for(let y=0;y<FT;y++){const p=jT[y],v=n[p],w=u[p]!==void 0?u[p]:d[p],x=Ki(w),C=p===c?v.isActive:null;C===!1&&(g=y);let _=w===d[p]&&w!==u[p]&&x;if(_&&r&&t.manuallyAnimateOnMount&&(_=!1),v.protectedKeys={...m},!v.isActive&&C===null||!w&&!v.prevProp||jl(w)||typeof w=="boolean")continue;const S=VT(v.prevProp,w);let T=S||p===c&&v.isActive&&!_&&x||y>g&&x;const L=Array.isArray(w)?w:[w];let B=L.reduce(o,{});C===!1&&(B={});const{prevResolvedValues:P={}}=v,R={...P,...B},D=M=>{T=!0,f.delete(M),v.needsAnimating[M]=!0};for(const M in R){const F=B[M],G=P[M];m.hasOwnProperty(M)||(F!==G?Za(F)&&Za(G)?!q0(F,G)||S?D(M):v.protectedKeys[M]=!0:F!==void 0?D(M):f.add(M):F!==void 0&&f.has(M)?D(M):v.protectedKeys[M]=!0)}v.prevProp=w,v.prevResolvedValues=B,v.isActive&&(m={...m,...B}),r&&t.blockInitialAnimation&&(T=!1),T&&!_&&h.push(...L.map(M=>({animation:M,options:{type:p,...l}})))}if(f.size){const y={};f.forEach(p=>{const v=t.getBaseTarget(p);v!==void 0&&(y[p]=v)}),h.push({animation:y})}let k=!!h.length;return r&&u.initial===!1&&!t.manuallyAnimateOnMount&&(k=!1),r=!1,k?e(h):Promise.resolve()}function a(l,c,u){var d;if(n[l].isActive===c)return Promise.resolve();(d=t.variantChildren)===null||d===void 0||d.forEach(f=>{var m;return(m=f.animationState)===null||m===void 0?void 0:m.setActive(l,c)}),n[l].isActive=c;const h=s(u,l);for(const f in n)n[f].protectedKeys={};return h}return{animateChanges:s,setActive:a,setAnimateFunction:i,getState:()=>n}}function VT(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!q0(e,t):!1}function cr(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HT(){return{animate:cr(!0),whileInView:cr(),whileHover:cr(),whileTap:cr(),whileDrag:cr(),whileFocus:cr(),exit:cr()}}class zT extends nr{constructor(e){super(e),e.animationState||(e.animationState=$T(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),jl(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let WT=0;class KT extends nr{constructor(){super(...arguments),this.id=WT++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:o}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===o)return;const i=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const GT={animation:{Feature:zT},exit:{Feature:KT}},wm=(t,e)=>Math.abs(t-e);function qT(t,e){const n=wm(t.x,e.x),r=wm(t.y,e.y);return Math.sqrt(n**2+r**2)}class T1{constructor(e,n,{transformPagePoint:r}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=Vc(this.lastMoveEventInfo,this.history),u=this.startEvent!==null,d=qT(c.offset,{x:0,y:0})>=3;if(!u&&!d)return;const{point:h}=c,{timestamp:f}=Re;this.history.push({...h,timestamp:f});const{onStart:m,onMove:g}=this.handlers;u||(m&&m(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),g&&g(this.lastMoveEvent,c)},this.handlePointerMove=(c,u)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=$c(u,this.transformPagePoint),le.update(this.updatePoint,!0)},this.handlePointerUp=(c,u)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:d,onSessionEnd:h}=this.handlers,f=Vc(c.type==="pointercancel"?this.lastMoveEventInfo:$c(u,this.transformPagePoint),this.history);this.startEvent&&d&&d(c,f),h&&h(c,f)},!H0(e))return;this.handlers=n,this.transformPagePoint=r;const o=$l(e),i=$c(o,this.transformPagePoint),{point:s}=i,{timestamp:a}=Re;this.history=[{...s,timestamp:a}];const{onSessionStart:l}=n;l&&l(e,Vc(i,this.history)),this.removeListeners=zn(on(window,"pointermove",this.handlePointerMove),on(window,"pointerup",this.handlePointerUp),on(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),hn(this.updatePoint)}}function $c(t,e){return e?{point:e(t.point)}:t}function km(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Vc({point:t},e){return{point:t,delta:km(t,_1(e)),offset:km(t,YT(e)),velocity:XT(e,.1)}}function YT(t){return t[0]}function _1(t){return t[t.length-1]}function XT(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const o=_1(t);for(;n>=0&&(r=t[n],!(o.timestamp-r.timestamp>Wn(e)));)n--;if(!r)return{x:0,y:0};const i=sn(o.timestamp-r.timestamp);if(i===0)return{x:0,y:0};const s={x:(o.x-r.x)/i,y:(o.y-r.y)/i};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function ot(t){return t.max-t.min}function dd(t,e=0,n=.01){return Math.abs(t-e)<=n}function xm(t,e,n,r=.5){t.origin=r,t.originPoint=ue(e.min,e.max,t.origin),t.scale=ot(n)/ot(e),(dd(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=ue(n.min,n.max,t.origin)-t.originPoint,(dd(t.translate)||isNaN(t.translate))&&(t.translate=0)}function xi(t,e,n,r){xm(t.x,e.x,n.x,r?r.originX:void 0),xm(t.y,e.y,n.y,r?r.originY:void 0)}function Em(t,e,n){t.min=n.min+e.min,t.max=t.min+ot(e)}function JT(t,e,n){Em(t.x,e.x,n.x),Em(t.y,e.y,n.y)}function Sm(t,e,n){t.min=e.min-n.min,t.max=t.min+ot(e)}function Ei(t,e,n){Sm(t.x,e.x,n.x),Sm(t.y,e.y,n.y)}function QT(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?ue(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?ue(n,t,r.max):Math.min(t,n)),t}function Cm(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function ZT(t,{top:e,left:n,bottom:r,right:o}){return{x:Cm(t.x,n,o),y:Cm(t.y,e,r)}}function Tm(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function e_(t,e){return{x:Tm(t.x,e.x),y:Tm(t.y,e.y)}}function t_(t,e){let n=.5;const r=ot(t),o=ot(e);return o>r?n=qi(e.min,e.max-r,t.min):r>o&&(n=qi(t.min,t.max-o,e.min)),Xn(0,1,n)}function n_(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const hd=.35;function r_(t=hd){return t===!1?t=0:t===!0&&(t=hd),{x:_m(t,"left","right"),y:_m(t,"top","bottom")}}function _m(t,e,n){return{min:Im(t,e),max:Im(t,n)}}function Im(t,e){return typeof t=="number"?t:t[e]||0}const Bm=()=>({translate:0,scale:1,origin:0,originPoint:0}),lo=()=>({x:Bm(),y:Bm()}),Am=()=>({min:0,max:0}),ge=()=>({x:Am(),y:Am()});function Lt(t){return[t("x"),t("y")]}function I1({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function o_({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function i_(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function Hc(t){return t===void 0||t===1}function fd({scale:t,scaleX:e,scaleY:n}){return!Hc(t)||!Hc(e)||!Hc(n)}function hr(t){return fd(t)||B1(t)||t.z||t.rotate||t.rotateX||t.rotateY}function B1(t){return Pm(t.x)||Pm(t.y)}function Pm(t){return t&&t!=="0%"}function ol(t,e,n){const r=t-n,o=e*r;return n+o}function Lm(t,e,n,r,o){return o!==void 0&&(t=ol(t,o,r)),ol(t,n,r)+e}function pd(t,e=0,n=1,r,o){t.min=Lm(t.min,e,n,r,o),t.max=Lm(t.max,e,n,r,o)}function A1(t,{x:e,y:n}){pd(t.x,e.translate,e.scale,e.originPoint),pd(t.y,n.translate,n.scale,n.originPoint)}function s_(t,e,n,r=!1){const o=n.length;if(!o)return;e.x=e.y=1;let i,s;for(let a=0;a<o;a++){i=n[a],s=i.projectionDelta;const l=i.instance;l&&l.style&&l.style.display==="contents"||(r&&i.options.layoutScroll&&i.scroll&&i!==i.root&&co(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),s&&(e.x*=s.x.scale,e.y*=s.y.scale,A1(t,s)),r&&hr(i.latestValues)&&co(t,i.latestValues))}e.x=Nm(e.x),e.y=Nm(e.y)}function Nm(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Sn(t,e){t.min=t.min+e,t.max=t.max+e}function Rm(t,e,[n,r,o]){const i=e[o]!==void 0?e[o]:.5,s=ue(t.min,t.max,i);pd(t,e[n],e[r],s,e.scale)}const a_=["x","scaleX","originX"],l_=["y","scaleY","originY"];function co(t,e){Rm(t.x,e,a_),Rm(t.y,e,l_)}function P1(t,e){return I1(i_(t.getBoundingClientRect(),e))}function c_(t,e,n){const r=P1(t,n),{scroll:o}=e;return o&&(Sn(r.x,o.offset.x),Sn(r.y,o.offset.y)),r}const u_=new WeakMap;class d_{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ge(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=l=>{this.stopAnimation(),n&&this.snapToCursor($l(l,"page").point)},i=(l,c)=>{const{drag:u,dragPropagation:d,onDragStart:h}=this.getProps();if(u&&!d&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=W0(u),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Lt(m=>{let g=this.getAxisMotionValue(m).get()||0;if(jt.test(g)){const{projection:k}=this.visualElement;if(k&&k.layout){const y=k.layout.layoutBox[m];y&&(g=ot(y)*(parseFloat(g)/100))}}this.originPoint[m]=g}),h&&le.update(()=>h(l,c),!1,!0);const{animationState:f}=this.visualElement;f&&f.setActive("whileDrag",!0)},s=(l,c)=>{const{dragPropagation:u,dragDirectionLock:d,onDirectionLock:h,onDrag:f}=this.getProps();if(!u&&!this.openGlobalLock)return;const{offset:m}=c;if(d&&this.currentDirection===null){this.currentDirection=h_(m),this.currentDirection!==null&&h&&h(this.currentDirection);return}this.updateAxis("x",c.point,m),this.updateAxis("y",c.point,m),this.visualElement.render(),f&&f(l,c)},a=(l,c)=>this.stop(l,c);this.panSession=new T1(e,{onSessionStart:o,onStart:i,onMove:s,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=n;this.startAnimation(o);const{onDragEnd:i}=this.getProps();i&&le.update(()=>i(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:o}=this.getProps();if(!r||!Ks(e,o,this.currentDirection))return;const i=this.getAxisMotionValue(e);let s=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(s=QT(s,this.constraints[e],this.elastic[e])),i.set(s)}resolveConstraints(){const{dragConstraints:e,dragElastic:n}=this.getProps(),{layout:r}=this.visualElement.projection||{},o=this.constraints;e&&so(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&r?this.constraints=ZT(r.layoutBox,e):this.constraints=!1,this.elastic=r_(n),o!==this.constraints&&r&&this.constraints&&!this.hasMutatedConstraints&&Lt(i=>{this.getAxisMotionValue(i)&&(this.constraints[i]=n_(r.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!so(e))return!1;const r=e.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const i=c_(r,o.root,this.visualElement.getTransformPagePoint());let s=e_(o.layout.layoutBox,i);if(n){const a=n(o_(s));this.hasMutatedConstraints=!!a,a&&(s=I1(a))}return s}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:o,dragTransition:i,dragSnapToOrigin:s,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=Lt(u=>{if(!Ks(u,n,this.currentDirection))return;let d=l&&l[u]||{};s&&(d={min:0,max:0});const h=o?200:1e6,f=o?40:1e7,m={type:"inertia",velocity:r?e[u]:0,bounceStiffness:h,bounceDamping:f,timeConstant:750,restDelta:1,restSpeed:10,...i,...d};return this.startAxisValueAnimation(u,m)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(of(e,r,0,n))}stopAnimation(){Lt(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),o=r[n];return o||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Lt(n=>{const{drag:r}=this.getProps();if(!Ks(n,r,this.currentDirection))return;const{projection:o}=this.visualElement,i=this.getAxisMotionValue(n);if(o&&o.layout){const{min:s,max:a}=o.layout.layoutBox[n];i.set(e[n]-ue(s,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!so(n)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};Lt(s=>{const a=this.getAxisMotionValue(s);if(a){const l=a.get();o[s]=t_({min:l,max:l},this.constraints[s])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Lt(s=>{if(!Ks(s,e,null))return;const a=this.getAxisMotionValue(s),{min:l,max:c}=this.constraints[s];a.set(ue(l,c,o[s]))})}addListeners(){if(!this.visualElement.current)return;u_.set(this.visualElement,this);const e=this.visualElement.current,n=on(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();so(l)&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,i=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),r();const s=Qt(window,"resize",()=>this.scalePositionWithinConstraints()),a=o.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Lt(u=>{const d=this.getAxisMotionValue(u);d&&(this.originPoint[u]+=l[u].translate,d.set(d.get()+l[u].translate))}),this.visualElement.render())});return()=>{s(),n(),i(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:i=!1,dragElastic:s=hd,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:o,dragConstraints:i,dragElastic:s,dragMomentum:a}}}function Ks(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function h_(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class f_ extends nr{constructor(e){super(e),this.removeGroupControls=ye,this.removeListeners=ye,this.controls=new d_(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||ye}unmount(){this.removeGroupControls(),this.removeListeners()}}const Om=t=>(e,n)=>{t&&le.update(()=>t(e,n))};class p_ extends nr{constructor(){super(...arguments),this.removePointerDownListener=ye}onPointerDown(e){this.session=new T1(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:Om(e),onStart:Om(n),onMove:r,onEnd:(i,s)=>{delete this.session,o&&le.update(()=>o(i,s))}}}mount(){this.removePointerDownListener=on(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function m_(){const t=E.useContext(Ml);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,o=E.useId();return E.useEffect(()=>r(o),[]),!e&&n?[!1,()=>n&&n(o)]:[!0]}const ca={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function Mm(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ti={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(V.test(t))t=parseFloat(t);else return t;const n=Mm(t,e.target.x),r=Mm(t,e.target.y);return`${n}% ${r}%`}},g_={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,o=Jn.parse(t);if(o.length>5)return r;const i=Jn.createTransformer(t),s=typeof o[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;o[0+s]/=a,o[1+s]/=l;const c=ue(a,l,.5);return typeof o[2+s]=="number"&&(o[2+s]/=c),typeof o[3+s]=="number"&&(o[3+s]/=c),i(o)}};class v_ extends Kd.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:o}=this.props,{projection:i}=e;ES(y_),i&&(n.group&&n.group.add(i),r&&r.register&&o&&r.register(i),i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ca.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:o,isPresent:i}=this.props,s=r.projection;return s&&(s.isPresent=i,o||e.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?s.promote():s.relegate()||le.postRender(()=>{const a=s.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:o}=e;o&&(o.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function L1(t){const[e,n]=m_(),r=E.useContext(zh);return Kd.createElement(v_,{...t,layoutGroup:r,switchLayoutGroup:E.useContext(I0),isPresent:e,safeToRemove:n})}const y_={borderRadius:{...ti,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ti,borderTopRightRadius:ti,borderBottomLeftRadius:ti,borderBottomRightRadius:ti,boxShadow:g_},N1=["TopLeft","TopRight","BottomLeft","BottomRight"],b_=N1.length,Dm=t=>typeof t=="string"?parseFloat(t):t,jm=t=>typeof t=="number"||V.test(t);function w_(t,e,n,r,o,i){o?(t.opacity=ue(0,n.opacity!==void 0?n.opacity:1,k_(r)),t.opacityExit=ue(e.opacity!==void 0?e.opacity:1,0,x_(r))):i&&(t.opacity=ue(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<b_;s++){const a=`border${N1[s]}Radius`;let l=Fm(e,a),c=Fm(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||jm(l)===jm(c)?(t[a]=Math.max(ue(Dm(l),Dm(c),r),0),(jt.test(c)||jt.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=ue(e.rotate||0,n.rotate||0,r))}function Fm(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const k_=R1(0,.5,ef),x_=R1(.5,.95,ye);function R1(t,e,n){return r=>r<t?0:r>e?1:n(qi(t,e,r))}function Um(t,e){t.min=e.min,t.max=e.max}function at(t,e){Um(t.x,e.x),Um(t.y,e.y)}function $m(t,e,n,r,o){return t-=e,t=ol(t,1/n,r),o!==void 0&&(t=ol(t,1/o,r)),t}function E_(t,e=0,n=1,r=.5,o,i=t,s=t){if(jt.test(e)&&(e=parseFloat(e),e=ue(s.min,s.max,e/100)-s.min),typeof e!="number")return;let a=ue(i.min,i.max,r);t===i&&(a-=e),t.min=$m(t.min,e,n,a,o),t.max=$m(t.max,e,n,a,o)}function Vm(t,e,[n,r,o],i,s){E_(t,e[n],e[r],e[o],e.scale,i,s)}const S_=["x","scaleX","originX"],C_=["y","scaleY","originY"];function Hm(t,e,n,r){Vm(t.x,e,S_,n?n.x:void 0,r?r.x:void 0),Vm(t.y,e,C_,n?n.y:void 0,r?r.y:void 0)}function zm(t){return t.translate===0&&t.scale===1}function O1(t){return zm(t.x)&&zm(t.y)}function md(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function Wm(t){return ot(t.x)/ot(t.y)}class T_{constructor(){this.members=[]}add(e){sf(this.members,e),e.scheduleRender()}remove(e){if(af(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(o=>e===o);if(n===0)return!1;let r;for(let o=n;o>=0;o--){const i=this.members[o];if(i.isPresent!==!1){r=i;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:o}=e.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Km(t,e,n){let r="";const o=t.x.translate/e.x,i=t.y.translate/e.y;if((o||i)&&(r=`translate3d(${o}px, ${i}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const s=t.x.scale*e.x,a=t.y.scale*e.y;return(s!==1||a!==1)&&(r+=`scale(${s}, ${a})`),r||"none"}const __=(t,e)=>t.depth-e.depth;class I_{constructor(){this.children=[],this.isDirty=!1}add(e){sf(this.children,e),this.isDirty=!0}remove(e){af(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(__),this.isDirty=!1,this.children.forEach(e)}}function B_(t,e){const n=performance.now(),r=({timestamp:o})=>{const i=o-n;i>=e&&(hn(r),t(i-e))};return le.read(r,!0),()=>hn(r)}function A_(t){window.MotionDebug&&window.MotionDebug.record(t)}function P_(t){return t instanceof SVGElement&&t.tagName!=="svg"}function L_(t,e,n){const r=Je(t)?t:Bo(t);return r.start(of("",r,e,n)),r.animation}const Gm=["","X","Y","Z"],qm=1e3;let N_=0;const fr={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function M1({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(s={},a=e==null?void 0:e()){this.id=N_++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{fr.totalNodes=fr.resolvedTargetDeltas=fr.recalculatedProjection=0,this.nodes.forEach(M_),this.nodes.forEach($_),this.nodes.forEach(V_),this.nodes.forEach(D_),A_(fr)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new I_)}addEventListener(s,a){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new lf),this.eventHandlers.get(s).add(a)}notifyListeners(s,...a){const l=this.eventHandlers.get(s);l&&l.notify(...a)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=P_(s),this.instance=s;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let d;const h=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=B_(h,250),ca.hasAnimatedSinceResize&&(ca.hasAnimatedSinceResize=!1,this.nodes.forEach(Xm))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:h,hasRelativeTargetChanged:f,layout:m})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const g=this.options.transition||u.getDefaultTransition()||G_,{onLayoutAnimationStart:k,onLayoutAnimationComplete:y}=u.getProps(),p=!this.targetLayout||!md(this.targetLayout,m)||f,v=!h&&f;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||v||h&&(p||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,v);const w={...x1(g,"layout"),onPlay:k,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else h||Xm(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=m})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,hn(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(H_),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const d=this.path[u];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ym);return}this.isUpdating||this.nodes.forEach(F_),this.isUpdating=!1,this.nodes.forEach(U_),this.nodes.forEach(R_),this.nodes.forEach(O_),this.clearAllSnapshots();const a=performance.now();Re.delta=Xn(0,1e3/60,a-Re.timestamp),Re.timestamp=a,Re.isProcessing=!0,Nc.update.process(Re),Nc.preRender.process(Re),Nc.render.process(Re),Re.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(j_),this.sharedNodes.forEach(z_)}scheduleUpdateProjection(){le.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){le.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ge(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let a=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(a=!1),a&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!o)return;const s=this.isLayoutDirty||this.shouldResetTransform,a=this.projectionDelta&&!O1(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;s&&(a||hr(this.latestValues)||u)&&(o(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return s&&(l=this.removeTransform(l)),Y_(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return ge();const a=s.measureViewportBox(),{scroll:l}=this.root;return l&&(Sn(a.x,l.offset.x),Sn(a.y,l.offset.y)),a}removeElementScroll(s){const a=ge();at(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:d}=c;if(c!==this.root&&u&&d.layoutScroll){if(u.isRoot){at(a,s);const{scroll:h}=this.root;h&&(Sn(a.x,-h.offset.x),Sn(a.y,-h.offset.y))}Sn(a.x,u.offset.x),Sn(a.y,u.offset.y)}}return a}applyTransform(s,a=!1){const l=ge();at(l,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];!a&&u.options.layoutScroll&&u.scroll&&u!==u.root&&co(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),hr(u.latestValues)&&co(l,u.latestValues)}return hr(this.latestValues)&&co(l,this.latestValues),l}removeTransform(s){const a=ge();at(a,s);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!hr(c.latestValues))continue;fd(c.latestValues)&&c.updateSnapshot();const u=ge(),d=c.measurePageBox();at(u,d),Hm(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return hr(this.latestValues)&&Hm(a,this.latestValues),a}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Re.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(s||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:d,layoutId:h}=this.options;if(!(!this.layout||!(d||h))){if(this.resolvedRelativeTargetAt=Re.timestamp,!this.targetDelta&&!this.relativeTarget){const f=this.getClosestProjectingParent();f&&f.layout&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),Ei(this.relativeTargetOrigin,this.layout.layoutBox,f.layout.layoutBox),at(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ge(),this.targetWithTransforms=ge()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),JT(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):at(this.target,this.layout.layoutBox),A1(this.target,this.targetDelta)):at(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const f=this.getClosestProjectingParent();f&&!!f.resumingFrom==!!this.resumingFrom&&!f.options.layoutScroll&&f.target&&this.animationProgress!==1?(this.relativeParent=f,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ge(),this.relativeTargetOrigin=ge(),Ei(this.relativeTargetOrigin,this.target,f.target),at(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fr.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||fd(this.parent.latestValues)||B1(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===Re.timestamp&&(c=!1),c)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;at(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,f=this.treeScale.y;s_(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox);const{target:m}=a;if(!m){this.projectionTransform&&(this.projectionDelta=lo(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=lo(),this.projectionDeltaWithTransform=lo());const g=this.projectionTransform;xi(this.projectionDelta,this.layoutCorrected,m,this.latestValues),this.projectionTransform=Km(this.projectionDelta,this.treeScale),(this.projectionTransform!==g||this.treeScale.x!==h||this.treeScale.y!==f)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",m)),fr.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const a=this.getStack();a&&a.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,a=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},d=lo();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const h=ge(),f=l?l.source:void 0,m=this.layout?this.layout.source:void 0,g=f!==m,k=this.getStack(),y=!k||k.members.length<=1,p=!!(g&&!y&&this.options.crossfade===!0&&!this.path.some(K_));this.animationProgress=0;let v;this.mixTargetDelta=w=>{const x=w/1e3;Jm(d.x,s.x,x),Jm(d.y,s.y,x),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ei(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),W_(this.relativeTarget,this.relativeTargetOrigin,h,x),v&&md(this.relativeTarget,v)&&(this.isProjectionDirty=!1),v||(v=ge()),at(v,this.relativeTarget)),g&&(this.animationValues=u,w_(u,c,this.latestValues,x,p,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=x},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(hn(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=le.update(()=>{ca.hasAnimatedSinceResize=!0,this.currentAnimation=L_(0,qm,{...s,onUpdate:a=>{this.mixTargetDelta(a),s.onUpdate&&s.onUpdate(a)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(qm),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:u}=s;if(!(!a||!l||!c)){if(this!==s&&this.layout&&c&&D1(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||ge();const d=ot(this.layout.layoutBox.x);l.x.min=s.target.x.min,l.x.max=l.x.min+d;const h=ot(this.layout.layoutBox.y);l.y.min=s.target.y.min,l.y.max=l.y.min+h}at(a,l),co(a,u),xi(this.projectionDeltaWithTransform,this.layoutCorrected,a,u)}}registerSharedNode(s,a){this.sharedNodes.has(s)||this.sharedNodes.set(s,new T_),this.sharedNodes.get(s).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:a}=this.options;return a?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:a}=this.options;return a?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),s&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let a=!1;const{latestValues:l}=s;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(a=!0),!a)return;const c={};for(let u=0;u<Gm.length;u++){const d="rotate"+Gm[u];l[d]&&(c[d]=l[d],s.setStaticValue(d,0))}s.render();for(const u in c)s.setStaticValue(u,c[u]);s.scheduleRender()}getProjectionStyles(s={}){var a,l;const c={};if(!this.instance||this.isSVG)return c;if(this.isVisible)c.visibility="";else return{visibility:"hidden"};const u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=la(s.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const g={};return this.options.layoutId&&(g.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,g.pointerEvents=la(s.pointerEvents)||""),this.hasProjected&&!hr(this.latestValues)&&(g.transform=u?u({},""):"none",this.hasProjected=!1),g}const h=d.animationValues||d.latestValues;this.applyTransformsToTarget(),c.transform=Km(this.projectionDeltaWithTransform,this.treeScale,h),u&&(c.transform=u(h,c.transform));const{x:f,y:m}=this.projectionDelta;c.transformOrigin=`${f.origin*100}% ${m.origin*100}% 0`,d.animationValues?c.opacity=d===this?(l=(a=h.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:c.opacity=d===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const g in Ja){if(h[g]===void 0)continue;const{correct:k,applyTo:y}=Ja[g],p=c.transform==="none"?h[g]:k(h[g],d);if(y){const v=y.length;for(let w=0;w<v;w++)c[y[w]]=p}else c[g]=p}return this.options.layoutId&&(c.pointerEvents=d===this?la(s.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var a;return(a=s.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(Ym),this.root.sharedNodes.clear()}}}function R_(t){t.updateLayout()}function O_(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=t.layout,{animationType:i}=t.options,s=n.source!==t.layout.source;i==="size"?Lt(d=>{const h=s?n.measuredBox[d]:n.layoutBox[d],f=ot(h);h.min=r[d].min,h.max=h.min+f}):D1(i,n.layoutBox,r)&&Lt(d=>{const h=s?n.measuredBox[d]:n.layoutBox[d],f=ot(r[d]);h.max=h.min+f,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[d].max=t.relativeTarget[d].min+f)});const a=lo();xi(a,r,n.layoutBox);const l=lo();s?xi(l,t.applyTransform(o,!0),n.measuredBox):xi(l,r,n.layoutBox);const c=!O1(a);let u=!1;if(!t.resumeFrom){const d=t.getClosestProjectingParent();if(d&&!d.resumeFrom){const{snapshot:h,layout:f}=d;if(h&&f){const m=ge();Ei(m,n.layoutBox,h.layoutBox);const g=ge();Ei(g,r,f.layoutBox),md(m,g)||(u=!0),d.options.layoutRoot&&(t.relativeTarget=g,t.relativeTargetOrigin=m,t.relativeParent=d)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function M_(t){fr.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function D_(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function j_(t){t.clearSnapshot()}function Ym(t){t.clearMeasurements()}function F_(t){t.isLayoutDirty=!1}function U_(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function Xm(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function $_(t){t.resolveTargetDelta()}function V_(t){t.calcProjection()}function H_(t){t.resetRotation()}function z_(t){t.removeLeadSnapshot()}function Jm(t,e,n){t.translate=ue(e.translate,0,n),t.scale=ue(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function Qm(t,e,n,r){t.min=ue(e.min,n.min,r),t.max=ue(e.max,n.max,r)}function W_(t,e,n,r){Qm(t.x,e.x,n.x,r),Qm(t.y,e.y,n.y,r)}function K_(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const G_={duration:.45,ease:[.4,0,.1,1]};let il;const q_=()=>navigator.userAgent.toLowerCase().includes("applewebkit/");function Zm(t){t.min=il(t.min),t.max=il(t.max)}function Y_(t){il||(il=q_()?Math.round:e=>Math.round(e*2)/2),Zm(t.x),Zm(t.y)}function D1(t,e,n){return t==="position"||t==="preserve-aspect"&&!dd(Wm(e),Wm(n),.2)}const X_=M1({attachResizeListener:(t,e)=>Qt(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),zc={current:void 0},j1=M1({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!zc.current){const t=new X_({});t.mount(window),t.setOptions({layoutScroll:!0}),zc.current=t}return zc.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),J_={pan:{Feature:p_},drag:{Feature:f_,ProjectionNode:j1,MeasureLayout:L1}},Q_=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Z_(t){const e=Q_.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function gd(t,e,n=1){const[r,o]=Z_(t);if(!r)return;const i=window.getComputedStyle(e).getPropertyValue(r);return i?i.trim():od(o)?gd(o,e,n+1):o}function e2(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(o=>{const i=o.get();if(!od(i))return;const s=gd(i,r);s&&o.set(s)});for(const o in e){const i=e[o];if(!od(i))continue;const s=gd(i,r);s&&(e[o]=s,n||(n={}),n[o]===void 0&&(n[o]=i))}return{target:e,transitionEnd:n}}const t2=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),F1=t=>t2.has(t),n2=t=>Object.keys(t).some(F1),eg=t=>t===Dr||t===V,tg=(t,e)=>parseFloat(t.split(", ")[e]),ng=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/);if(o)return tg(o[1],e);{const i=r.match(/^matrix\((.+)\)$/);return i?tg(i[1],t):0}},r2=new Set(["x","y","z"]),o2=cs.filter(t=>!r2.has(t));function i2(t){const e=[];return o2.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Ao={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:ng(4,13),y:ng(5,14)};Ao.translateX=Ao.x;Ao.translateY=Ao.y;const s2=(t,e,n)=>{const r=e.measureViewportBox(),o=e.current,i=getComputedStyle(o),{display:s}=i,a={};s==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{a[c]=Ao[c](r,i)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(a[c]),t[c]=Ao[c](l,i)}),t},a2=(t,e,n={},r={})=>{e={...e},r={...r};const o=Object.keys(e).filter(F1);let i=[],s=!1;const a=[];if(o.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],d=ei(u);const h=e[l];let f;if(Za(h)){const m=h.length,g=h[0]===null?1:0;u=h[g],d=ei(u);for(let k=g;k<m&&h[k]!==null;k++)f?Zh(ei(h[k])===f):f=ei(h[k])}else f=ei(h);if(d!==f)if(eg(d)&&eg(f)){const m=c.get();typeof m=="string"&&c.set(parseFloat(m)),typeof h=="string"?e[l]=parseFloat(h):Array.isArray(h)&&f===V&&(e[l]=h.map(parseFloat))}else d!=null&&d.transform&&(f!=null&&f.transform)&&(u===0||h===0)?u===0?c.set(f.transform(u)):e[l]=d.transform(h):(s||(i=i2(t),s=!0),a.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(h))}),a.length){const l=a.indexOf("height")>=0?window.pageYOffset:null,c=s2(e,t,a);return i.length&&i.forEach(([u,d])=>{t.getValue(u).set(d)}),t.render(),Dl&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function l2(t,e,n,r){return n2(e)?a2(t,e,n,r):{target:e,transitionEnd:r}}const c2=(t,e,n,r)=>{const o=e2(t,e,r);return e=o.target,r=o.transitionEnd,l2(t,e,n,r)},vd={current:null},U1={current:!1};function u2(){if(U1.current=!0,!!Dl)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>vd.current=t.matches;t.addListener(e),e()}else vd.current=!1}function d2(t,e,n){const{willChange:r}=e;for(const o in e){const i=e[o],s=n[o];if(Je(i))t.addValue(o,i),rl(r)&&r.add(o);else if(Je(s))t.addValue(o,Bo(i,{owner:t})),rl(r)&&r.remove(o);else if(s!==i)if(t.hasValue(o)){const a=t.getValue(o);!a.hasAnimated&&a.set(i)}else{const a=t.getStaticValue(o);t.addValue(o,Bo(a!==void 0?a:i,{owner:t}))}}for(const o in n)e[o]===void 0&&t.removeValue(o);return e}const rg=new WeakMap,$1=Object.keys(Gi),h2=$1.length,og=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],f2=Hh.length;class p2{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:o,visualState:i},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>le.render(this.render,!1,!0);const{latestValues:a,renderState:l}=i;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=o,this.options=s,this.isControllingVariants=Fl(n),this.isVariantNode=_0(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const d in u){const h=u[d];a[d]!==void 0&&Je(h)&&(h.set(a[d],!1),rl(c)&&c.add(d))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,rg.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),U1.current||u2(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:vd.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){rg.delete(this.current),this.projection&&this.projection.unmount(),hn(this.notifyUpdate),hn(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=Mr.has(e),o=n.on("change",s=>{this.latestValues[e]=s,this.props.onUpdate&&le.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),i=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{o(),i()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,o,i){let s,a;for(let l=0;l<h2;l++){const c=$1[l],{isEnabled:u,Feature:d,ProjectionNode:h,MeasureLayout:f}=Gi[c];h&&(s=h),u(n)&&(!this.features[c]&&d&&(this.features[c]=new d(this)),f&&(a=f))}if(!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:d,layoutScroll:h,layoutRoot:f}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||d&&so(d),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,layoutScroll:h,layoutRoot:f})}return a}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ge()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<og.length;r++){const o=og[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const i=e["on"+o];i&&(this.propEventSubscriptions[o]=this.on(o,i))}this.prevMotionValues=d2(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<f2;r++){const o=Hh[r],i=this.props[o];(Ki(i)||i===!1)&&(n[o]=i)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=Bo(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,o=typeof r=="string"||typeof r=="object"?(n=Qh(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&o!==void 0)return o;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Je(i)?i:this.initialValues[e]!==void 0&&o===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new lf),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class V1 extends p2{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:o},i){let s=NT(r,e||{},this);if(o&&(n&&(n=o(n)),r&&(r=o(r)),s&&(s=o(s))),i){PT(this,r,s);const a=c2(this,r,s,n);n=a.transitionEnd,r=a.target}return{transition:e,transitionEnd:n,...r}}}function m2(t){return window.getComputedStyle(t)}class g2 extends V1{readValueFromInstance(e,n){if(Mr.has(n)){const r=rf(n);return r&&r.default||0}else{const r=m2(e),o=(P0(n)?r.getPropertyValue(n):r[n])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(e,{transformPagePoint:n}){return P1(e,n)}build(e,n,r,o){Kh(e,n,r,o.transformTemplate)}scrapeMotionValuesFromProps(e,n){return Jh(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Je(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,o){D0(e,n,r,o)}}class v2 extends V1{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Mr.has(n)){const r=rf(n);return r&&r.default||0}return n=j0.has(n)?n:Xh(n),e.getAttribute(n)}measureInstanceViewportBox(){return ge()}scrapeMotionValuesFromProps(e,n){return U0(e,n)}build(e,n,r,o){qh(e,n,r,this.isSVGTag,o.transformTemplate)}renderInstance(e,n,r,o){F0(e,n,r,o)}mount(e){this.isSVGTag=Yh(e.tagName),super.mount(e)}}const y2=(t,e)=>Wh(t)?new v2(e,{enableHardwareAcceleration:!1}):new g2(e,{enableHardwareAcceleration:!0}),b2={layout:{ProjectionNode:j1,MeasureLayout:L1}},w2={...GT,...hC,...J_,...b2},k2=kS((t,e)=>XS(t,e,w2,y2));function H1(){const t=E.useRef(!1);return Xa(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function x2(){const t=H1(),[e,n]=E.useState(0),r=E.useCallback(()=>{t.current&&n(e+1)},[e]);return[E.useCallback(()=>le.postRender(r),[r]),e]}class E2 extends E.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function S2({children:t,isPresent:e}){const n=E.useId(),r=E.useRef(null),o=E.useRef({width:0,height:0,top:0,left:0});return E.useInsertionEffect(()=>{const{width:i,height:s,top:a,left:l}=o.current;if(e||!r.current||!i||!s)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${i}px !important;
            height: ${s}px !important;
            top: ${a}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),E.createElement(E2,{isPresent:e,childRef:r,sizeRef:o},E.cloneElement(t,{ref:r}))}const Wc=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:o,presenceAffectsLayout:i,mode:s})=>{const a=$0(C2),l=E.useId(),c=E.useMemo(()=>({id:l,initial:e,isPresent:n,custom:o,onExitComplete:u=>{a.set(u,!0);for(const d of a.values())if(!d)return;r&&r()},register:u=>(a.set(u,!1),()=>a.delete(u))}),i?void 0:[n]);return E.useMemo(()=>{a.forEach((u,d)=>a.set(d,!1))},[n]),E.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),s==="popLayout"&&(t=E.createElement(S2,{isPresent:n},t)),E.createElement(Ml.Provider,{value:c},t)};function C2(){return new Map}function T2(t){return E.useEffect(()=>()=>t(),[])}const Hr=t=>t.key||"";function _2(t,e){t.forEach(n=>{const r=Hr(n);e.set(r,n)})}function I2(t){const e=[];return E.Children.forEach(t,n=>{E.isValidElement(n)&&e.push(n)}),e}const B2=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:o,presenceAffectsLayout:i=!0,mode:s="sync"})=>{const a=E.useContext(zh).forceRender||x2()[0],l=H1(),c=I2(t);let u=c;const d=E.useRef(new Map).current,h=E.useRef(u),f=E.useRef(new Map).current,m=E.useRef(!0);if(Xa(()=>{m.current=!1,_2(c,f),h.current=u}),T2(()=>{m.current=!0,f.clear(),d.clear()}),m.current)return E.createElement(E.Fragment,null,u.map(p=>E.createElement(Wc,{key:Hr(p),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:i,mode:s},p)));u=[...u];const g=h.current.map(Hr),k=c.map(Hr),y=g.length;for(let p=0;p<y;p++){const v=g[p];k.indexOf(v)===-1&&!d.has(v)&&d.set(v,void 0)}return s==="wait"&&d.size&&(u=[]),d.forEach((p,v)=>{if(k.indexOf(v)!==-1)return;const w=f.get(v);if(!w)return;const x=g.indexOf(v);let C=p;if(!C){const _=()=>{f.delete(v),d.delete(v);const S=h.current.findIndex(T=>T.key===v);if(h.current.splice(S,1),!d.size){if(h.current=c,l.current===!1)return;a(),r&&r()}};C=E.createElement(Wc,{key:Hr(w),isPresent:!1,onExitComplete:_,custom:e,presenceAffectsLayout:i,mode:s},w),d.set(v,C)}u.splice(x,0,C)}),u=u.map(p=>{const v=p.key;return d.has(v)?p:E.createElement(Wc,{key:Hr(p),isPresent:!0,presenceAffectsLayout:i,mode:s},p)}),E.createElement(E.Fragment,null,d.size?u:u.map(p=>E.cloneElement(p)))},Ke=({children:t,keyValue:e,className:n,initial:r={opacity:0},animate:o={opacity:1}})=>{const i={duration:1};return b.jsx(B2,{children:b.jsx(k2.div,{initial:r,animate:o,transition:i,className:n,children:t},e)})},A2=(t,e)=>sessionStorage.setItem(t,e),P2=t=>sessionStorage.getItem(t),L2=t=>sessionStorage.removeItem(t),N2=()=>{const{UserAuth:t,UserAuth:{username:e},setUserAuth:n}=E.useContext(ir),r=()=>{L2("user"),n({access_token:null}),window.location.replace("/")};return console.log("username",e),b.jsx(Ke,{transition:{duration:.2},className:"absolute right-0 z-50",children:b.jsxs("div",{className:"bg-white absolute right-0 border border-grey w-60  duration-200",children:[b.jsxs(ke,{to:"/editor",className:"flex gap-2 link md:hidden pl-8 py-4",children:[b.jsx("i",{className:"fi fi-rr-file-edit"}),b.jsx("p",{children:"write"})]}),b.jsx(ke,{to:`/user/${e}`,className:"link pl-8 py-4",children:"profile"}),b.jsx(ke,{to:`/dashboard/blogs/${e}`,className:"link pl-8 py-4",children:"dashbaord"}),b.jsx(ke,{to:"/settings/edit-profile",className:"link pl-8 py-4",children:"setting"}),b.jsx("span",{className:"absolute border-t border-grey  w-[100%]"}),b.jsxs("button",{className:"text-left p-4 hover:bg-grey w-full pl-8 py-4",onClick:r,children:[b.jsx("h1",{className:"font-bold text-xl mg-1",children:"Sign Out"}),b.jsxs("p",{children:["@",e]})]})]})})},R2=()=>{const[t,e]=E.useState(!1),[n,r]=E.useState(!1),{UserAuth:o,UserAuth:{access_token:i,profile_img:s}}=E.useContext(ir);let a=ls();const l=()=>{r(d=>!d)},c=()=>{setTimeout(()=>{r(!1)},500)},u=d=>{let h=d.target.value;d.keyCode==13&&h.length&&a(`/search/${h}`)};return b.jsxs(b.Fragment,{children:[b.jsxs("nav",{className:"navbar",children:[b.jsx(ke,{to:"/",className:"flex-none w-10",children:b.jsx("img",{src:S0,className:"w-full"})}),b.jsxs("div",{className:"absolute bg-white w-full left-0 top-full mt-0.5 border-b border-grey py-4 px-[5vw] md:border-0 md:block md:relative md:inset-0 md:p-0 md:w-auto md:show "+(t?"show":"hide"),children:[b.jsx("input",{type:"text",placeholder:"search",className:"w-full md:w-auto bg-grey p-4 pl-6 pr-[12%] md:pr-6 rounded-full placeholder:text-dark-grey md:pl-12",onKeyDown:u}),b.jsx("i",{className:"fi fi-rr-search absolute right-[10%] md:pointer-events-none md:left-5 top-1/2 -translate-y-1/2 text-x1 text-dark-grey"})]}),b.jsxs("div",{className:"flex items-center gap-3 md:gap-6 ml-auto",children:[b.jsx("button",{className:"md:hidden bg-grey w-12 rounded-full flex items-center justify-center",onClick:()=>{e(d=>!d)},children:b.jsx("i",{className:"fi fi-rr-search text-xl"})}),b.jsxs(ke,{to:"/editor",className:"hidden md:flex gap-2 link",children:[b.jsx("i",{className:"fi fi-rr-file-edit"}),b.jsx("p",{children:"write"})]}),i?b.jsxs(b.Fragment,{children:[b.jsx(ke,{to:"/dashboard/notification",children:b.jsx("button",{className:"w-12 h-12 rounded-full bg-grey relative hover:bg-black/10",children:b.jsx("i",{className:"fi fi-rr-bell text-2xl mt-1"})})}),b.jsxs("div",{className:"relative",onClick:l,onBlur:c,children:[b.jsx("button",{className:"w-12 h-12 mt-1",children:b.jsx("img",{src:s,className:"w-full h-full object-cover rounded-full"})}),n?b.jsx(N2,{}):""]})]}):b.jsxs(b.Fragment,{children:[b.jsx(ke,{className:"btn-dark py-2",to:"/signin",children:"Sign In"}),b.jsx(ke,{className:"btn-light py-2 hidden md:block",to:"/signup",children:"Sign Up"})]})]})]}),b.jsx(tS,{})]})},Kc=({name:t,type:e,id:n,value:r,placeholder:o,icon:i})=>b.jsxs("div",{className:"relative w-[100%] mb-4",children:[b.jsx("input",{name:t,type:e,placeholder:o,defaultValue:r,id:n,className:"input-box "}),b.jsx("i",{className:"fi "+i+" input-icon"})]}),O2="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACYAAAAoCAYAAACSN4jeAAAACXBIWXMAABYlAAAWJQFJUiTwAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAVeSURBVHgBzZhrbBRVFMfPuTO77dKtSCm1BQklppJCjEIfFIkUaHk2IKUEaQwR0FSNaIhA1BZCY2hVPho/CMQH0aatUgU+FLQPln5oKxTKIwEkJWwFoTwKWNjtY2fmeHaBdi3dmV12WfkluzN375mZ/9x79pxzL8ATCkIQUEGB6cb54+P5Lkka0gjUUAIJHQLopirJ7c/sbzwPj0jAwjrmvhwnq8oqDWA+S0vnn6J0zG8DUSOg+EmT5P3xvzdeAz/xW1hH9tQMCdRNRMiCQIIAIQAHAlaYTGLriAPNdiN7Q2FnF0+PjnG6SvnN10II4Af+xV8lo2qP7DCw8831WWmZJGAnnyZBiEGkckWWCxN8jJ7wdWFHdvr7JKj+cYhywy6RLyvqd776hxR2NSv9Q0H0Jb+XT+HBwv7WrvbhGt/9g0XNTpmLKA5AkKHEUJQLZsU3HL7g28aLW/MzEhVFbSCCseAHhHBcEOwD1A6TYv5TEeiSRV8MoJQApOWwwUK2SgxUlBvZu6G46HP+WxuKYptjAml9XG2LbYjudv608qfa3eicnbZaQdyCQOO4eUNFdVF8w9ELRs/oH7HrczIWk6buNb6AtsWq1iK02RTwk8uzJ4+ThWm7BtLG+NqmU/5c0y+st9La2lX53Ev0j9m3taCiuJqWUggDHmGuWnkanzZSj0TddaO13pMjH47sBFvj6o9shjAh7qnDAs8xUsVhORclS+YVQnS7Uj8XRs3I2QJhxDNiSq35EgGN8e5Qrli0u7+OF56pJVjNo/U9hBHRV2OaPFiUGzmhW0S/3gbS2Lsdo7SoCggzMgEm/3fWBpCG98HwlW31mHWmB/wgq8S5jVB7FYKE8/MHskCYoGuFUAf+glocv+PzECRCg0msi2L1jIikNgg/Y1gcDtOzIFXqgjCjAUVxuCD9CC5pZvgfEIjYqWdAqhq0zwSKAF7QcN2lm1BRUCqEHeyUVYRWHDpagJNk+NY5YXnK9vSNR9/e4TK6HWnaXq6Z7WAIzuKvGToGp5EOAle4puvceNq75291GGy4kwF2xequu3KPvla1B0JEVundGq75sn31C61nomDtCj+42rvjUF8Crbmd6RHlhkPKOggR8z/rTtQTxT5/sXZz7BlPElcV+sZ95AUCfO1Mho+70rCLTAPWhJlplbkbIAS4NFW/GCCeQ7hfXUTOUw52aJGn1nZNo13OJB/24ovU8qXLIAiySh1L2J1XGZj92C+MSwzK7Zzz6TFXrN4ChP/FWJFWuXQ9PIqokjsrOF2V6dlw+XW+rshac+/ci5SKZQ3sT6+AAewHZZImb2rOr7Ab2c7clx/rcFhKLFffeFN2pEj694VVdYXWXQ8Jm1qWl6RK2MID+BT4xy+cP3bz9LRGn+tssxXblAXVCyLuOC1jelwwnV9gEfflsJ0n7UXcWkIRN3OHnhUOW/WF1ikDzUHwqL3Fo7YTAscdDd2xTjeFmR0ZauS1NQhahBgQQV2qkF+0fWKxP/jtoaG9svv0sdF5ye5xnQmBgeDHLpBqviRc0c1gckxB1B7UD/jOwcIom7fdkDe6XHXm0Oi8SeyLMBMeAySc6IpuIkmJ0UTvs0X1m6xfDbbR3QZILc97jy22wX0fCTFOToXrjuRXDek2hvsTGeVLEhWUfuPTkFUZ/NATshArm5b/7HPxa7ib05y/x95ytiqZ08i7fEM7BMdt9t2Pos6+kKonyk1AOzrFxcWiesLJFbzozOdLs3l1FWl0DYeMbg4pTbyKrxDRkZV/LCzzqyJ+5K2mlJYCE5y7NVXI2kTOpZyYaST7jJnTbR8SdvKxndunemMsJ07O+8EBAfIvZzP9J7slOesAAAAASUVORK5CYII=";let M2={data:""},D2=t=>typeof window=="object"?((t?t.querySelector("#_goober"):window._goober)||Object.assign((t||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:t||M2,j2=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,F2=/\/\*[^]*?\*\/|  +/g,ig=/\n+/g,In=(t,e)=>{let n="",r="",o="";for(let i in t){let s=t[i];i[0]=="@"?i[1]=="i"?n=i+" "+s+";":r+=i[1]=="f"?In(s,i):i+"{"+In(s,i[1]=="k"?"":e)+"}":typeof s=="object"?r+=In(s,e?e.replace(/([^,])+/g,a=>i.replace(/(^:.*)|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,a):a?a+" "+l:l)):i):s!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),o+=In.p?In.p(i,s):i+":"+s+";")}return n+(e&&o?e+"{"+o+"}":o)+r},Wt={},z1=t=>{if(typeof t=="object"){let e="";for(let n in t)e+=n+z1(t[n]);return e}return t},U2=(t,e,n,r,o)=>{let i=z1(t),s=Wt[i]||(Wt[i]=(l=>{let c=0,u=11;for(;c<l.length;)u=101*u+l.charCodeAt(c++)>>>0;return"go"+u})(i));if(!Wt[s]){let l=i!==t?t:(c=>{let u,d,h=[{}];for(;u=j2.exec(c.replace(F2,""));)u[4]?h.shift():u[3]?(d=u[3].replace(ig," ").trim(),h.unshift(h[0][d]=h[0][d]||{})):h[0][u[1]]=u[2].replace(ig," ").trim();return h[0]})(t);Wt[s]=In(o?{["@keyframes "+s]:l}:l,n?"":"."+s)}let a=n&&Wt.g?Wt.g:null;return n&&(Wt.g=Wt[s]),((l,c,u,d)=>{d?c.data=c.data.replace(d,l):c.data.indexOf(l)===-1&&(c.data=u?l+c.data:c.data+l)})(Wt[s],e,r,a),s},$2=(t,e,n)=>t.reduce((r,o,i)=>{let s=e[i];if(s&&s.call){let a=s(n),l=a&&a.props&&a.props.className||/^go/.test(a)&&a;s=l?"."+l:a&&typeof a=="object"?a.props?"":In(a,""):a===!1?"":a}return r+o+(s??"")},"");function Hl(t){let e=this||{},n=t.call?t(e.p):t;return U2(n.unshift?n.raw?$2(n,[].slice.call(arguments,1),e.p):n.reduce((r,o)=>Object.assign(r,o&&o.call?o(e.p):o),{}):n,D2(e.target),e.g,e.o,e.k)}let W1,yd,bd;Hl.bind({g:1});let fn=Hl.bind({k:1});function V2(t,e,n,r){In.p=e,W1=t,yd=n,bd=r}function rr(t,e){let n=this||{};return function(){let r=arguments;function o(i,s){let a=Object.assign({},i),l=a.className||o.className;n.p=Object.assign({theme:yd&&yd()},a),n.o=/ *go\d+/.test(l),a.className=Hl.apply(n,r)+(l?" "+l:""),e&&(a.ref=s);let c=t;return t[0]&&(c=a.as||t,delete a.as),bd&&c[0]&&bd(a),W1(c,a)}return e?e(o):o}}var H2=t=>typeof t=="function",sl=(t,e)=>H2(t)?t(e):t,z2=(()=>{let t=0;return()=>(++t).toString()})(),K1=(()=>{let t;return()=>{if(t===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");t=!e||e.matches}return t}})(),W2=20,ua=new Map,K2=1e3,sg=t=>{if(ua.has(t))return;let e=setTimeout(()=>{ua.delete(t),jr({type:4,toastId:t})},K2);ua.set(t,e)},G2=t=>{let e=ua.get(t);e&&clearTimeout(e)},wd=(t,e)=>{switch(e.type){case 0:return{...t,toasts:[e.toast,...t.toasts].slice(0,W2)};case 1:return e.toast.id&&G2(e.toast.id),{...t,toasts:t.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:n}=e;return t.toasts.find(i=>i.id===n.id)?wd(t,{type:1,toast:n}):wd(t,{type:0,toast:n});case 3:let{toastId:r}=e;return r?sg(r):t.toasts.forEach(i=>{sg(i.id)}),{...t,toasts:t.toasts.map(i=>i.id===r||r===void 0?{...i,visible:!1}:i)};case 4:return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...t,pausedAt:e.time};case 6:let o=e.time-(t.pausedAt||0);return{...t,pausedAt:void 0,toasts:t.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+o}))}}},da=[],ha={toasts:[],pausedAt:void 0},jr=t=>{ha=wd(ha,t),da.forEach(e=>{e(ha)})},q2={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Y2=(t={})=>{let[e,n]=E.useState(ha);E.useEffect(()=>(da.push(n),()=>{let o=da.indexOf(n);o>-1&&da.splice(o,1)}),[e]);let r=e.toasts.map(o=>{var i,s;return{...t,...t[o.type],...o,duration:o.duration||((i=t[o.type])==null?void 0:i.duration)||(t==null?void 0:t.duration)||q2[o.type],style:{...t.style,...(s=t[o.type])==null?void 0:s.style,...o.style}}});return{...e,toasts:r}},X2=(t,e="blank",n)=>({createdAt:Date.now(),visible:!0,type:e,ariaProps:{role:"status","aria-live":"polite"},message:t,pauseDuration:0,...n,id:(n==null?void 0:n.id)||z2()}),fs=t=>(e,n)=>{let r=X2(e,t,n);return jr({type:2,toast:r}),r.id},X=(t,e)=>fs("blank")(t,e);X.error=fs("error");X.success=fs("success");X.loading=fs("loading");X.custom=fs("custom");X.dismiss=t=>{jr({type:3,toastId:t})};X.remove=t=>jr({type:4,toastId:t});X.promise=(t,e,n)=>{let r=X.loading(e.loading,{...n,...n==null?void 0:n.loading});return t.then(o=>(X.success(sl(e.success,o),{id:r,...n,...n==null?void 0:n.success}),o)).catch(o=>{X.error(sl(e.error,o),{id:r,...n,...n==null?void 0:n.error})}),t};var J2=(t,e)=>{jr({type:1,toast:{id:t,height:e}})},Q2=()=>{jr({type:5,time:Date.now()})},Z2=t=>{let{toasts:e,pausedAt:n}=Y2(t);E.useEffect(()=>{if(n)return;let i=Date.now(),s=e.map(a=>{if(a.duration===1/0)return;let l=(a.duration||0)+a.pauseDuration-(i-a.createdAt);if(l<0){a.visible&&X.dismiss(a.id);return}return setTimeout(()=>X.dismiss(a.id),l)});return()=>{s.forEach(a=>a&&clearTimeout(a))}},[e,n]);let r=E.useCallback(()=>{n&&jr({type:6,time:Date.now()})},[n]),o=E.useCallback((i,s)=>{let{reverseOrder:a=!1,gutter:l=8,defaultPosition:c}=s||{},u=e.filter(f=>(f.position||c)===(i.position||c)&&f.height),d=u.findIndex(f=>f.id===i.id),h=u.filter((f,m)=>m<d&&f.visible).length;return u.filter(f=>f.visible).slice(...a?[h+1]:[0,h]).reduce((f,m)=>f+(m.height||0)+l,0)},[e]);return{toasts:e,handlers:{updateHeight:J2,startPause:Q2,endPause:r,calculateOffset:o}}},eI=fn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,tI=fn`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,nI=fn`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,rI=rr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${eI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${tI} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${t=>t.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${nI} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,oI=fn`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,iI=rr("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${t=>t.secondary||"#e0e0e0"};
  border-right-color: ${t=>t.primary||"#616161"};
  animation: ${oI} 1s linear infinite;
`,sI=fn`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,aI=fn`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,lI=rr("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${t=>t.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${sI} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${aI} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${t=>t.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,cI=rr("div")`
  position: absolute;
`,uI=rr("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,dI=fn`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,hI=rr("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${dI} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,fI=({toast:t})=>{let{icon:e,type:n,iconTheme:r}=t;return e!==void 0?typeof e=="string"?E.createElement(hI,null,e):e:n==="blank"?null:E.createElement(uI,null,E.createElement(iI,{...r}),n!=="loading"&&E.createElement(cI,null,n==="error"?E.createElement(rI,{...r}):E.createElement(lI,{...r})))},pI=t=>`
0% {transform: translate3d(0,${t*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,mI=t=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${t*-150}%,-1px) scale(.6); opacity:0;}
`,gI="0%{opacity:0;} 100%{opacity:1;}",vI="0%{opacity:1;} 100%{opacity:0;}",yI=rr("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,bI=rr("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,wI=(t,e)=>{let n=t.includes("top")?1:-1,[r,o]=K1()?[gI,vI]:[pI(n),mI(n)];return{animation:e?`${fn(r)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${fn(o)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},kI=E.memo(({toast:t,position:e,style:n,children:r})=>{let o=t.height?wI(t.position||e||"top-center",t.visible):{opacity:0},i=E.createElement(fI,{toast:t}),s=E.createElement(bI,{...t.ariaProps},sl(t.message,t));return E.createElement(yI,{className:t.className,style:{...o,...n,...t.style}},typeof r=="function"?r({icon:i,message:s}):E.createElement(E.Fragment,null,i,s))});V2(E.createElement);var xI=({id:t,className:e,style:n,onHeightUpdate:r,children:o})=>{let i=E.useCallback(s=>{if(s){let a=()=>{let l=s.getBoundingClientRect().height;r(t,l)};a(),new MutationObserver(a).observe(s,{subtree:!0,childList:!0,characterData:!0})}},[t,r]);return E.createElement("div",{ref:i,className:e,style:n},o)},EI=(t,e)=>{let n=t.includes("top"),r=n?{top:0}:{bottom:0},o=t.includes("center")?{justifyContent:"center"}:t.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:K1()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(n?1:-1)}px)`,...r,...o}},SI=Hl`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,Gs=16,cf=({reverseOrder:t,position:e="top-center",toastOptions:n,gutter:r,children:o,containerStyle:i,containerClassName:s})=>{let{toasts:a,handlers:l}=Z2(n);return E.createElement("div",{style:{position:"fixed",zIndex:9999,top:Gs,left:Gs,right:Gs,bottom:Gs,pointerEvents:"none",...i},className:s,onMouseEnter:l.startPause,onMouseLeave:l.endPause},a.map(c=>{let u=c.position||e,d=l.calculateOffset(c,{reverseOrder:t,gutter:r,defaultPosition:e}),h=EI(u,d);return E.createElement(xI,{id:c.id,key:c.id,onHeightUpdate:l.updateHeight,className:c.visible?SI:"",style:h},c.type==="custom"?sl(c.message,c):o?o(c):E.createElement(kI,{toast:c,position:u}))}))},vt=X;function G1(t,e){return function(){return t.apply(e,arguments)}}const{toString:CI}=Object.prototype,{getPrototypeOf:uf}=Object,zl=(t=>e=>{const n=CI.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),zt=t=>(t=t.toLowerCase(),e=>zl(e)===t),Wl=t=>e=>typeof e===t,{isArray:Ho}=Array,Yi=Wl("undefined");function TI(t){return t!==null&&!Yi(t)&&t.constructor!==null&&!Yi(t.constructor)&&ht(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const q1=zt("ArrayBuffer");function _I(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&q1(t.buffer),e}const II=Wl("string"),ht=Wl("function"),Y1=Wl("number"),Kl=t=>t!==null&&typeof t=="object",BI=t=>t===!0||t===!1,fa=t=>{if(zl(t)!=="object")return!1;const e=uf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},AI=zt("Date"),PI=zt("File"),LI=zt("Blob"),NI=zt("FileList"),RI=t=>Kl(t)&&ht(t.pipe),OI=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ht(t.append)&&((e=zl(t))==="formdata"||e==="object"&&ht(t.toString)&&t.toString()==="[object FormData]"))},MI=zt("URLSearchParams"),DI=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function ps(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,o;if(typeof t!="object"&&(t=[t]),Ho(t))for(r=0,o=t.length;r<o;r++)e.call(null,t[r],r,t);else{const i=n?Object.getOwnPropertyNames(t):Object.keys(t),s=i.length;let a;for(r=0;r<s;r++)a=i[r],e.call(null,t[a],a,t)}}function X1(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,o;for(;r-- >0;)if(o=n[r],e===o.toLowerCase())return o;return null}const J1=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),Q1=t=>!Yi(t)&&t!==J1;function kd(){const{caseless:t}=Q1(this)&&this||{},e={},n=(r,o)=>{const i=t&&X1(e,o)||o;fa(e[i])&&fa(r)?e[i]=kd(e[i],r):fa(r)?e[i]=kd({},r):Ho(r)?e[i]=r.slice():e[i]=r};for(let r=0,o=arguments.length;r<o;r++)arguments[r]&&ps(arguments[r],n);return e}const jI=(t,e,n,{allOwnKeys:r}={})=>(ps(e,(o,i)=>{n&&ht(o)?t[i]=G1(o,n):t[i]=o},{allOwnKeys:r}),t),FI=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),UI=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},$I=(t,e,n,r)=>{let o,i,s;const a={};if(e=e||{},t==null)return e;do{for(o=Object.getOwnPropertyNames(t),i=o.length;i-- >0;)s=o[i],(!r||r(s,t,e))&&!a[s]&&(e[s]=t[s],a[s]=!0);t=n!==!1&&uf(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},VI=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},HI=t=>{if(!t)return null;if(Ho(t))return t;let e=t.length;if(!Y1(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},zI=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&uf(Uint8Array)),WI=(t,e)=>{const r=(t&&t[Symbol.iterator]).call(t);let o;for(;(o=r.next())&&!o.done;){const i=o.value;e.call(t,i[0],i[1])}},KI=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},GI=zt("HTMLFormElement"),qI=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,o){return r.toUpperCase()+o}),ag=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),YI=zt("RegExp"),Z1=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};ps(n,(o,i)=>{e(o,i,t)!==!1&&(r[i]=o)}),Object.defineProperties(t,r)},XI=t=>{Z1(t,(e,n)=>{if(ht(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ht(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},JI=(t,e)=>{const n={},r=o=>{o.forEach(i=>{n[i]=!0})};return Ho(t)?r(t):r(String(t).split(e)),n},QI=()=>{},ZI=(t,e)=>(t=+t,Number.isFinite(t)?t:e),Gc="abcdefghijklmnopqrstuvwxyz",lg="0123456789",eb={DIGIT:lg,ALPHA:Gc,ALPHA_DIGIT:Gc+Gc.toUpperCase()+lg},eB=(t=16,e=eb.ALPHA_DIGIT)=>{let n="";const{length:r}=e;for(;t--;)n+=e[Math.random()*r|0];return n};function tB(t){return!!(t&&ht(t.append)&&t[Symbol.toStringTag]==="FormData"&&t[Symbol.iterator])}const nB=t=>{const e=new Array(10),n=(r,o)=>{if(Kl(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[o]=r;const i=Ho(r)?[]:{};return ps(r,(s,a)=>{const l=n(s,o+1);!Yi(l)&&(i[a]=l)}),e[o]=void 0,i}}return r};return n(t,0)},rB=zt("AsyncFunction"),oB=t=>t&&(Kl(t)||ht(t))&&ht(t.then)&&ht(t.catch),A={isArray:Ho,isArrayBuffer:q1,isBuffer:TI,isFormData:OI,isArrayBufferView:_I,isString:II,isNumber:Y1,isBoolean:BI,isObject:Kl,isPlainObject:fa,isUndefined:Yi,isDate:AI,isFile:PI,isBlob:LI,isRegExp:YI,isFunction:ht,isStream:RI,isURLSearchParams:MI,isTypedArray:zI,isFileList:NI,forEach:ps,merge:kd,extend:jI,trim:DI,stripBOM:FI,inherits:UI,toFlatObject:$I,kindOf:zl,kindOfTest:zt,endsWith:VI,toArray:HI,forEachEntry:WI,matchAll:KI,isHTMLForm:GI,hasOwnProperty:ag,hasOwnProp:ag,reduceDescriptors:Z1,freezeMethods:XI,toObjectSet:JI,toCamelCase:qI,noop:QI,toFiniteNumber:ZI,findKey:X1,global:J1,isContextDefined:Q1,ALPHABET:eb,generateString:eB,isSpecCompliantForm:tB,toJSONObject:nB,isAsyncFn:rB,isThenable:oB};function J(t,e,n,r,o){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),o&&(this.response=o)}A.inherits(J,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:A.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const tb=J.prototype,nb={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{nb[t]={value:t}});Object.defineProperties(J,nb);Object.defineProperty(tb,"isAxiosError",{value:!0});J.from=(t,e,n,r,o,i)=>{const s=Object.create(tb);return A.toFlatObject(t,s,function(l){return l!==Error.prototype},a=>a!=="isAxiosError"),J.call(s,t.message,e,n,r,o),s.cause=t,s.name=t.name,i&&Object.assign(s,i),s};const iB=null;function xd(t){return A.isPlainObject(t)||A.isArray(t)}function rb(t){return A.endsWith(t,"[]")?t.slice(0,-2):t}function cg(t,e,n){return t?t.concat(e).map(function(o,i){return o=rb(o),!n&&i?"["+o+"]":o}).join(n?".":""):e}function sB(t){return A.isArray(t)&&!t.some(xd)}const aB=A.toFlatObject(A,{},null,function(e){return/^is[A-Z]/.test(e)});function Gl(t,e,n){if(!A.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=A.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,k){return!A.isUndefined(k[g])});const r=n.metaTokens,o=n.visitor||u,i=n.dots,s=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&A.isSpecCompliantForm(e);if(!A.isFunction(o))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(A.isDate(m))return m.toISOString();if(!l&&A.isBlob(m))throw new J("Blob is not supported. Use a Buffer instead.");return A.isArrayBuffer(m)||A.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function u(m,g,k){let y=m;if(m&&!k&&typeof m=="object"){if(A.endsWith(g,"{}"))g=r?g:g.slice(0,-2),m=JSON.stringify(m);else if(A.isArray(m)&&sB(m)||(A.isFileList(m)||A.endsWith(g,"[]"))&&(y=A.toArray(m)))return g=rb(g),y.forEach(function(v,w){!(A.isUndefined(v)||v===null)&&e.append(s===!0?cg([g],w,i):s===null?g:g+"[]",c(v))}),!1}return xd(m)?!0:(e.append(cg(k,g,i),c(m)),!1)}const d=[],h=Object.assign(aB,{defaultVisitor:u,convertValue:c,isVisitable:xd});function f(m,g){if(!A.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(m),A.forEach(m,function(y,p){(!(A.isUndefined(y)||y===null)&&o.call(e,y,A.isString(p)?p.trim():p,g,h))===!0&&f(y,g?g.concat(p):[p])}),d.pop()}}if(!A.isObject(t))throw new TypeError("data must be an object");return f(t),e}function ug(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function df(t,e){this._pairs=[],t&&Gl(t,this,e)}const ob=df.prototype;ob.append=function(e,n){this._pairs.push([e,n])};ob.toString=function(e){const n=e?function(r){return e.call(this,r,ug)}:ug;return this._pairs.map(function(o){return n(o[0])+"="+n(o[1])},"").join("&")};function lB(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function ib(t,e,n){if(!e)return t;const r=n&&n.encode||lB,o=n&&n.serialize;let i;if(o?i=o(e,n):i=A.isURLSearchParams(e)?e.toString():new df(e,n).toString(r),i){const s=t.indexOf("#");s!==-1&&(t=t.slice(0,s)),t+=(t.indexOf("?")===-1?"?":"&")+i}return t}class cB{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){A.forEach(this.handlers,function(r){r!==null&&e(r)})}}const dg=cB,sb={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},uB=typeof URLSearchParams<"u"?URLSearchParams:df,dB=typeof FormData<"u"?FormData:null,hB=typeof Blob<"u"?Blob:null,fB=(()=>{let t;return typeof navigator<"u"&&((t=navigator.product)==="ReactNative"||t==="NativeScript"||t==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),pB=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),Ot={isBrowser:!0,classes:{URLSearchParams:uB,FormData:dB,Blob:hB},isStandardBrowserEnv:fB,isStandardBrowserWebWorkerEnv:pB,protocols:["http","https","file","blob","url","data"]};function mB(t,e){return Gl(t,new Ot.classes.URLSearchParams,Object.assign({visitor:function(n,r,o,i){return Ot.isNode&&A.isBuffer(n)?(this.append(r,n.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)}},e))}function gB(t){return A.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function vB(t){const e={},n=Object.keys(t);let r;const o=n.length;let i;for(r=0;r<o;r++)i=n[r],e[i]=t[i];return e}function ab(t){function e(n,r,o,i){let s=n[i++];const a=Number.isFinite(+s),l=i>=n.length;return s=!s&&A.isArray(o)?o.length:s,l?(A.hasOwnProp(o,s)?o[s]=[o[s],r]:o[s]=r,!a):((!o[s]||!A.isObject(o[s]))&&(o[s]=[]),e(n,r,o[s],i)&&A.isArray(o[s])&&(o[s]=vB(o[s])),!a)}if(A.isFormData(t)&&A.isFunction(t.entries)){const n={};return A.forEachEntry(t,(r,o)=>{e(gB(r),o,n,0)}),n}return null}const yB={"Content-Type":void 0};function bB(t,e,n){if(A.isString(t))try{return(e||JSON.parse)(t),A.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const ql={transitional:sb,adapter:["xhr","http"],transformRequest:[function(e,n){const r=n.getContentType()||"",o=r.indexOf("application/json")>-1,i=A.isObject(e);if(i&&A.isHTMLForm(e)&&(e=new FormData(e)),A.isFormData(e))return o&&o?JSON.stringify(ab(e)):e;if(A.isArrayBuffer(e)||A.isBuffer(e)||A.isStream(e)||A.isFile(e)||A.isBlob(e))return e;if(A.isArrayBufferView(e))return e.buffer;if(A.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(i){if(r.indexOf("application/x-www-form-urlencoded")>-1)return mB(e,this.formSerializer).toString();if((a=A.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Gl(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return i||o?(n.setContentType("application/json",!1),bB(e)):e}],transformResponse:[function(e){const n=this.transitional||ql.transitional,r=n&&n.forcedJSONParsing,o=this.responseType==="json";if(e&&A.isString(e)&&(r&&!this.responseType||o)){const s=!(n&&n.silentJSONParsing)&&o;try{return JSON.parse(e)}catch(a){if(s)throw a.name==="SyntaxError"?J.from(a,J.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ot.classes.FormData,Blob:Ot.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};A.forEach(["delete","get","head"],function(e){ql.headers[e]={}});A.forEach(["post","put","patch"],function(e){ql.headers[e]=A.merge(yB)});const hf=ql,wB=A.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),kB=t=>{const e={};let n,r,o;return t&&t.split(`
`).forEach(function(s){o=s.indexOf(":"),n=s.substring(0,o).trim().toLowerCase(),r=s.substring(o+1).trim(),!(!n||e[n]&&wB[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},hg=Symbol("internals");function ni(t){return t&&String(t).trim().toLowerCase()}function pa(t){return t===!1||t==null?t:A.isArray(t)?t.map(pa):String(t)}function xB(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const EB=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function qc(t,e,n,r,o){if(A.isFunction(r))return r.call(this,e,n);if(o&&(e=n),!!A.isString(e)){if(A.isString(r))return e.indexOf(r)!==-1;if(A.isRegExp(r))return r.test(e)}}function SB(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function CB(t,e){const n=A.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(o,i,s){return this[r].call(this,e,o,i,s)},configurable:!0})})}class Yl{constructor(e){e&&this.set(e)}set(e,n,r){const o=this;function i(a,l,c){const u=ni(l);if(!u)throw new Error("header name must be a non-empty string");const d=A.findKey(o,u);(!d||o[d]===void 0||c===!0||c===void 0&&o[d]!==!1)&&(o[d||l]=pa(a))}const s=(a,l)=>A.forEach(a,(c,u)=>i(c,u,l));return A.isPlainObject(e)||e instanceof this.constructor?s(e,n):A.isString(e)&&(e=e.trim())&&!EB(e)?s(kB(e),n):e!=null&&i(n,e,r),this}get(e,n){if(e=ni(e),e){const r=A.findKey(this,e);if(r){const o=this[r];if(!n)return o;if(n===!0)return xB(o);if(A.isFunction(n))return n.call(this,o,r);if(A.isRegExp(n))return n.exec(o);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=ni(e),e){const r=A.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||qc(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let o=!1;function i(s){if(s=ni(s),s){const a=A.findKey(r,s);a&&(!n||qc(r,r[a],a,n))&&(delete r[a],o=!0)}}return A.isArray(e)?e.forEach(i):i(e),o}clear(e){const n=Object.keys(this);let r=n.length,o=!1;for(;r--;){const i=n[r];(!e||qc(this,this[i],i,e,!0))&&(delete this[i],o=!0)}return o}normalize(e){const n=this,r={};return A.forEach(this,(o,i)=>{const s=A.findKey(r,i);if(s){n[s]=pa(o),delete n[i];return}const a=e?SB(i):String(i).trim();a!==i&&delete n[i],n[a]=pa(o),r[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return A.forEach(this,(r,o)=>{r!=null&&r!==!1&&(n[o]=e&&A.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(o=>r.set(o)),r}static accessor(e){const r=(this[hg]=this[hg]={accessors:{}}).accessors,o=this.prototype;function i(s){const a=ni(s);r[a]||(CB(o,s),r[a]=!0)}return A.isArray(e)?e.forEach(i):i(e),this}}Yl.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);A.freezeMethods(Yl.prototype);A.freezeMethods(Yl);const an=Yl;function Yc(t,e){const n=this||hf,r=e||n,o=an.from(r.headers);let i=r.data;return A.forEach(t,function(a){i=a.call(n,i,o.normalize(),e?e.status:void 0)}),o.normalize(),i}function lb(t){return!!(t&&t.__CANCEL__)}function ms(t,e,n){J.call(this,t??"canceled",J.ERR_CANCELED,e,n),this.name="CanceledError"}A.inherits(ms,J,{__CANCEL__:!0});function TB(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new J("Request failed with status code "+n.status,[J.ERR_BAD_REQUEST,J.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}const _B=Ot.isStandardBrowserEnv?function(){return{write:function(n,r,o,i,s,a){const l=[];l.push(n+"="+encodeURIComponent(r)),A.isNumber(o)&&l.push("expires="+new Date(o).toGMTString()),A.isString(i)&&l.push("path="+i),A.isString(s)&&l.push("domain="+s),a===!0&&l.push("secure"),document.cookie=l.join("; ")},read:function(n){const r=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return r?decodeURIComponent(r[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function IB(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function BB(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}function cb(t,e){return t&&!IB(e)?BB(t,e):e}const AB=Ot.isStandardBrowserEnv?function(){const e=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function o(i){let s=i;return e&&(n.setAttribute("href",s),s=n.href),n.setAttribute("href",s),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=o(window.location.href),function(s){const a=A.isString(s)?o(s):s;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}();function PB(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function LB(t,e){t=t||10;const n=new Array(t),r=new Array(t);let o=0,i=0,s;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[i];s||(s=c),n[o]=l,r[o]=c;let d=i,h=0;for(;d!==o;)h+=n[d++],d=d%t;if(o=(o+1)%t,o===i&&(i=(i+1)%t),c-s<e)return;const f=u&&c-u;return f?Math.round(h*1e3/f):void 0}}function fg(t,e){let n=0;const r=LB(50,250);return o=>{const i=o.loaded,s=o.lengthComputable?o.total:void 0,a=i-n,l=r(a),c=i<=s;n=i;const u={loaded:i,total:s,progress:s?i/s:void 0,bytes:a,rate:l||void 0,estimated:l&&s&&c?(s-i)/l:void 0,event:o};u[e?"download":"upload"]=!0,t(u)}}const NB=typeof XMLHttpRequest<"u",RB=NB&&function(t){return new Promise(function(n,r){let o=t.data;const i=an.from(t.headers).normalize(),s=t.responseType;let a;function l(){t.cancelToken&&t.cancelToken.unsubscribe(a),t.signal&&t.signal.removeEventListener("abort",a)}A.isFormData(o)&&(Ot.isStandardBrowserEnv||Ot.isStandardBrowserWebWorkerEnv?i.setContentType(!1):i.setContentType("multipart/form-data;",!1));let c=new XMLHttpRequest;if(t.auth){const f=t.auth.username||"",m=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";i.set("Authorization","Basic "+btoa(f+":"+m))}const u=cb(t.baseURL,t.url);c.open(t.method.toUpperCase(),ib(u,t.params,t.paramsSerializer),!0),c.timeout=t.timeout;function d(){if(!c)return;const f=an.from("getAllResponseHeaders"in c&&c.getAllResponseHeaders()),g={data:!s||s==="text"||s==="json"?c.responseText:c.response,status:c.status,statusText:c.statusText,headers:f,config:t,request:c};TB(function(y){n(y),l()},function(y){r(y),l()},g),c=null}if("onloadend"in c?c.onloadend=d:c.onreadystatechange=function(){!c||c.readyState!==4||c.status===0&&!(c.responseURL&&c.responseURL.indexOf("file:")===0)||setTimeout(d)},c.onabort=function(){c&&(r(new J("Request aborted",J.ECONNABORTED,t,c)),c=null)},c.onerror=function(){r(new J("Network Error",J.ERR_NETWORK,t,c)),c=null},c.ontimeout=function(){let m=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded";const g=t.transitional||sb;t.timeoutErrorMessage&&(m=t.timeoutErrorMessage),r(new J(m,g.clarifyTimeoutError?J.ETIMEDOUT:J.ECONNABORTED,t,c)),c=null},Ot.isStandardBrowserEnv){const f=(t.withCredentials||AB(u))&&t.xsrfCookieName&&_B.read(t.xsrfCookieName);f&&i.set(t.xsrfHeaderName,f)}o===void 0&&i.setContentType(null),"setRequestHeader"in c&&A.forEach(i.toJSON(),function(m,g){c.setRequestHeader(g,m)}),A.isUndefined(t.withCredentials)||(c.withCredentials=!!t.withCredentials),s&&s!=="json"&&(c.responseType=t.responseType),typeof t.onDownloadProgress=="function"&&c.addEventListener("progress",fg(t.onDownloadProgress,!0)),typeof t.onUploadProgress=="function"&&c.upload&&c.upload.addEventListener("progress",fg(t.onUploadProgress)),(t.cancelToken||t.signal)&&(a=f=>{c&&(r(!f||f.type?new ms(null,t,c):f),c.abort(),c=null)},t.cancelToken&&t.cancelToken.subscribe(a),t.signal&&(t.signal.aborted?a():t.signal.addEventListener("abort",a)));const h=PB(u);if(h&&Ot.protocols.indexOf(h)===-1){r(new J("Unsupported protocol "+h+":",J.ERR_BAD_REQUEST,t));return}c.send(o||null)})},ma={http:iB,xhr:RB};A.forEach(ma,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const OB={getAdapter:t=>{t=A.isArray(t)?t:[t];const{length:e}=t;let n,r;for(let o=0;o<e&&(n=t[o],!(r=A.isString(n)?ma[n.toLowerCase()]:n));o++);if(!r)throw r===!1?new J(`Adapter ${n} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(A.hasOwnProp(ma,n)?`Adapter '${n}' is not available in the build`:`Unknown adapter '${n}'`);if(!A.isFunction(r))throw new TypeError("adapter is not a function");return r},adapters:ma};function Xc(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ms(null,t)}function pg(t){return Xc(t),t.headers=an.from(t.headers),t.data=Yc.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),OB.getAdapter(t.adapter||hf.adapter)(t).then(function(r){return Xc(t),r.data=Yc.call(t,t.transformResponse,r),r.headers=an.from(r.headers),r},function(r){return lb(r)||(Xc(t),r&&r.response&&(r.response.data=Yc.call(t,t.transformResponse,r.response),r.response.headers=an.from(r.response.headers))),Promise.reject(r)})}const mg=t=>t instanceof an?t.toJSON():t;function Po(t,e){e=e||{};const n={};function r(c,u,d){return A.isPlainObject(c)&&A.isPlainObject(u)?A.merge.call({caseless:d},c,u):A.isPlainObject(u)?A.merge({},u):A.isArray(u)?u.slice():u}function o(c,u,d){if(A.isUndefined(u)){if(!A.isUndefined(c))return r(void 0,c,d)}else return r(c,u,d)}function i(c,u){if(!A.isUndefined(u))return r(void 0,u)}function s(c,u){if(A.isUndefined(u)){if(!A.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function a(c,u,d){if(d in e)return r(c,u);if(d in t)return r(void 0,c)}const l={url:i,method:i,data:i,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:a,headers:(c,u)=>o(mg(c),mg(u),!0)};return A.forEach(Object.keys(Object.assign({},t,e)),function(u){const d=l[u]||o,h=d(t[u],e[u],u);A.isUndefined(h)&&d!==a||(n[u]=h)}),n}const ub="1.4.0",ff={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{ff[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const gg={};ff.transitional=function(e,n,r){function o(i,s){return"[Axios v"+ub+"] Transitional option '"+i+"'"+s+(r?". "+r:"")}return(i,s,a)=>{if(e===!1)throw new J(o(s," has been removed"+(n?" in "+n:"")),J.ERR_DEPRECATED);return n&&!gg[s]&&(gg[s]=!0,console.warn(o(s," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(i,s,a):!0}};function MB(t,e,n){if(typeof t!="object")throw new J("options must be an object",J.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let o=r.length;for(;o-- >0;){const i=r[o],s=e[i];if(s){const a=t[i],l=a===void 0||s(a,i,t);if(l!==!0)throw new J("option "+i+" must be "+l,J.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new J("Unknown option "+i,J.ERR_BAD_OPTION)}}const Ed={assertOptions:MB,validators:ff},yn=Ed.validators;class al{constructor(e){this.defaults=e,this.interceptors={request:new dg,response:new dg}}request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=Po(this.defaults,n);const{transitional:r,paramsSerializer:o,headers:i}=n;r!==void 0&&Ed.assertOptions(r,{silentJSONParsing:yn.transitional(yn.boolean),forcedJSONParsing:yn.transitional(yn.boolean),clarifyTimeoutError:yn.transitional(yn.boolean)},!1),o!=null&&(A.isFunction(o)?n.paramsSerializer={serialize:o}:Ed.assertOptions(o,{encode:yn.function,serialize:yn.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let s;s=i&&A.merge(i.common,i[n.method]),s&&A.forEach(["delete","get","head","post","put","patch","common"],m=>{delete i[m]}),n.headers=an.concat(s,i);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(n)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const c=[];this.interceptors.response.forEach(function(g){c.push(g.fulfilled,g.rejected)});let u,d=0,h;if(!l){const m=[pg.bind(this),void 0];for(m.unshift.apply(m,a),m.push.apply(m,c),h=m.length,u=Promise.resolve(n);d<h;)u=u.then(m[d++],m[d++]);return u}h=a.length;let f=n;for(d=0;d<h;){const m=a[d++],g=a[d++];try{f=m(f)}catch(k){g.call(this,k);break}}try{u=pg.call(this,f)}catch(m){return Promise.reject(m)}for(d=0,h=c.length;d<h;)u=u.then(c[d++],c[d++]);return u}getUri(e){e=Po(this.defaults,e);const n=cb(e.baseURL,e.url);return ib(n,e.params,e.paramsSerializer)}}A.forEach(["delete","get","head","options"],function(e){al.prototype[e]=function(n,r){return this.request(Po(r||{},{method:e,url:n,data:(r||{}).data}))}});A.forEach(["post","put","patch"],function(e){function n(r){return function(i,s,a){return this.request(Po(a||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:i,data:s}))}}al.prototype[e]=n(),al.prototype[e+"Form"]=n(!0)});const ga=al;class pf{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(i){n=i});const r=this;this.promise.then(o=>{if(!r._listeners)return;let i=r._listeners.length;for(;i-- >0;)r._listeners[i](o);r._listeners=null}),this.promise.then=o=>{let i;const s=new Promise(a=>{r.subscribe(a),i=a}).then(o);return s.cancel=function(){r.unsubscribe(i)},s},e(function(i,s,a){r.reason||(r.reason=new ms(i,s,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}static source(){let e;return{token:new pf(function(o){e=o}),cancel:e}}}const DB=pf;function jB(t){return function(n){return t.apply(null,n)}}function FB(t){return A.isObject(t)&&t.isAxiosError===!0}const Sd={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Sd).forEach(([t,e])=>{Sd[e]=t});const UB=Sd;function db(t){const e=new ga(t),n=G1(ga.prototype.request,e);return A.extend(n,ga.prototype,e,{allOwnKeys:!0}),A.extend(n,e,null,{allOwnKeys:!0}),n.create=function(o){return db(Po(t,o))},n}const Ee=db(hf);Ee.Axios=ga;Ee.CanceledError=ms;Ee.CancelToken=DB;Ee.isCancel=lb;Ee.VERSION=ub;Ee.toFormData=Gl;Ee.AxiosError=J;Ee.Cancel=Ee.CanceledError;Ee.all=function(e){return Promise.all(e)};Ee.spread=jB;Ee.isAxiosError=FB;Ee.mergeConfig=Po;Ee.AxiosHeaders=an;Ee.formToJSON=t=>ab(A.isHTMLForm(t)?new FormData(t):t);Ee.HttpStatusCode=UB;Ee.default=Ee;const Be=Ee;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},$B=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[n++];e[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){const i=t[n++],s=t[n++],a=t[n++],l=((o&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63)}}return e.join("")},fb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const i=t[o],s=o+1<t.length,a=s?t[o+1]:0,l=o+2<t.length,c=l?t[o+2]:0,u=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|c>>6,f=c&63;l||(f=64,s||(h=64)),r.push(n[u],n[d],n[h],n[f])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(hb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):$B(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const c=o<t.length?n[t.charAt(o)]:64;++o;const d=o<t.length?n[t.charAt(o)]:64;if(++o,i==null||a==null||c==null||d==null)throw new VB;const h=i<<2|a>>4;if(r.push(h),c!==64){const f=a<<4&240|c>>2;if(r.push(f),d!==64){const m=c<<6&192|d;r.push(m)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class VB extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const HB=function(t){const e=hb(t);return fb.encodeByteArray(e,!0)},pb=function(t){return HB(t).replace(/\./g,"")},mb=function(t){try{return fb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zB(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WB=()=>zB().__FIREBASE_DEFAULTS__,KB=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},GB=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&mb(t[1]);return e&&JSON.parse(e)},mf=()=>{try{return WB()||KB()||GB()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},qB=t=>{var e,n;return(n=(e=mf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},gb=()=>{var t;return(t=mf())===null||t===void 0?void 0:t.config},vb=t=>{var e;return(e=mf())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YB{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function De(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function XB(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(De())}function JB(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function QB(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ZB(){const t=De();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function eA(){try{return typeof indexedDB=="object"}catch{return!1}}function tA(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var i;e(((i=o.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nA="FirebaseError";class or extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=nA,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gs.prototype.create)}}class gs{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],s=i?rA(i,r):"Error",a=`${this.serviceName}: ${s} (${o}).`;return new or(o,a,r)}}function rA(t,e){return t.replace(oA,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const oA=/\{\$([^}]+)}/g;function iA(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function ll(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const i=t[o],s=e[o];if(vg(i)&&vg(s)){if(!ll(i,s))return!1}else if(i!==s)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function vg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vs(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function sA(t,e){const n=new aA(t,e);return n.subscribe.bind(n)}class aA{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let o;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");lA(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:r},o.next===void 0&&(o.next=Jc),o.error===void 0&&(o.error=Jc),o.complete===void 0&&(o.complete=Jc);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lA(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Jc(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zo(t){return t&&t._delegate?t._delegate:t}class Lo{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cA{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new YB;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(o)return null;throw i}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(dA(e))try{this.getOrInitializeService({instanceIdentifier:pr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=pr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=pr){return this.instances.has(e)}getOptions(e=pr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&s.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(o,i);const s=this.instances.get(o);return s&&e(s,o),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:uA(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=pr){return this.component?this.component.multipleInstances?e:pr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function uA(t){return t===pr?void 0:t}function dA(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hA{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new cA(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ne;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ne||(ne={}));const fA={debug:ne.DEBUG,verbose:ne.VERBOSE,info:ne.INFO,warn:ne.WARN,error:ne.ERROR,silent:ne.SILENT},pA=ne.INFO,mA={[ne.DEBUG]:"log",[ne.VERBOSE]:"log",[ne.INFO]:"info",[ne.WARN]:"warn",[ne.ERROR]:"error"},gA=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=mA[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yb{constructor(e){this.name=e,this._logLevel=pA,this._logHandler=gA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ne))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fA[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ne.DEBUG,...e),this._logHandler(this,ne.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ne.VERBOSE,...e),this._logHandler(this,ne.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ne.INFO,...e),this._logHandler(this,ne.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ne.WARN,...e),this._logHandler(this,ne.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ne.ERROR,...e),this._logHandler(this,ne.ERROR,...e)}}const vA=(t,e)=>e.some(n=>t instanceof n);let yg,bg;function yA(){return yg||(yg=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function bA(){return bg||(bg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const bb=new WeakMap,Cd=new WeakMap,wb=new WeakMap,Qc=new WeakMap,gf=new WeakMap;function wA(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(Kn(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&bb.set(n,t)}).catch(()=>{}),gf.set(e,t),e}function kA(t){if(Cd.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});Cd.set(t,e)}let Td={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Cd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Kn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xA(t){Td=t(Td)}function EA(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Zc(this),e,...n);return wb.set(r,e.sort?e.sort():[e]),Kn(r)}:bA().includes(t)?function(...e){return t.apply(Zc(this),e),Kn(bb.get(this))}:function(...e){return Kn(t.apply(Zc(this),e))}}function SA(t){return typeof t=="function"?EA(t):(t instanceof IDBTransaction&&kA(t),vA(t,yA())?new Proxy(t,Td):t)}function Kn(t){if(t instanceof IDBRequest)return wA(t);if(Qc.has(t))return Qc.get(t);const e=SA(t);return e!==t&&(Qc.set(t,e),gf.set(e,t)),e}const Zc=t=>gf.get(t);function CA(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(t,e),a=Kn(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Kn(s.result),l.oldVersion,l.newVersion,Kn(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),o&&l.addEventListener("versionchange",c=>o(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const TA=["get","getKey","getAll","getAllKeys","count"],_A=["put","add","delete","clear"],eu=new Map;function wg(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(eu.get(e))return eu.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=_A.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||TA.includes(n)))return;const i=async function(s,...a){const l=this.transaction(s,o?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),o&&l.done]))[0]};return eu.set(e,i),i}xA(t=>({...t,get:(e,n,r)=>wg(e,n)||t.get(e,n,r),has:(e,n)=>!!wg(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(BA(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function BA(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const _d="@firebase/app",kg="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pr=new yb("@firebase/app"),AA="@firebase/app-compat",PA="@firebase/analytics-compat",LA="@firebase/analytics",NA="@firebase/app-check-compat",RA="@firebase/app-check",OA="@firebase/auth",MA="@firebase/auth-compat",DA="@firebase/database",jA="@firebase/database-compat",FA="@firebase/functions",UA="@firebase/functions-compat",$A="@firebase/installations",VA="@firebase/installations-compat",HA="@firebase/messaging",zA="@firebase/messaging-compat",WA="@firebase/performance",KA="@firebase/performance-compat",GA="@firebase/remote-config",qA="@firebase/remote-config-compat",YA="@firebase/storage",XA="@firebase/storage-compat",JA="@firebase/firestore",QA="@firebase/firestore-compat",ZA="firebase",eP="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Id="[DEFAULT]",tP={[_d]:"fire-core",[AA]:"fire-core-compat",[LA]:"fire-analytics",[PA]:"fire-analytics-compat",[RA]:"fire-app-check",[NA]:"fire-app-check-compat",[OA]:"fire-auth",[MA]:"fire-auth-compat",[DA]:"fire-rtdb",[jA]:"fire-rtdb-compat",[FA]:"fire-fn",[UA]:"fire-fn-compat",[$A]:"fire-iid",[VA]:"fire-iid-compat",[HA]:"fire-fcm",[zA]:"fire-fcm-compat",[WA]:"fire-perf",[KA]:"fire-perf-compat",[GA]:"fire-rc",[qA]:"fire-rc-compat",[YA]:"fire-gcs",[XA]:"fire-gcs-compat",[JA]:"fire-fst",[QA]:"fire-fst-compat","fire-js":"fire-js",[ZA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=new Map,Bd=new Map;function nP(t,e){try{t.container.addComponent(e)}catch(n){Pr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Xi(t){const e=t.name;if(Bd.has(e))return Pr.debug(`There were multiple attempts to register component ${e}.`),!1;Bd.set(e,t);for(const n of cl.values())nP(n,t);return!0}function kb(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rP={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Gn=new gs("app","Firebase",rP);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oP{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Lo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Gn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ys=eP;function xb(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Id,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Gn.create("bad-app-name",{appName:String(o)});if(n||(n=gb()),!n)throw Gn.create("no-options");const i=cl.get(o);if(i){if(ll(n,i.options)&&ll(r,i.config))return i;throw Gn.create("duplicate-app",{appName:o})}const s=new hA(o);for(const l of Bd.values())s.addComponent(l);const a=new oP(n,r,s);return cl.set(o,a),a}function iP(t=Id){const e=cl.get(t);if(!e&&t===Id&&gb())return xb();if(!e)throw Gn.create("no-app",{appName:t});return e}function bo(t,e,n){var r;let o=(r=tP[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${o}" with version "${e}":`];i&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Pr.warn(a.join(" "));return}Xi(new Lo(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sP="firebase-heartbeat-database",aP=1,Ji="firebase-heartbeat-store";let tu=null;function Eb(){return tu||(tu=CA(sP,aP,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Ji)}}}).catch(t=>{throw Gn.create("idb-open",{originalErrorMessage:t.message})})),tu}async function lP(t){try{return await(await Eb()).transaction(Ji).objectStore(Ji).get(Sb(t))}catch(e){if(e instanceof or)Pr.warn(e.message);else{const n=Gn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Pr.warn(n.message)}}}async function xg(t,e){try{const r=(await Eb()).transaction(Ji,"readwrite");await r.objectStore(Ji).put(e,Sb(t)),await r.done}catch(n){if(n instanceof or)Pr.warn(n.message);else{const r=Gn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Pr.warn(r.message)}}}function Sb(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cP=1024,uP=30*24*60*60*1e3;class dP{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new fP(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=Eg();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(o=>o.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{const i=new Date(o.date).valueOf();return Date.now()-i<=uP}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Eg(),{heartbeatsToSend:n,unsentEntries:r}=hP(this._heartbeatsCache.heartbeats),o=pb(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}}function Eg(){return new Date().toISOString().substring(0,10)}function hP(t,e=cP){const n=[];let r=t.slice();for(const o of t){const i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),Sg(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),Sg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class fP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eA()?tA().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await lP(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return xg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return xg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function Sg(t){return pb(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t){Xi(new Lo("platform-logger",e=>new IA(e),"PRIVATE")),Xi(new Lo("heartbeat",e=>new dP(e),"PRIVATE")),bo(_d,kg,t),bo(_d,kg,"esm2017"),bo("fire-js","")}pP("");var mP="firebase",gP="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */bo(mP,gP,"app");function vf(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(t);o<r.length;o++)e.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(t,r[o])&&(n[r[o]]=t[r[o]]);return n}function Cb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const vP=Cb,Tb=new gs("auth","Firebase",Cb());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ul=new yb("@firebase/auth");function yP(t,...e){ul.logLevel<=ne.WARN&&ul.warn(`Auth (${ys}): ${t}`,...e)}function va(t,...e){ul.logLevel<=ne.ERROR&&ul.error(`Auth (${ys}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t,...e){throw yf(t,...e)}function Ft(t,...e){return yf(t,...e)}function _b(t,e,n){const r=Object.assign(Object.assign({},vP()),{[e]:n});return new gs("auth","Firebase",r).create(e,{appName:t.name})}function bP(t,e,n){const r=n;if(!(e instanceof r))throw r.name!==e.constructor.name&&Vt(t,"argument-error"),_b(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yf(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Tb.create(t,...e)}function W(t,e,...n){if(!t)throw yf(e,...n)}function Zt(t){const e="INTERNAL ASSERTION FAILED: "+t;throw va(e),new Error(e)}function pn(t,e){t||Zt(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ad(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function wP(){return Cg()==="http:"||Cg()==="https:"}function Cg(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(wP()||JB()||"connection"in navigator)?navigator.onLine:!0}function xP(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e,n){this.shortDelay=e,this.longDelay=n,pn(n>e,"Short delay should be less than long delay!"),this.isMobile=XB()||QB()}get(){return kP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bf(t,e){pn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Zt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Zt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Zt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SP=new bs(3e4,6e4);function Bb(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function ws(t,e,n,r,o={}){return Ab(t,o,async()=>{let i={},s={};r&&(e==="GET"?s=r:i={body:JSON.stringify(r)});const a=vs(Object.assign({key:t.config.apiKey},s)).slice(1),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode),Ib.fetch()(Pb(t,t.config.apiHost,n,a),Object.assign({method:e,headers:l,referrerPolicy:"no-referrer"},i))})}async function Ab(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},EP),e);try{const o=new TP(t),i=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw qs(t,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const a=i.ok?s.errorMessage:s.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw qs(t,"credential-already-in-use",s);if(l==="EMAIL_EXISTS")throw qs(t,"email-already-in-use",s);if(l==="USER_DISABLED")throw qs(t,"user-disabled",s);const u=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw _b(t,u,c);Vt(t,u)}}catch(o){if(o instanceof or)throw o;Vt(t,"network-request-failed",{message:String(o)})}}async function CP(t,e,n,r,o={}){const i=await ws(t,e,n,r,o);return"mfaPendingCredential"in i&&Vt(t,"multi-factor-auth-required",{_serverResponse:i}),i}function Pb(t,e,n,r){const o=`${e}${n}?${r}`;return t.config.emulator?bf(t.config,o):`${t.config.apiScheme}://${o}`}class TP{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ft(this.auth,"network-request-failed")),SP.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function qs(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const o=Ft(t,e,r);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _P(t,e){return ws(t,"POST","/v1/accounts:delete",e)}async function IP(t,e){return ws(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Si(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function BP(t,e=!1){const n=zo(t),r=await n.getIdToken(e),o=wf(r);W(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const i=typeof o.firebase=="object"?o.firebase:void 0,s=i==null?void 0:i.sign_in_provider;return{claims:o,token:r,authTime:Si(nu(o.auth_time)),issuedAtTime:Si(nu(o.iat)),expirationTime:Si(nu(o.exp)),signInProvider:s||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function nu(t){return Number(t)*1e3}function wf(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return va("JWT malformed, contained fewer than 3 sections"),null;try{const o=mb(n);return o?JSON.parse(o):(va("Failed to decode base64 JWT payload"),null)}catch(o){return va("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function AP(t){const e=wf(t);return W(e,"internal-error"),W(typeof e.exp<"u","internal-error"),W(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qi(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof or&&PP(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function PP({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Si(this.lastLoginAt),this.creationTime=Si(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dl(t){var e;const n=t.auth,r=await t.getIdToken(),o=await Qi(t,IP(n,{idToken:r}));W(o==null?void 0:o.users.length,n,"internal-error");const i=o.users[0];t._notifyReloadListener(i);const s=!((e=i.providerUserInfo)===null||e===void 0)&&e.length?OP(i.providerUserInfo):[],a=RP(t.providerData,s),l=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=l?c:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Lb(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function NP(t){const e=zo(t);await dl(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function RP(t,e){return[...t.filter(r=>!e.some(o=>o.providerId===r.providerId)),...e]}function OP(t){return t.map(e=>{var{providerId:n}=e,r=vf(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MP(t,e){const n=await Ab(t,{},async()=>{const r=vs({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:i}=t.config,s=Pb(t,o,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ib.fetch()(s,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){W(e.idToken,"internal-error"),W(typeof e.idToken<"u","internal-error"),W(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):AP(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return W(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:o,expiresIn:i}=await MP(e,n);this.updateTokensAndExpiration(r,o,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:o,expirationTime:i}=n,s=new Zi;return r&&(W(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),o&&(W(typeof o=="string","internal-error",{appName:e}),s.accessToken=o),i&&(W(typeof i=="number","internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Zi,this.toJSON())}_performRefresh(){return Zt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,e){W(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class Er{constructor(e){var{uid:n,auth:r,stsTokenManager:o}=e,i=vf(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new LP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new Lb(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await Qi(this,this.stsTokenManager.getToken(this.auth,e));return W(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return BP(this,e)}reload(){return NP(this)}_assign(e){this!==e&&(W(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Er(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await dl(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await Qi(this,_P(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,o,i,s,a,l,c,u;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,h=(o=n.email)!==null&&o!==void 0?o:void 0,f=(i=n.phoneNumber)!==null&&i!==void 0?i:void 0,m=(s=n.photoURL)!==null&&s!==void 0?s:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,k=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,p=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:v,emailVerified:w,isAnonymous:x,providerData:C,stsTokenManager:_}=n;W(v&&_,e,"internal-error");const S=Zi.fromJSON(this.name,_);W(typeof v=="string",e,"internal-error"),bn(d,e.name),bn(h,e.name),W(typeof w=="boolean",e,"internal-error"),W(typeof x=="boolean",e,"internal-error"),bn(f,e.name),bn(m,e.name),bn(g,e.name),bn(k,e.name),bn(y,e.name),bn(p,e.name);const T=new Er({uid:v,auth:e,email:h,emailVerified:w,displayName:d,isAnonymous:x,photoURL:m,phoneNumber:f,tenantId:g,stsTokenManager:S,createdAt:y,lastLoginAt:p});return C&&Array.isArray(C)&&(T.providerData=C.map(L=>Object.assign({},L))),k&&(T._redirectEventId=k),T}static async _fromIdTokenResponse(e,n,r=!1){const o=new Zi;o.updateFromServerResponse(n);const i=new Er({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:r});return await dl(i),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tg=new Map;function en(t){pn(t instanceof Function,"Expected a class definition");let e=Tg.get(t);return e?(pn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Tg.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nb{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Nb.type="NONE";const _g=Nb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ya(t,e,n){return`firebase:${t}:${e}:${n}`}class wo{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:o,name:i}=this.auth;this.fullUserKey=ya(this.userKey,o.apiKey,i),this.fullPersistenceKey=ya("persistence",o.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?Er._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new wo(en(_g),e,r);const o=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let i=o[0]||en(_g);const s=ya(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const u=await c._get(s);if(u){const d=Er._fromJSON(e,u);c!==i&&(a=d),i=c;break}}catch{}const l=o.filter(c=>c._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new wo(i,e,r):(i=l[0],a&&await i._set(s,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==i)try{await c._remove(s)}catch{}})),new wo(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Mb(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Rb(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jb(e))return"Blackberry";if(Fb(e))return"Webos";if(kf(e))return"Safari";if((e.includes("chrome/")||Ob(e))&&!e.includes("edge/"))return"Chrome";if(Db(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function Rb(t=De()){return/firefox\//i.test(t)}function kf(t=De()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ob(t=De()){return/crios\//i.test(t)}function Mb(t=De()){return/iemobile/i.test(t)}function Db(t=De()){return/android/i.test(t)}function jb(t=De()){return/blackberry/i.test(t)}function Fb(t=De()){return/webos/i.test(t)}function Xl(t=De()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function DP(t=De()){var e;return Xl(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function jP(){return ZB()&&document.documentMode===10}function Ub(t=De()){return Xl(t)||Db(t)||Fb(t)||jb(t)||/windows phone/i.test(t)||Mb(t)}function FP(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $b(t,e=[]){let n;switch(t){case"Browser":n=Ig(De());break;case"Worker":n=`${Ig(De())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ys}/${r}`}async function Vb(t,e){return ws(t,"GET","/v2/recaptchaConfig",Bb(t,e))}function Bg(t){return t!==void 0&&t.enterprise!==void 0}class Hb{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UP(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function zb(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=o=>{const i=Ft("internal-error");i.customData=o,n(i)},r.type="text/javascript",r.charset="UTF-8",UP().appendChild(r)})}function $P(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const VP="https://www.google.com/recaptcha/enterprise.js?render=",HP="recaptcha-enterprise",zP="NO_RECAPTCHA";class WP{constructor(e){this.type=HP,this.auth=ks(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(s,a)=>{Vb(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const c=new Hb(l);return i.tenantId==null?i._agentRecaptchaConfig=c:i._tenantRecaptchaConfigs[i.tenantId]=c,s(c.siteKey)}}).catch(l=>{a(l)})})}function o(i,s,a){const l=window.grecaptcha;Bg(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(c=>{s(c)}).catch(()=>{s(zP)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((i,s)=>{r(this.auth).then(a=>{if(!n&&Bg(window.grecaptcha))o(a,i,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}zb(VP+a).then(()=>{o(a,i,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KP{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((s,a)=>{try{const l=e(i);s(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,n,r,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ag(this),this.idTokenSubscription=new Ag(this),this.beforeStateQueue=new KP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Tb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=en(n)),this._initializationPromise=this.queue(async()=>{var r,o;if(!this._deleted&&(this.persistenceManager=await wo.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((o=this.currentUser)===null||o===void 0?void 0:o.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const r=await this.assertedPersistence.getCurrentUser();let o=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=o==null?void 0:o._redirectEventId,l=await this.tryRedirectSignIn(e);(!s||s===a)&&(l!=null&&l.user)&&(o=l.user,i=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(o)}catch(s){o=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return W(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await dl(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=xP()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?zo(e):null;return n&&W(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&W(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(en(e))})}async initializeRecaptchaConfig(){const e=await Vb(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Hb(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new WP(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new gs("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&en(e)||this._popupRedirectResolver;W(n,this,"argument-error"),this.redirectPersistenceManager=await wo.create(this,[en(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,o){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n),s=this._isInitialized?Promise.resolve():this._initializationPromise;return W(s,this,"internal-error"),s.then(()=>i(this.currentUser)),typeof n=="function"?e.addObserver(n,r,o):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=$b(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&yP(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ks(t){return zo(t)}class Ag{constructor(e){this.auth=e,this.observer=null,this.addObserver=sA(n=>this.observer=n)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qP(t,e){const n=kb(t,"auth");if(n.isInitialized()){const o=n.getImmediate(),i=n.getOptions();if(ll(i,e??{}))return o;Vt(o,"already-initialized")}return n.initialize({options:e})}function YP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(en);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function XP(t,e,n){const r=ks(t);W(r._canInitEmulator,r,"emulator-config-failed"),W(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const o=!!(n!=null&&n.disableWarnings),i=Wb(e),{host:s,port:a}=JP(e),l=a===null?"":`:${a}`;r.config.emulator={url:`${i}//${s}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:o})}),o||QP()}function Wb(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function JP(t){const e=Wb(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(r);if(o){const i=o[1];return{host:i,port:Pg(r.substr(i.length+1))}}else{const[i,s]=r.split(":");return{host:i,port:Pg(s)}}}function Pg(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function QP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Zt("not implemented")}_getIdTokenResponse(e){return Zt("not implemented")}_linkToIdToken(e,n){return Zt("not implemented")}_getReauthenticationResolver(e){return Zt("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ko(t,e){return CP(t,"POST","/v1/accounts:signInWithIdp",Bb(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZP="http://localhost";class Lr extends Kb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Lr(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:o}=n,i=vf(n,["providerId","signInMethod"]);if(!r||!o)return null;const s=new Lr(r,o);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){const n=this.buildRequest();return ko(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,ko(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,ko(e,n)}buildRequest(){const e={requestUri:ZP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=vs(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xs extends xf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn extends xs{constructor(){super("facebook.com")}static credential(e){return Lr._fromParams({providerId:Bn.PROVIDER_ID,signInMethod:Bn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bn.credentialFromTaggedObject(e)}static credentialFromError(e){return Bn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bn.credential(e.oauthAccessToken)}catch{return null}}}Bn.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt extends xs{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Lr._fromParams({providerId:Yt.PROVIDER_ID,signInMethod:Yt.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Yt.credentialFromTaggedObject(e)}static credentialFromError(e){return Yt.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return Yt.credential(n,r)}catch{return null}}}Yt.GOOGLE_SIGN_IN_METHOD="google.com";Yt.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class An extends xs{constructor(){super("github.com")}static credential(e){return Lr._fromParams({providerId:An.PROVIDER_ID,signInMethod:An.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return An.credentialFromTaggedObject(e)}static credentialFromError(e){return An.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return An.credential(e.oauthAccessToken)}catch{return null}}}An.GITHUB_SIGN_IN_METHOD="github.com";An.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn extends xs{constructor(){super("twitter.com")}static credential(e,n){return Lr._fromParams({providerId:Pn.PROVIDER_ID,signInMethod:Pn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Pn.credentialFromTaggedObject(e)}static credentialFromError(e){return Pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Pn.credential(n,r)}catch{return null}}}Pn.TWITTER_SIGN_IN_METHOD="twitter.com";Pn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,o=!1){const i=await Er._fromIdTokenResponse(e,r,o),s=Lg(r);return new No({user:i,providerId:s,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const o=Lg(r);return new No({user:e,providerId:o,_tokenResponse:r,operationType:n})}}function Lg(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hl extends or{constructor(e,n,r,o){var i;super(n.code,n.message),this.operationType=r,this.user=o,Object.setPrototypeOf(this,hl.prototype),this.customData={appName:e.name,tenantId:(i=e.tenantId)!==null&&i!==void 0?i:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,o){return new hl(e,n,r,o)}}function Gb(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?hl._fromErrorAndOperation(t,i,e,r):i})}async function eL(t,e,n=!1){const r=await Qi(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return No._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tL(t,e,n=!1){const{auth:r}=t,o="reauthenticate";try{const i=await Qi(t,Gb(r,o,e,t),n);W(i.idToken,r,"internal-error");const s=wf(i.idToken);W(s,r,"internal-error");const{sub:a}=s;return W(t.uid===a,r,"user-mismatch"),No._forOperation(t,o,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&Vt(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function nL(t,e,n=!1){const r="signIn",o=await Gb(t,r,e),i=await No._fromIdTokenResponse(t,r,o);return n||await t._updateCurrentUser(i.user),i}function rL(t,e,n,r){return zo(t).onIdTokenChanged(e,n,r)}function oL(t,e,n){return zo(t).beforeAuthStateChanged(e,n)}const fl="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(fl,"1"),this.storage.removeItem(fl),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(){const t=De();return kf(t)||Xl(t)}const sL=1e3,aL=10;class Yb extends qb{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=iL()&&FP(),this.fallbackToPolling=Ub(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),o=this.localCache[n];r!==o&&e(n,o,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((s,a,l)=>{this.notifyListeners(s,l)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const s=this.storage.getItem(r);if(e.newValue!==s)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const o=()=>{const s=this.storage.getItem(r);!n&&this.localCache[r]===s||this.notifyListeners(r,s)},i=this.storage.getItem(r);jP()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,aL):o()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},sL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}Yb.type="LOCAL";const lL=Yb;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb extends qb{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}Xb.type="SESSION";const Jb=Xb;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cL(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jl{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const r=new Jl(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:o,data:i}=n.data,s=this.handlersMap[o];if(!(s!=null&&s.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:o});const a=Array.from(s).map(async c=>c(n.origin,i)),l=await cL(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:o,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Jl.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ef(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uL{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let i,s;return new Promise((a,l)=>{const c=Ef("",20);o.port1.start();const u=setTimeout(()=>{l(new Error("unsupported_event"))},r);s={messageChannel:o,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(h.data.response);break;default:clearTimeout(u),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(s),o.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[o.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ut(){return window}function dL(t){Ut().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(){return typeof Ut().WorkerGlobalScope<"u"&&typeof Ut().importScripts=="function"}async function hL(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function fL(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function pL(){return Qb()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb="firebaseLocalStorageDb",mL=1,pl="firebaseLocalStorage",ew="fbase_key";class Es{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Ql(t,e){return t.transaction([pl],e?"readwrite":"readonly").objectStore(pl)}function gL(){const t=indexedDB.deleteDatabase(Zb);return new Es(t).toPromise()}function Pd(){const t=indexedDB.open(Zb,mL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(pl,{keyPath:ew})}catch(o){n(o)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(pl)?e(r):(r.close(),await gL(),e(await Pd()))})})}async function Ng(t,e,n){const r=Ql(t,!0).put({[ew]:e,value:n});return new Es(r).toPromise()}async function vL(t,e){const n=Ql(t,!1).get(e),r=await new Es(n).toPromise();return r===void 0?null:r.value}function Rg(t,e){const n=Ql(t,!0).delete(e);return new Es(n).toPromise()}const yL=800,bL=3;class tw{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Pd(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>bL)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Qb()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Jl._getInstance(pL()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await hL(),!this.activeServiceWorker)return;this.sender=new uL(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||fL()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Pd();return await Ng(e,fl,"1"),await Rg(e,fl),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Ng(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>vL(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Rg(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const i=Ql(o,!1).getAll();return new Es(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:o,value:i}of e)r.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(i)&&(this.notifyListeners(o,i),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!r.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const o of Array.from(r))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),yL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}tw.type="LOCAL";const wL=tw;new bs(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nw(t,e){return e?en(e):(W(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sf extends Kb{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ko(e,this._buildIdpRequest())}_linkToIdToken(e,n){return ko(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return ko(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function kL(t){return nL(t.auth,new Sf(t),t.bypassAuthState)}function xL(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),tL(n,new Sf(t),t.bypassAuthState)}async function EL(t){const{auth:e,user:n}=t;return W(n,e,"internal-error"),eL(n,new Sf(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw{constructor(e,n,r,o,i=!1){this.auth=e,this.resolver=r,this.user=o,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:o,tenantId:i,error:s,type:a}=e;if(s){this.reject(s);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return kL;case"linkViaPopup":case"linkViaRedirect":return EL;case"reauthViaPopup":case"reauthViaRedirect":return xL;default:Vt(this.auth,"internal-error")}}resolve(e){pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SL=new bs(2e3,1e4);async function CL(t,e,n){const r=ks(t);bP(t,e,xf);const o=nw(r,n);return new wr(r,"signInViaPopup",e,o).executeNotNull()}class wr extends rw{constructor(e,n,r,o,i){super(e,n,o,i),this.provider=r,this.authWindow=null,this.pollId=null,wr.currentPopupAction&&wr.currentPopupAction.cancel(),wr.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return W(e,this.auth,"internal-error"),e}async onExecution(){pn(this.filter.length===1,"Popup operations only handle one event");const e=Ef();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ft(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ft(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,wr.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ft(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,SL.get())};e()}}wr.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TL="pendingRedirect",ba=new Map;class _L extends rw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=ba.get(this.auth._key());if(!e){try{const r=await IL(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}ba.set(this.auth._key(),e)}return this.bypassAuthState||ba.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function IL(t,e){const n=PL(e),r=AL(t);if(!await r._isAvailable())return!1;const o=await r._get(n)==="true";return await r._remove(n),o}function BL(t,e){ba.set(t._key(),e)}function AL(t){return en(t._redirectPersistence)}function PL(t){return ya(TL,t.config.apiKey,t.name)}async function LL(t,e,n=!1){const r=ks(t),o=nw(r,e),s=await new _L(r,o,n).execute();return s&&!n&&(delete s.user._redirectEventId,await r._persistUserIfCurrent(s.user),await r._setRedirectUser(null,e)),s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NL=10*60*1e3;class RL{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!OL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ow(e)){const o=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ft(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=NL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Og(e))}saveEventToCache(e){this.cachedEventUids.add(Og(e)),this.lastProcessedEventTime=Date.now()}}function Og(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ow({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function OL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ow(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(t,e={}){return ws(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,jL=/^https?/;async function FL(t){if(t.config.emulator)return;const{authorizedDomains:e}=await ML(t);for(const n of e)try{if(UL(n))return}catch{}Vt(t,"unauthorized-domain")}function UL(t){const e=Ad(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!jL.test(n))return!1;if(DL.test(t))return r===t;const o=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $L=new bs(3e4,6e4);function Mg(){const t=Ut().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function VL(t){return new Promise((e,n)=>{var r,o,i;function s(){Mg(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Mg(),n(Ft(t,"network-request-failed"))},timeout:$L.get()})}if(!((o=(r=Ut().gapi)===null||r===void 0?void 0:r.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((i=Ut().gapi)===null||i===void 0)&&i.load)s();else{const a=$P("iframefcb");return Ut()[a]=()=>{gapi.load?s():n(Ft(t,"network-request-failed"))},zb(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw wa=null,e})}let wa=null;function HL(t){return wa=wa||VL(t),wa}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zL=new bs(5e3,15e3),WL="__/auth/iframe",KL="emulator/auth/iframe",GL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function YL(t){const e=t.config;W(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?bf(e,KL):`https://${t.config.authDomain}/${WL}`,r={apiKey:e.apiKey,appName:t.name,v:ys},o=qL.get(t.config.apiHost);o&&(r.eid=o);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${vs(r).slice(1)}`}async function XL(t){const e=await HL(t),n=Ut().gapi;return W(n,t,"internal-error"),e.open({where:document.body,url:YL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:GL,dontclear:!0},r=>new Promise(async(o,i)=>{await r.restyle({setHideOnLeave:!1});const s=Ft(t,"network-request-failed"),a=Ut().setTimeout(()=>{i(s)},zL.get());function l(){Ut().clearTimeout(a),o(r)}r.ping(l).then(l,()=>{i(s)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JL={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},QL=500,ZL=600,eN="_blank",tN="http://localhost";class Dg{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function nN(t,e,n,r=QL,o=ZL){const i=Math.max((window.screen.availHeight-o)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},JL),{width:r.toString(),height:o.toString(),top:i,left:s}),c=De().toLowerCase();n&&(a=Ob(c)?eN:n),Rb(c)&&(e=e||tN,l.scrollbars="yes");const u=Object.entries(l).reduce((h,[f,m])=>`${h}${f}=${m},`,"");if(DP(c)&&a!=="_self")return rN(e||"",a),new Dg(null);const d=window.open(e||"",a,u);W(d,t,"popup-blocked");try{d.focus()}catch{}return new Dg(d)}function rN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oN="__/auth/handler",iN="emulator/auth/handler",sN=encodeURIComponent("fac");async function jg(t,e,n,r,o,i){W(t.config.authDomain,t,"auth-domain-config-required"),W(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ys,eventId:o};if(e instanceof xf){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",iA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(i||{}))s[u]=d}if(e instanceof xs){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(s.scopes=u.join(","))}t.tenantId&&(s.tid=t.tenantId);const a=s;for(const u of Object.keys(a))a[u]===void 0&&delete a[u];const l=await t._getAppCheckToken(),c=l?`#${sN}=${encodeURIComponent(l)}`:"";return`${aN(t)}?${vs(a).slice(1)}${c}`}function aN({config:t}){return t.emulator?bf(t,iN):`https://${t.authDomain}/${oN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru="webStorageSupport";class lN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Jb,this._completeRedirectFn=LL,this._overrideRedirectResult=BL}async _openPopup(e,n,r,o){var i;pn((i=this.eventManagers[e._key()])===null||i===void 0?void 0:i.manager,"_initialize() not called before _openPopup()");const s=await jg(e,n,r,Ad(),o);return nN(e,s,Ef())}async _openRedirect(e,n,r,o){await this._originValidation(e);const i=await jg(e,n,r,Ad(),o);return dL(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:i}=this.eventManagers[n];return o?Promise.resolve(o):(pn(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await XL(e),r=new RL(e);return n.register("authEvent",o=>(W(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:r.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(ru,{type:ru},o=>{var i;const s=(i=o==null?void 0:o[0])===null||i===void 0?void 0:i[ru];s!==void 0&&n(!!s),Vt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=FL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Ub()||kf()||Xl()}}const cN=lN;var Fg="@firebase/auth",Ug="1.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function hN(t){Xi(new Lo("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;W(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:$b(t)},c=new GP(r,o,i,l);return YP(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Xi(new Lo("auth-internal",e=>{const n=ks(e.getProvider("auth").getImmediate());return(r=>new uN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),bo(Fg,Ug,dN(t)),bo(Fg,Ug,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fN=5*60,pN=vb("authIdTokenMaxAge")||fN;let $g=null;const mN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>pN)return;const o=n==null?void 0:n.token;$g!==o&&($g=o,await fetch(t,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function gN(t=iP()){const e=kb(t,"auth");if(e.isInitialized())return e.getImmediate();const n=qP(t,{popupRedirectResolver:cN,persistence:[wL,lL,Jb]}),r=vb("authTokenSyncURL");if(r){const i=mN(r);oL(n,i,()=>i(n.currentUser)),rL(n,s=>i(s))}const o=qB("auth");return o&&XP(n,`http://${o}`),n}hN("Browser");const vN={apiKey:"AIzaSyAdq3nBhXoOwn9kwKLp30E3lO2RnWBlEs4",authDomain:"react-js-blog-website-beb6a.firebaseapp.com",projectId:"react-js-blog-website-beb6a",storageBucket:"react-js-blog-website-beb6a.appspot.com",messagingSenderId:"884903467444",appId:"1:884903467444:web:17a80db7666fe4717a3ae1"};xb(vN);const yN=new Yt,bN=gN(),wN=async()=>{let t=null;return await CL(bN,yN).then(e=>{t=e.user}).catch(e=>{console.log(e)}),t},Vg=({type:t})=>{let{UserAuth:{access_token:e},setUserAuth:n}=E.useContext(ir);const r=(s,a)=>{Be.post("https://b-bloggy.onrender.com"+s,a).then(({data:l})=>{A2("user",JSON.stringify(l)),n(l)}).catch(l=>(console.error(l),X.error("Something went wrong. Please try again.")))},o=async s=>{s.preventDefault();try{let a=t=="sign-in"?"/signin":"/signup";const l=/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/,c=/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z]).{6,20}$/;let u=new FormData(formElement),d={};for(let[g,k]of u.entries())d[g]=k;let{fullname:h,email:f,password:m}=d;if(h&&h.length<3)return X.error("Fullname must be at least 3 letters long");if(!f.length)return X.error("Email not provided");if(!l.test(f))return X.error("Invalid email format");if(!c.test(m))return X.error("Password should be 6 to 20 characters long with numeric, 1 lowercase, and 1 uppercase letter");if(t=="sign-up"){const g=await Be.post("https://b-bloggy.onrender.com/check-duplicate-email",{email:f});if(g.data.error)return X.error(g.data.error)}r(a,d)}catch(a){console.log(a),console.log("error in form data ")}},i=s=>{s.preventDefault(),wN().then(a=>{console.log(a)}).catch(a=>{X.error("trouble in login through goggle")})};return e?b.jsx(E0,{to:"/"}):b.jsx(Ke,{keyValue:t,children:b.jsxs("section",{className:"h-cover flex items-center justify-center",children:[b.jsx(cf,{}),b.jsxs("form",{id:"formElement",className:"w-[80%] max-w-[400px]",onSubmit:o,children:[b.jsx("h1",{className:"text-4xl font-gelasio capitalize text-center mb-24",children:t=="sign-in"?"welcome back":"join us today"}),t!="sign-in"?b.jsx(Kc,{name:"fullname",type:"text",placeholder:"Full Name",icon:"fi-rr-user"}):"",b.jsx(Kc,{name:"email",type:"email",placeholder:"Email",icon:"fi-rr-envelope"}),b.jsx(Kc,{name:"password",type:"password",placeholder:"Password",icon:"fi-rs-key"}),b.jsx("button",{className:"btn-dark center mt-14",type:"submit",children:t.replace("-"," ")}),b.jsxs("div",{className:"rellative w-full flex items-center gap-2 my-10 opacity-10 uppercase text-black font-bold",children:[b.jsx("hr",{className:"w-1/2 border-black"}),b.jsx("p",{children:"or"}),b.jsx("hr",{className:"w-1/2 border-black"})]}),b.jsxs("button",{className:"btn-dark flex items-center justify-center gap-4 w-[90%] center",onClick:i,children:[b.jsx("img",{src:O2,className:"w-5 "}),"continue with goggle"]}),t=="sign-in"?b.jsxs("p",{className:"mt-6 text-dark-grey text-xl text-center",children:[" ","Don't have an account ?",b.jsx(ke,{to:"/signup",className:"underline text-black text-xl ml-1",children:"Join us."})]}):b.jsxs("p",{className:"mt-6 text-dark-grey text-xl text-center",children:[" ","Aready a menber ?",b.jsx(ke,{to:"/signin",className:"underline text-black text-xl ml-1",children:"Sign in hear."})]})]})]})})},iw="/assets/blog banner-4c269e06.png",sw=async t=>{let e=null;const n=new FormData;return n.append("uploadImage",t),e=(await Be.post("https://b-bloggy.onrender.com/get-upload-url",n,{headers:{"Content-Type":"multipart/form-data"}}).then(o=>(console.log("Request send to backend"),o)).catch(o=>{console.log(o),console.log("Error in uplaoding imaage ")})).data.imageUrl,console.log("image url in cloudinary>>>>",e),e};var kN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Zl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function ou(){}Object.assign(ou,{default:ou,register:ou,revert:function(){},__esModule:!0});Element.prototype.matches||(Element.prototype.matches=Element.prototype.matchesSelector||Element.prototype.mozMatchesSelector||Element.prototype.msMatchesSelector||Element.prototype.oMatchesSelector||Element.prototype.webkitMatchesSelector||function(t){const e=(this.document||this.ownerDocument).querySelectorAll(t);let n=e.length;for(;--n>=0&&e.item(n)!==this;);return n>-1});Element.prototype.closest||(Element.prototype.closest=function(t){let e=this;if(!document.documentElement.contains(e))return null;do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(e!==null);return null});Element.prototype.prepend||(Element.prototype.prepend=function(t){const e=document.createDocumentFragment();Array.isArray(t)||(t=[t]),t.forEach(n=>{const r=n instanceof Node;e.appendChild(r?n:document.createTextNode(n))}),this.insertBefore(e,this.firstChild)});Element.prototype.scrollIntoViewIfNeeded||(Element.prototype.scrollIntoViewIfNeeded=function(t){t=arguments.length===0?!0:!!t;const e=this.parentNode,n=window.getComputedStyle(e,null),r=parseInt(n.getPropertyValue("border-top-width")),o=parseInt(n.getPropertyValue("border-left-width")),i=this.offsetTop-e.offsetTop<e.scrollTop,s=this.offsetTop-e.offsetTop+this.clientHeight-r>e.scrollTop+e.clientHeight,a=this.offsetLeft-e.offsetLeft<e.scrollLeft,l=this.offsetLeft-e.offsetLeft+this.clientWidth-o>e.scrollLeft+e.clientWidth,c=i&&!s;(i||s)&&t&&(e.scrollTop=this.offsetTop-e.offsetTop-e.clientHeight/2-r+this.clientHeight/2),(a||l)&&t&&(e.scrollLeft=this.offsetLeft-e.offsetLeft-e.clientWidth/2-o+this.clientWidth/2),(i||s||a||l)&&!t&&this.scrollIntoView(c)});window.requestIdleCallback=window.requestIdleCallback||function(t){const e=Date.now();return setTimeout(function(){t({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-e))}})},1)};window.cancelIdleCallback=window.cancelIdleCallback||function(t){clearTimeout(t)};let xN=(t=21)=>crypto.getRandomValues(new Uint8Array(t)).reduce((e,n)=>(n&=63,n<36?e+=n.toString(36):n<62?e+=(n-26).toString(36).toUpperCase():n>62?e+="-":e+="_",e),"");var aw=(t=>(t.VERBOSE="VERBOSE",t.INFO="INFO",t.WARN="WARN",t.ERROR="ERROR",t))(aw||{});const z={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,LEFT:37,UP:38,DOWN:40,RIGHT:39,DELETE:46,META:91},EN={LEFT:0,WHEEL:1,RIGHT:2,BACKWARD:3,FORWARD:4};function Ss(t,e,n="log",r,o="color: inherit"){if(!("console"in window)||!window.console[n])return;const i=["info","log","warn","error"].includes(n),s=[];switch(Ss.logLevel){case"ERROR":if(n!=="error")return;break;case"WARN":if(!["error","warn"].includes(n))return;break;case"INFO":if(!i||t)return;break}r&&s.push(r);const a="Editor.js 2.28.2",l=`line-height: 1em;
            color: #006FEA;
            display: inline-block;
            font-size: 11px;
            line-height: 1em;
            background-color: #fff;
            padding: 4px 9px;
            border-radius: 30px;
            border: 1px solid rgba(56, 138, 229, 0.16);
            margin: 4px 5px 4px 0;`;t&&(i?(s.unshift(l,o),e=`%c${a}%c ${e}`):e=`( ${a} )${e}`);try{i?r?console[n](`${e} %o`,...s):console[n](e,...s):console[n](e)}catch{}}Ss.logLevel="VERBOSE";function SN(t){Ss.logLevel=t}const Z=Ss.bind(window,!1),xt=Ss.bind(window,!0);function Nr(t){return Object.prototype.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function ie(t){return Nr(t)==="function"||Nr(t)==="asyncfunction"}function Ae(t){return Nr(t)==="object"}function Qn(t){return Nr(t)==="string"}function CN(t){return Nr(t)==="boolean"}function Hg(t){return Nr(t)==="number"}function zg(t){return Nr(t)==="undefined"}function _t(t){return t?Object.keys(t).length===0&&t.constructor===Object:!0}function lw(t){return t>47&&t<58||t===32||t===13||t===229||t>64&&t<91||t>95&&t<112||t>185&&t<193||t>218&&t<223}async function TN(t,e=()=>{},n=()=>{}){async function r(o,i,s){try{await o.function(o.data),await i(zg(o.data)?{}:o.data)}catch{s(zg(o.data)?{}:o.data)}}return t.reduce(async(o,i)=>(await o,r(i,e,n)),Promise.resolve())}function cw(t){return Array.prototype.slice.call(t)}function Ro(t,e){return function(){const n=this,r=arguments;window.setTimeout(()=>t.apply(n,r),e)}}function _N(t){return t.name.split(".").pop()}function IN(t){return/^[-\w]+\/([-+\w]+|\*)$/.test(t)}function BN(t,e,n){let r;return(...o)=>{const i=this,s=()=>{r=null,n||t.apply(i,o)},a=n&&!r;window.clearTimeout(r),r=window.setTimeout(s,e),a&&t.apply(i,o)}}function Ld(t,e,n=void 0){let r,o,i,s=null,a=0;n||(n={});const l=function(){a=n.leading===!1?0:Date.now(),s=null,i=t.apply(r,o),s||(r=o=null)};return function(){const c=Date.now();!a&&n.leading===!1&&(a=c);const u=e-(c-a);return r=this,o=arguments,u<=0||u>e?(s&&(clearTimeout(s),s=null),a=c,i=t.apply(r,o),s||(r=o=null)):!s&&n.trailing!==!1&&(s=setTimeout(l,u)),i}}function AN(){const t={win:!1,mac:!1,x11:!1,linux:!1},e=Object.keys(t).find(n=>window.navigator.appVersion.toLowerCase().indexOf(n)!==-1);return e&&(t[e]=!0),t}function Oo(t){return t[0].toUpperCase()+t.slice(1)}function Nd(t,...e){if(!e.length)return t;const n=e.shift();if(Ae(t)&&Ae(n))for(const r in n)Ae(n[r])?(t[r]||Object.assign(t,{[r]:{}}),Nd(t[r],n[r])):Object.assign(t,{[r]:n[r]});return Nd(t,...e)}function Cf(t){const e=AN();return t=t.replace(/shift/gi,"").replace(/backspace/gi,"").replace(/enter/gi,"").replace(/up/gi,"").replace(/left/gi,"").replace(/down/gi,"").replace(/right/gi,"").replace(/escape/gi,"").replace(/insert/gi,"Ins").replace(/delete/gi,"").replace(/\+/gi," + "),e.mac?t=t.replace(/ctrl|cmd/gi,"").replace(/alt/gi,""):t=t.replace(/cmd/gi,"Ctrl").replace(/windows/gi,"WIN"),t}function PN(t){try{return new URL(t).href}catch{}return t.substring(0,2)==="//"?window.location.protocol+t:window.location.origin+t}function LN(){return xN(10)}function NN(t){window.open(t,"_blank")}function RN(t=""){return`${t}${Math.floor(Math.random()*1e8).toString(16)}`}function Rd(t,e,n){const r=`${e} is deprecated and will be removed in the next major release. Please use the ${n} instead.`;t&&xt(r,"warn")}function Wo(t,e,n){const r=n.value?"value":"get",o=n[r],i=`#${e}Cache`;if(n[r]=function(...s){return this[i]===void 0&&(this[i]=o.apply(this,...s)),this[i]},r==="get"&&n.set){const s=n.set;n.set=function(a){delete t[i],s.apply(this,a)}}return n}const uw=650;function Sr(){return window.matchMedia(`(max-width: ${uw}px)`).matches}const Wg=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1);function ON(t,e){const n=Array.isArray(t)||Ae(t),r=Array.isArray(e)||Ae(e);return n||r?JSON.stringify(t)===JSON.stringify(e):t===e}let I=class je{static isSingleTag(e){return e.tagName&&["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"].includes(e.tagName)}static isLineBreakTag(e){return e&&e.tagName&&["BR","WBR"].includes(e.tagName)}static make(e,n=null,r={}){const o=document.createElement(e);Array.isArray(n)?o.classList.add(...n):n&&o.classList.add(n);for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(o[i]=r[i]);return o}static text(e){return document.createTextNode(e)}static append(e,n){Array.isArray(n)?n.forEach(r=>e.appendChild(r)):e.appendChild(n)}static prepend(e,n){Array.isArray(n)?(n=n.reverse(),n.forEach(r=>e.prepend(r))):e.prepend(n)}static swap(e,n){const r=document.createElement("div"),o=e.parentNode;o.insertBefore(r,e),o.insertBefore(e,n),o.insertBefore(n,r),o.removeChild(r)}static find(e=document,n){return e.querySelector(n)}static get(e){return document.getElementById(e)}static findAll(e=document,n){return e.querySelectorAll(n)}static get allInputsSelector(){return"[contenteditable=true], textarea, input:not([type]), "+["text","password","email","number","search","tel","url"].map(e=>`input[type="${e}"]`).join(", ")}static findAllInputs(e){return cw(e.querySelectorAll(je.allInputsSelector)).reduce((n,r)=>je.isNativeInput(r)||je.containsOnlyInlineElements(r)?[...n,r]:[...n,...je.getDeepestBlockElements(r)],[])}static getDeepestNode(e,n=!1){const r=n?"lastChild":"firstChild",o=n?"previousSibling":"nextSibling";if(e&&e.nodeType===Node.ELEMENT_NODE&&e[r]){let i=e[r];if(je.isSingleTag(i)&&!je.isNativeInput(i)&&!je.isLineBreakTag(i))if(i[o])i=i[o];else if(i.parentNode[o])i=i.parentNode[o];else return i.parentNode;return this.getDeepestNode(i,n)}return e}static isElement(e){return Hg(e)?!1:e&&e.nodeType&&e.nodeType===Node.ELEMENT_NODE}static isFragment(e){return Hg(e)?!1:e&&e.nodeType&&e.nodeType===Node.DOCUMENT_FRAGMENT_NODE}static isContentEditable(e){return e.contentEditable==="true"}static isNativeInput(e){const n=["INPUT","TEXTAREA"];return e&&e.tagName?n.includes(e.tagName):!1}static canSetCaret(e){let n=!0;if(je.isNativeInput(e))switch(e.type){case"file":case"checkbox":case"radio":case"hidden":case"submit":case"button":case"image":case"reset":n=!1;break}else n=je.isContentEditable(e);return n}static isNodeEmpty(e){let n;return this.isSingleTag(e)&&!this.isLineBreakTag(e)?!1:(this.isElement(e)&&this.isNativeInput(e)?n=e.value:n=e.textContent.replace("",""),n.trim().length===0)}static isLeaf(e){return e?e.childNodes.length===0:!1}static isEmpty(e){e.normalize();const n=[e];for(;n.length>0;)if(e=n.shift(),!!e){if(this.isLeaf(e)&&!this.isNodeEmpty(e))return!1;e.childNodes&&n.push(...Array.from(e.childNodes))}return!0}static isHTMLString(e){const n=je.make("div");return n.innerHTML=e,n.childElementCount>0}static getContentLength(e){return je.isNativeInput(e)?e.value.length:e.nodeType===Node.TEXT_NODE?e.length:e.textContent.length}static get blockElements(){return["address","article","aside","blockquote","canvas","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","li","main","nav","noscript","ol","output","p","pre","ruby","section","table","tbody","thead","tr","tfoot","ul","video"]}static containsOnlyInlineElements(e){let n;Qn(e)?(n=document.createElement("div"),n.innerHTML=e):n=e;const r=o=>!je.blockElements.includes(o.tagName.toLowerCase())&&Array.from(o.children).every(r);return Array.from(n.children).every(r)}static getDeepestBlockElements(e){return je.containsOnlyInlineElements(e)?[e]:Array.from(e.children).reduce((n,r)=>[...n,...je.getDeepestBlockElements(r)],[])}static getHolder(e){return Qn(e)?document.getElementById(e):e}static isAnchor(e){return e.tagName.toLowerCase()==="a"}static offset(e){const n=e.getBoundingClientRect(),r=window.pageXOffset||document.documentElement.scrollLeft,o=window.pageYOffset||document.documentElement.scrollTop,i=n.top+o,s=n.left+r;return{top:i,left:s,bottom:i+n.height,right:s+n.width}}};const MN={blockTunes:{toggler:{"Click to tune":"","or drag to move":""}},inlineToolbar:{converter:{"Convert to":""}},toolbar:{toolbox:{Add:""}},popover:{Filter:"","Nothing found":""}},DN={Text:"",Link:"",Bold:"",Italic:""},jN={link:{"Add a link":""},stub:{"The block can not be displayed correctly.":""}},FN={delete:{Delete:"","Click to delete":""},moveUp:{"Move up":""},moveDown:{"Move down":""}},dw={ui:MN,toolNames:DN,tools:jN,blockTunes:FN},zr=class{static ui(t,e){return zr._t(t,e)}static t(t,e){return zr._t(t,e)}static setDictionary(t){zr.currentDictionary=t}static _t(t,e){const n=zr.getNamespace(t);return!n||!n[e]?e:n[e]}static getNamespace(t){return t.split(".").reduce((e,n)=>!e||!Object.keys(e).length?{}:e[n],zr.currentDictionary)}};let Ge=zr;Ge.currentDictionary=dw;class hw extends Error{}class ec{constructor(){this.subscribers={}}on(e,n){e in this.subscribers||(this.subscribers[e]=[]),this.subscribers[e].push(n)}once(e,n){e in this.subscribers||(this.subscribers[e]=[]);const r=o=>{const i=n(o),s=this.subscribers[e].indexOf(r);return s!==-1&&this.subscribers[e].splice(s,1),i};this.subscribers[e].push(r)}emit(e,n){_t(this.subscribers)||!this.subscribers[e]||this.subscribers[e].reduce((r,o)=>{const i=o(r);return i!==void 0?i:r},n)}off(e,n){if(this.subscribers[e]===void 0){console.warn(`EventDispatcher .off(): there is no subscribers for event "${e.toString()}". Probably, .off() called before .on()`);return}for(let r=0;r<this.subscribers[e].length;r++)if(this.subscribers[e][r]===n){delete this.subscribers[e][r];break}}destroy(){this.subscribers={}}}function mr(t){Object.setPrototypeOf(this,{get id(){return t.id},get name(){return t.name},get config(){return t.config},get holder(){return t.holder},get isEmpty(){return t.isEmpty},get selected(){return t.selected},set stretched(e){t.stretched=e},get stretched(){return t.stretched},call(e,n){return t.call(e,n)},save(){return t.save()},validate(e){return t.validate(e)},dispatchChange(){t.dispatchChange()}})}class Tf{constructor(){this.allListeners=[]}on(e,n,r,o=!1){const i=RN("l"),s={id:i,element:e,eventType:n,handler:r,options:o};if(!this.findOne(e,n,r))return this.allListeners.push(s),e.addEventListener(n,r,o),i}off(e,n,r,o){const i=this.findAll(e,n,r);i.forEach((s,a)=>{const l=this.allListeners.indexOf(i[a]);l>-1&&(this.allListeners.splice(l,1),s.element.removeEventListener(s.eventType,s.handler,s.options))})}offById(e){const n=this.findById(e);n&&n.element.removeEventListener(n.eventType,n.handler,n.options)}findOne(e,n,r){const o=this.findAll(e,n,r);return o.length>0?o[0]:null}findAll(e,n,r){let o;const i=e?this.findByEventTarget(e):[];return e&&n&&r?o=i.filter(s=>s.eventType===n&&s.handler===r):e&&n?o=i.filter(s=>s.eventType===n):o=i,o}removeAll(){this.allListeners.map(e=>{e.element.removeEventListener(e.eventType,e.handler,e.options)}),this.allListeners=[]}destroy(){this.removeAll()}findByEventTarget(e){return this.allListeners.filter(n=>{if(n.element===e)return n})}findByType(e){return this.allListeners.filter(n=>{if(n.eventType===e)return n})}findByHandler(e){return this.allListeners.filter(n=>{if(n.handler===e)return n})}findById(e){return this.allListeners.find(n=>n.id===e)}}class Y{constructor({config:e,eventsDispatcher:n}){if(this.nodes={},this.listeners=new Tf,this.readOnlyMutableListeners={on:(r,o,i,s=!1)=>{this.mutableListenerIds.push(this.listeners.on(r,o,i,s))},clearAll:()=>{for(const r of this.mutableListenerIds)this.listeners.offById(r);this.mutableListenerIds=[]}},this.mutableListenerIds=[],new.target===Y)throw new TypeError("Constructors for abstract class Module are not allowed.");this.config=e,this.eventsDispatcher=n}set state(e){this.Editor=e}removeAllNodes(){for(const e in this.nodes){const n=this.nodes[e];n instanceof HTMLElement&&n.remove()}}get isRtl(){return this.config.i18n.direction==="rtl"}}let $=class kn{constructor(){this.instance=null,this.selection=null,this.savedSelectionRange=null,this.isFakeBackgroundEnabled=!1,this.commandBackground="backColor",this.commandRemoveFormat="removeFormat"}static get CSS(){return{editorWrapper:"codex-editor",editorZone:"codex-editor__redactor"}}static get anchorNode(){const e=window.getSelection();return e?e.anchorNode:null}static get anchorElement(){const e=window.getSelection();if(!e)return null;const n=e.anchorNode;return n?I.isElement(n)?n:n.parentElement:null}static get anchorOffset(){const e=window.getSelection();return e?e.anchorOffset:null}static get isCollapsed(){const e=window.getSelection();return e?e.isCollapsed:null}static get isAtEditor(){return this.isSelectionAtEditor(kn.get())}static isSelectionAtEditor(e){if(!e)return!1;let n=e.anchorNode||e.focusNode;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${kn.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static isRangeAtEditor(e){if(!e)return;let n=e.startContainer;n&&n.nodeType===Node.TEXT_NODE&&(n=n.parentNode);let r=null;return n&&n instanceof Element&&(r=n.closest(`.${kn.CSS.editorZone}`)),r?r.nodeType===Node.ELEMENT_NODE:!1}static get isSelectionExists(){return!!kn.get().anchorNode}static get range(){return this.getRangeFromSelection(this.get())}static getRangeFromSelection(e){return e&&e.rangeCount?e.getRangeAt(0):null}static get rect(){let e=document.selection,n,r={x:0,y:0,width:0,height:0};if(e&&e.type!=="Control")return e=e,n=e.createRange(),r.x=n.boundingLeft,r.y=n.boundingTop,r.width=n.boundingWidth,r.height=n.boundingHeight,r;if(!window.getSelection)return Z("Method window.getSelection is not supported","warn"),r;if(e=window.getSelection(),e.rangeCount===null||isNaN(e.rangeCount))return Z("Method SelectionUtils.rangeCount is not supported","warn"),r;if(e.rangeCount===0)return r;if(n=e.getRangeAt(0).cloneRange(),n.getBoundingClientRect&&(r=n.getBoundingClientRect()),r.x===0&&r.y===0){const o=document.createElement("span");if(o.getBoundingClientRect){o.appendChild(document.createTextNode("")),n.insertNode(o),r=o.getBoundingClientRect();const i=o.parentNode;i.removeChild(o),i.normalize()}}return r}static get text(){return window.getSelection?window.getSelection().toString():""}static get(){return window.getSelection()}static setCursor(e,n=0){const r=document.createRange(),o=window.getSelection();return I.isNativeInput(e)?I.canSetCaret(e)?(e.focus(),e.selectionStart=e.selectionEnd=n,e.getBoundingClientRect()):void 0:(r.setStart(e,n),r.setEnd(e,n),o.removeAllRanges(),o.addRange(r),r.getBoundingClientRect())}static isRangeInsideContainer(e){const n=kn.range;return n===null?!1:e.contains(n.startContainer)}static addFakeCursor(){const e=kn.range;if(e===null)return;const n=I.make("span","codex-editor__fake-cursor");n.dataset.mutationFree="true",e.collapse(),e.insertNode(n)}static isFakeCursorInsideContainer(e){return I.find(e,".codex-editor__fake-cursor")!==null}static removeFakeCursor(e=document.body){const n=I.find(e,".codex-editor__fake-cursor");n&&n.remove()}removeFakeBackground(){this.isFakeBackgroundEnabled&&(this.isFakeBackgroundEnabled=!1,document.execCommand(this.commandRemoveFormat))}setFakeBackground(){document.execCommand(this.commandBackground,!1,"#a8d6ff"),this.isFakeBackgroundEnabled=!0}save(){this.savedSelectionRange=kn.range}restore(){if(!this.savedSelectionRange)return;const e=window.getSelection();e.removeAllRanges(),e.addRange(this.savedSelectionRange)}clearSaved(){this.savedSelectionRange=null}collapseToEnd(){const e=window.getSelection(),n=document.createRange();n.selectNodeContents(e.focusNode),n.collapse(!1),e.removeAllRanges(),e.addRange(n)}findParentTag(e,n,r=10){const o=window.getSelection();let i=null;return!o||!o.anchorNode||!o.focusNode?null:([o.anchorNode,o.focusNode].forEach(s=>{let a=r;for(;a>0&&s.parentNode&&!(s.tagName===e&&(i=s,n&&s.classList&&!s.classList.contains(n)&&(i=null),i));)s=s.parentNode,a--}),i)}expandToTag(e){const n=window.getSelection();n.removeAllRanges();const r=document.createRange();r.selectNodeContents(e),n.addRange(r)}};function UN(t,e){const{type:n,target:r,addedNodes:o,removedNodes:i}=t;if(r===e)return!0;if(["characterData","attributes"].includes(n)){const l=r.nodeType===Node.TEXT_NODE?r.parentNode:r;return e.contains(l)}const s=Array.from(o).some(l=>e.contains(l)),a=Array.from(i).some(l=>e.contains(l));return s||a}const Od="redactor dom changed",fw="block changed",pw="fake cursor is about to be toggled",mw="fake cursor have been set";function Kg(t,e){return t.mergeable&&t.name===e.name}function $N(t,e){const n=e==null?void 0:e.export;return ie(n)?n(t):Qn(n)?t[n]:(n!==void 0&&Z("Conversion export property must be a string or function. String means key of saved data object to export. Function should export processed string to export."),"")}function VN(t,e){const n=e==null?void 0:e.import;return ie(n)?n(t):Qn(n)?{[n]:t}:(n!==void 0&&Z("Conversion import property must be a string or function. String means key of tool data to import. Function accepts a imported string and return composed tool data."),{})}var qt=(t=>(t.APPEND_CALLBACK="appendCallback",t.RENDERED="rendered",t.MOVED="moved",t.UPDATED="updated",t.REMOVED="removed",t.ON_PASTE="onPaste",t))(qt||{});let tn=class At extends ec{constructor({id:e=LN(),data:n,tool:r,api:o,readOnly:i,tunesData:s},a){super(),this.cachedInputs=[],this.toolRenderedElement=null,this.tunesInstances=new Map,this.defaultTunesInstances=new Map,this.unavailableTunesData={},this.inputIndex=0,this.editorEventBus=null,this.handleFocus=()=>{this.dropInputsCache(),this.updateCurrentInput()},this.didMutated=(l=void 0)=>{const c=l===void 0,u=l instanceof InputEvent;!c&&!u&&this.detectToolRootChange(l);let d;c||u?d=!0:d=!(l.length>0&&l.every(h=>{const{addedNodes:f,removedNodes:m,target:g}=h;return[...Array.from(f),...Array.from(m),g].some(k=>I.isElement(k)?k.dataset.mutationFree==="true":!1)})),d&&(this.dropInputsCache(),this.updateCurrentInput(),this.call("updated"),this.emit("didMutated",this))},this.name=r.name,this.id=e,this.settings=r.settings,this.config=r.settings.config||{},this.api=o,this.editorEventBus=a||null,this.blockAPI=new mr(this),this.tool=r,this.toolInstance=r.create(n,this.blockAPI,i),this.tunes=r.tunes,this.composeTunes(s),this.holder=this.compose(),window.requestIdleCallback(()=>{this.watchBlockMutations(),this.addInputEvents()})}static get CSS(){return{wrapper:"ce-block",wrapperStretched:"ce-block--stretched",content:"ce-block__content",focused:"ce-block--focused",selected:"ce-block--selected",dropTarget:"ce-block--drop-target"}}get inputs(){if(this.cachedInputs.length!==0)return this.cachedInputs;const e=I.findAllInputs(this.holder);return this.inputIndex>e.length-1&&(this.inputIndex=e.length-1),this.cachedInputs=e,e}get currentInput(){return this.inputs[this.inputIndex]}set currentInput(e){const n=this.inputs.findIndex(r=>r===e||r.contains(e));n!==-1&&(this.inputIndex=n)}get firstInput(){return this.inputs[0]}get lastInput(){const e=this.inputs;return e[e.length-1]}get nextInput(){return this.inputs[this.inputIndex+1]}get previousInput(){return this.inputs[this.inputIndex-1]}get data(){return this.save().then(e=>e&&!_t(e.data)?e.data:{})}get sanitize(){return this.tool.sanitizeConfig}get mergeable(){return ie(this.toolInstance.merge)}get isEmpty(){const e=I.isEmpty(this.pluginsContent),n=!this.hasMedia;return e&&n}get hasMedia(){const e=["img","iframe","video","audio","source","input","textarea","twitterwidget"];return!!this.holder.querySelector(e.join(","))}set focused(e){this.holder.classList.toggle(At.CSS.focused,e)}get focused(){return this.holder.classList.contains(At.CSS.focused)}set selected(e){var n,r;this.holder.classList.toggle(At.CSS.selected,e);const o=e===!0&&$.isRangeInsideContainer(this.holder),i=e===!1&&$.isFakeCursorInsideContainer(this.holder);(o||i)&&((n=this.editorEventBus)==null||n.emit(pw,{state:e}),o?$.addFakeCursor():$.removeFakeCursor(this.holder),(r=this.editorEventBus)==null||r.emit(mw,{state:e}))}get selected(){return this.holder.classList.contains(At.CSS.selected)}set stretched(e){this.holder.classList.toggle(At.CSS.wrapperStretched,e)}get stretched(){return this.holder.classList.contains(At.CSS.wrapperStretched)}set dropTarget(e){this.holder.classList.toggle(At.CSS.dropTarget,e)}get pluginsContent(){return this.toolRenderedElement}call(e,n){if(ie(this.toolInstance[e])){e==="appendCallback"&&Z("`appendCallback` hook is deprecated and will be removed in the next major release. Use `rendered` hook instead","warn");try{this.toolInstance[e].call(this.toolInstance,n)}catch(r){Z(`Error during '${e}' call: ${r.message}`,"error")}}}async mergeWith(e){await this.toolInstance.merge(e)}async save(){const e=await this.toolInstance.save(this.pluginsContent),n=this.unavailableTunesData;[...this.tunesInstances.entries(),...this.defaultTunesInstances.entries()].forEach(([i,s])=>{if(ie(s.save))try{n[i]=s.save()}catch(a){Z(`Tune ${s.constructor.name} save method throws an Error %o`,"warn",a)}});const r=window.performance.now();let o;return Promise.resolve(e).then(i=>(o=window.performance.now(),{id:this.id,tool:this.name,data:i,tunes:n,time:o-r})).catch(i=>{Z(`Saving process for ${this.name} tool failed due to the ${i}`,"log","red")})}async validate(e){let n=!0;return this.toolInstance.validate instanceof Function&&(n=await this.toolInstance.validate(e)),n}getTunes(){const e=document.createElement("div"),n=[],r=typeof this.toolInstance.renderSettings=="function"?this.toolInstance.renderSettings():[],o=[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].map(i=>i.render());return[r,o].flat().forEach(i=>{I.isElement(i)?e.appendChild(i):Array.isArray(i)?n.push(...i):n.push(i)}),[n,e]}updateCurrentInput(){this.currentInput=I.isNativeInput(document.activeElement)||!$.anchorNode?document.activeElement:$.anchorNode}dispatchChange(){this.didMutated()}destroy(){this.unwatchBlockMutations(),this.removeInputEvents(),super.destroy(),ie(this.toolInstance.destroy)&&this.toolInstance.destroy()}async getActiveToolboxEntry(){const e=this.tool.toolbox;if(e.length===1)return Promise.resolve(this.tool.toolbox[0]);const n=await this.data;return e.find(r=>Object.entries(r.data).some(([o,i])=>n[o]&&ON(n[o],i)))}async exportDataAsString(){const e=await this.data;return $N(e,this.tool.conversionConfig)}compose(){const e=I.make("div",At.CSS.wrapper),n=I.make("div",At.CSS.content),r=this.toolInstance.render();e.dataset.id=this.id,this.toolRenderedElement=r,n.appendChild(this.toolRenderedElement);let o=n;return[...this.tunesInstances.values(),...this.defaultTunesInstances.values()].forEach(i=>{if(ie(i.wrap))try{o=i.wrap(o)}catch(s){Z(`Tune ${i.constructor.name} wrap method throws an Error %o`,"warn",s)}}),e.appendChild(o),e}composeTunes(e){Array.from(this.tunes.values()).forEach(n=>{(n.isInternal?this.defaultTunesInstances:this.tunesInstances).set(n.name,n.create(e[n.name],this.blockAPI))}),Object.entries(e).forEach(([n,r])=>{this.tunesInstances.has(n)||(this.unavailableTunesData[n]=r)})}addInputEvents(){this.inputs.forEach(e=>{e.addEventListener("focus",this.handleFocus),I.isNativeInput(e)&&e.addEventListener("input",this.didMutated)})}removeInputEvents(){this.inputs.forEach(e=>{e.removeEventListener("focus",this.handleFocus),I.isNativeInput(e)&&e.removeEventListener("input",this.didMutated)})}watchBlockMutations(){var e;this.redactorDomChangedCallback=n=>{const{mutations:r}=n;r.some(o=>UN(o,this.toolRenderedElement))&&this.didMutated(r)},(e=this.editorEventBus)==null||e.on(Od,this.redactorDomChangedCallback)}unwatchBlockMutations(){var e;(e=this.editorEventBus)==null||e.off(Od,this.redactorDomChangedCallback)}detectToolRootChange(e){e.forEach(n=>{if(Array.from(n.removedNodes).includes(this.toolRenderedElement)){const r=n.addedNodes[n.addedNodes.length-1];this.toolRenderedElement=r}})}dropInputsCache(){this.cachedInputs=[]}};class HN extends Y{constructor(){super(...arguments),this.insert=(e=this.config.defaultBlock,n={},r={},o,i,s,a)=>{const l=this.Editor.BlockManager.insert({id:a,tool:e,data:n,index:o,needToFocus:i,replace:s});return new mr(l)},this.composeBlockData=async e=>{const n=this.Editor.Tools.blockTools.get(e);return new tn({tool:n,api:this.Editor.API,readOnly:!0,data:{},tunesData:{}}).data},this.update=async(e,n)=>{const{BlockManager:r}=this.Editor,o=r.getBlockById(e);if(o===void 0)throw new Error(`Block with id "${e}" not found`);const i=await r.update(o,n);return new mr(i)},this.convert=(e,n,r)=>{var o,i;const{BlockManager:s,Tools:a}=this.Editor,l=s.getBlockById(e);if(!l)throw new Error(`Block with id "${e}" not found`);const c=a.blockTools.get(l.name),u=a.blockTools.get(n);if(!u)throw new Error(`Block Tool with type "${n}" not found`);const d=((o=c==null?void 0:c.conversionConfig)==null?void 0:o.export)!==void 0,h=((i=u.conversionConfig)==null?void 0:i.import)!==void 0;if(d&&h)s.convert(l,n,r);else{const f=[d?!1:Oo(l.name),h?!1:Oo(n)].filter(Boolean).join(" and ");throw new Error(`Conversion from "${l.name}" to "${n}" is not possible. ${f} tool(s) should provide a "conversionConfig"`)}},this.insertMany=(e,n=this.Editor.BlockManager.blocks.length-1)=>{this.validateIndex(n);const r=e.map(({id:o,type:i,data:s})=>this.Editor.BlockManager.composeBlock({id:o,tool:i||this.config.defaultBlock,data:s}));return this.Editor.BlockManager.insertMany(r,n),r.map(o=>new mr(o))}}get methods(){return{clear:()=>this.clear(),render:e=>this.render(e),renderFromHTML:e=>this.renderFromHTML(e),delete:e=>this.delete(e),swap:(e,n)=>this.swap(e,n),move:(e,n)=>this.move(e,n),getBlockByIndex:e=>this.getBlockByIndex(e),getById:e=>this.getById(e),getCurrentBlockIndex:()=>this.getCurrentBlockIndex(),getBlockIndex:e=>this.getBlockIndex(e),getBlocksCount:()=>this.getBlocksCount(),stretchBlock:(e,n=!0)=>this.stretchBlock(e,n),insertNewBlock:()=>this.insertNewBlock(),insert:this.insert,insertMany:this.insertMany,update:this.update,composeBlockData:this.composeBlockData,convert:this.convert}}getBlocksCount(){return this.Editor.BlockManager.blocks.length}getCurrentBlockIndex(){return this.Editor.BlockManager.currentBlockIndex}getBlockIndex(e){const n=this.Editor.BlockManager.getBlockById(e);if(!n){xt("There is no block with id `"+e+"`","warn");return}return this.Editor.BlockManager.getBlockIndex(n)}getBlockByIndex(e){const n=this.Editor.BlockManager.getBlockByIndex(e);if(n===void 0){xt("There is no block at index `"+e+"`","warn");return}return new mr(n)}getById(e){const n=this.Editor.BlockManager.getBlockById(e);return n===void 0?(xt("There is no block with id `"+e+"`","warn"),null):new mr(n)}swap(e,n){Z("`blocks.swap()` method is deprecated and will be removed in the next major release. Use `block.move()` method instead","info"),this.Editor.BlockManager.swap(e,n)}move(e,n){this.Editor.BlockManager.move(e,n)}delete(e=this.Editor.BlockManager.currentBlockIndex){try{const n=this.Editor.BlockManager.getBlockByIndex(e);this.Editor.BlockManager.removeBlock(n)}catch(n){xt(n,"warn");return}this.Editor.BlockManager.blocks.length===0&&this.Editor.BlockManager.insert(),this.Editor.BlockManager.currentBlock&&this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock,this.Editor.Caret.positions.END),this.Editor.Toolbar.close()}async clear(){await this.Editor.BlockManager.clear(!0),this.Editor.InlineToolbar.close()}async render(e){if(e===void 0||e.blocks===void 0)throw new Error("Incorrect data passed to the render() method");this.Editor.ModificationsObserver.disable(),await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(e.blocks),this.Editor.ModificationsObserver.enable()}renderFromHTML(e){return this.Editor.BlockManager.clear(),this.Editor.Paste.processText(e,!0)}stretchBlock(e,n=!0){Rd(!0,"blocks.stretchBlock()","BlockAPI");const r=this.Editor.BlockManager.getBlockByIndex(e);r&&(r.stretched=n)}insertNewBlock(){Z("Method blocks.insertNewBlock() is deprecated and it will be removed in the next major release. Use blocks.insert() instead.","warn"),this.insert()}validateIndex(e){if(typeof e!="number")throw new Error("Index should be a number");if(e<0)throw new Error("Index should be greater than or equal to 0");if(e===null)throw new Error("Index should be greater than or equal to 0")}}class zN extends Y{constructor(){super(...arguments),this.setToFirstBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.firstBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.firstBlock,e,n),!0):!1,this.setToLastBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.lastBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.lastBlock,e,n),!0):!1,this.setToPreviousBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.previousBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.previousBlock,e,n),!0):!1,this.setToNextBlock=(e=this.Editor.Caret.positions.DEFAULT,n=0)=>this.Editor.BlockManager.nextBlock?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.nextBlock,e,n),!0):!1,this.setToBlock=(e,n=this.Editor.Caret.positions.DEFAULT,r=0)=>this.Editor.BlockManager.blocks[e]?(this.Editor.Caret.setToBlock(this.Editor.BlockManager.blocks[e],n,r),!0):!1,this.focus=(e=!1)=>e?this.setToLastBlock(this.Editor.Caret.positions.END):this.setToFirstBlock(this.Editor.Caret.positions.START)}get methods(){return{setToFirstBlock:this.setToFirstBlock,setToLastBlock:this.setToLastBlock,setToPreviousBlock:this.setToPreviousBlock,setToNextBlock:this.setToNextBlock,setToBlock:this.setToBlock,focus:this.focus}}}class WN extends Y{get methods(){return{emit:(e,n)=>this.emit(e,n),off:(e,n)=>this.off(e,n),on:(e,n)=>this.on(e,n)}}on(e,n){this.eventsDispatcher.on(e,n)}emit(e,n){this.eventsDispatcher.emit(e,n)}off(e,n){this.eventsDispatcher.off(e,n)}}class _f extends Y{static getNamespace(e){return e.isTune()?`blockTunes.${e.name}`:`tools.${e.name}`}get methods(){return{t:()=>{xt("I18n.t() method can be accessed only from Tools","warn")}}}getMethodsForTool(e){return Object.assign(this.methods,{t:n=>Ge.t(_f.getNamespace(e),n)})}}class KN extends Y{get methods(){return{blocks:this.Editor.BlocksAPI.methods,caret:this.Editor.CaretAPI.methods,events:this.Editor.EventsAPI.methods,listeners:this.Editor.ListenersAPI.methods,notifier:this.Editor.NotifierAPI.methods,sanitizer:this.Editor.SanitizerAPI.methods,saver:this.Editor.SaverAPI.methods,selection:this.Editor.SelectionAPI.methods,styles:this.Editor.StylesAPI.classes,toolbar:this.Editor.ToolbarAPI.methods,inlineToolbar:this.Editor.InlineToolbarAPI.methods,tooltip:this.Editor.TooltipAPI.methods,i18n:this.Editor.I18nAPI.methods,readOnly:this.Editor.ReadOnlyAPI.methods,ui:this.Editor.UiAPI.methods}}getMethodsForTool(e){return Object.assign(this.methods,{i18n:this.Editor.I18nAPI.getMethodsForTool(e)})}}class GN extends Y{get methods(){return{close:()=>this.close(),open:()=>this.open()}}open(){this.Editor.InlineToolbar.tryToShow()}close(){this.Editor.InlineToolbar.close()}}class qN extends Y{get methods(){return{on:(e,n,r,o)=>this.on(e,n,r,o),off:(e,n,r,o)=>this.off(e,n,r,o),offById:e=>this.offById(e)}}on(e,n,r,o){return this.listeners.on(e,n,r,o)}off(e,n,r,o){this.listeners.off(e,n,r,o)}offById(e){this.listeners.offById(e)}}var Md={},YN={get exports(){return Md},set exports(t){Md=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=0)}([function(n,r,o){o(1),n.exports=function(){var i=o(6),s="cdx-notify--bounce-in",a=null;return{show:function(l){if(l.message){(function(){if(a)return!0;a=i.getWrapper(),document.body.appendChild(a)})();var c=null,u=l.time||8e3;switch(l.type){case"confirm":c=i.confirm(l);break;case"prompt":c=i.prompt(l);break;default:c=i.alert(l),window.setTimeout(function(){c.remove()},u)}a.appendChild(c),c.classList.add(s)}}}}()},function(n,r,o){var i=o(2);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(4)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(3)(!1)).push([n.i,`.cdx-notify--error{background:#fffbfb!important}.cdx-notify--error::before{background:#fb5d5d!important}.cdx-notify__input{max-width:130px;padding:5px 10px;background:#f7f7f7;border:0;border-radius:3px;font-size:13px;color:#656b7c;outline:0}.cdx-notify__input:-ms-input-placeholder{color:#656b7c}.cdx-notify__input::placeholder{color:#656b7c}.cdx-notify__input:focus:-ms-input-placeholder{color:rgba(101,107,124,.3)}.cdx-notify__input:focus::placeholder{color:rgba(101,107,124,.3)}.cdx-notify__button{border:none;border-radius:3px;font-size:13px;padding:5px 10px;cursor:pointer}.cdx-notify__button:last-child{margin-left:10px}.cdx-notify__button--cancel{background:#f2f5f7;box-shadow:0 2px 1px 0 rgba(16,19,29,0);color:#656b7c}.cdx-notify__button--cancel:hover{background:#eee}.cdx-notify__button--confirm{background:#34c992;box-shadow:0 1px 1px 0 rgba(18,49,35,.05);color:#fff}.cdx-notify__button--confirm:hover{background:#33b082}.cdx-notify__btns-wrapper{display:-ms-flexbox;display:flex;-ms-flex-flow:row nowrap;flex-flow:row nowrap;margin-top:5px}.cdx-notify__cross{position:absolute;top:5px;right:5px;width:10px;height:10px;padding:5px;opacity:.54;cursor:pointer}.cdx-notify__cross::after,.cdx-notify__cross::before{content:'';position:absolute;left:9px;top:5px;height:12px;width:2px;background:#575d67}.cdx-notify__cross::before{transform:rotate(-45deg)}.cdx-notify__cross::after{transform:rotate(45deg)}.cdx-notify__cross:hover{opacity:1}.cdx-notifies{position:fixed;z-index:2;bottom:20px;left:20px;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen,Ubuntu,Cantarell,"Fira Sans","Droid Sans","Helvetica Neue",sans-serif}.cdx-notify{position:relative;width:220px;margin-top:15px;padding:13px 16px;background:#fff;box-shadow:0 11px 17px 0 rgba(23,32,61,.13);border-radius:5px;font-size:14px;line-height:1.4em;word-wrap:break-word}.cdx-notify::before{content:'';position:absolute;display:block;top:0;left:0;width:3px;height:calc(100% - 6px);margin:3px;border-radius:5px;background:0 0}@keyframes bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}100%{transform:scale(1)}}.cdx-notify--bounce-in{animation-name:bounceIn;animation-duration:.6s;animation-iteration-count:1}.cdx-notify--success{background:#fafffe!important}.cdx-notify--success::before{background:#41ffb1!important}`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(m=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(m))))+" */"),f=d.sources.map(function(g){return"/*# sourceURL="+d.sourceRoot+g+" */"});return[u].concat(f).concat([h]).join(`
`)}var m;return[u].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),i.push(d))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(S){var T={};return function(L){if(typeof L=="function")return L();if(T[L]===void 0){var B=(function(P){return document.querySelector(P)}).call(this,L);if(window.HTMLIFrameElement&&B instanceof window.HTMLIFrameElement)try{B=B.contentDocument.head}catch{B=null}T[L]=B}return T[L]}}(),u=null,d=0,h=[],f=o(5);function m(S,T){for(var L=0;L<S.length;L++){var B=S[L],P=a[B.id];if(P){P.refs++;for(var R=0;R<P.parts.length;R++)P.parts[R](B.parts[R]);for(;R<B.parts.length;R++)P.parts.push(w(B.parts[R],T))}else{var D=[];for(R=0;R<B.parts.length;R++)D.push(w(B.parts[R],T));a[B.id]={id:B.id,refs:1,parts:D}}}}function g(S,T){for(var L=[],B={},P=0;P<S.length;P++){var R=S[P],D=T.base?R[0]+T.base:R[0],M={css:R[1],media:R[2],sourceMap:R[3]};B[D]?B[D].parts.push(M):L.push(B[D]={id:D,parts:[M]})}return L}function k(S,T){var L=c(S.insertInto);if(!L)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var B=h[h.length-1];if(S.insertAt==="top")B?B.nextSibling?L.insertBefore(T,B.nextSibling):L.appendChild(T):L.insertBefore(T,L.firstChild),h.push(T);else if(S.insertAt==="bottom")L.appendChild(T);else{if(typeof S.insertAt!="object"||!S.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var P=c(S.insertInto+" "+S.insertAt.before);L.insertBefore(T,P)}}function y(S){if(S.parentNode===null)return!1;S.parentNode.removeChild(S);var T=h.indexOf(S);T>=0&&h.splice(T,1)}function p(S){var T=document.createElement("style");return S.attrs.type===void 0&&(S.attrs.type="text/css"),v(T,S.attrs),k(S,T),T}function v(S,T){Object.keys(T).forEach(function(L){S.setAttribute(L,T[L])})}function w(S,T){var L,B,P,R;if(T.transform&&S.css){if(!(R=T.transform(S.css)))return function(){};S.css=R}if(T.singleton){var D=d++;L=u||(u=p(T)),B=_.bind(null,L,D,!1),P=_.bind(null,L,D,!0)}else S.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(L=function(M){var F=document.createElement("link");return M.attrs.type===void 0&&(M.attrs.type="text/css"),M.attrs.rel="stylesheet",v(F,M.attrs),k(M,F),F}(T),B=(function(M,F,G){var N=G.css,U=G.sourceMap,K=F.convertToAbsoluteUrls===void 0&&U;(F.convertToAbsoluteUrls||K)&&(N=f(N)),U&&(N+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(U))))+" */");var H=new Blob([N],{type:"text/css"}),te=M.href;M.href=URL.createObjectURL(H),te&&URL.revokeObjectURL(te)}).bind(null,L,T),P=function(){y(L),L.href&&URL.revokeObjectURL(L.href)}):(L=p(T),B=(function(M,F){var G=F.css,N=F.media;if(N&&M.setAttribute("media",N),M.styleSheet)M.styleSheet.cssText=G;else{for(;M.firstChild;)M.removeChild(M.firstChild);M.appendChild(document.createTextNode(G))}}).bind(null,L),P=function(){y(L)});return B(S),function(M){if(M){if(M.css===S.css&&M.media===S.media&&M.sourceMap===S.sourceMap)return;B(S=M)}else P()}}n.exports=function(S,T){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(T=T||{}).attrs=typeof T.attrs=="object"?T.attrs:{},T.singleton||typeof T.singleton=="boolean"||(T.singleton=l()),T.insertInto||(T.insertInto="head"),T.insertAt||(T.insertAt="bottom");var L=g(S,T);return m(L,T),function(B){for(var P=[],R=0;R<L.length;R++){var D=L[R];(M=a[D.id]).refs--,P.push(M)}for(B&&m(g(B,T),T),R=0;R<P.length;R++){var M;if((M=P[R]).refs===0){for(var F=0;F<M.parts.length;F++)M.parts[F]();delete a[M.id]}}}};var x,C=(x=[],function(S,T){return x[S]=T,x.filter(Boolean).join(`
`)});function _(S,T,L,B){var P=L?"":B.css;if(S.styleSheet)S.styleSheet.cssText=C(T,P);else{var R=document.createTextNode(P),D=S.childNodes;D[T]&&S.removeChild(D[T]),D.length?S.insertBefore(R,D[T]):S.appendChild(R)}}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,f){return f}).replace(/^'(.*)'$/,function(h,f){return f});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){var i,s,a,l,c,u,d,h,f;n.exports=(i="cdx-notifies",s="cdx-notify",a="cdx-notify__cross",l="cdx-notify__button--confirm",c="cdx-notify__button--cancel",u="cdx-notify__input",d="cdx-notify__button",h="cdx-notify__btns-wrapper",{alert:f=function(m){var g=document.createElement("DIV"),k=document.createElement("DIV"),y=m.message,p=m.style;return g.classList.add(s),p&&g.classList.add(s+"--"+p),g.innerHTML=y,k.classList.add(a),k.addEventListener("click",g.remove.bind(g)),g.appendChild(k),g},confirm:function(m){var g=f(m),k=document.createElement("div"),y=document.createElement("button"),p=document.createElement("button"),v=g.querySelector("."+a),w=m.cancelHandler,x=m.okHandler;return k.classList.add(h),y.innerHTML=m.okText||"Confirm",p.innerHTML=m.cancelText||"Cancel",y.classList.add(d),p.classList.add(d),y.classList.add(l),p.classList.add(c),w&&typeof w=="function"&&(p.addEventListener("click",w),v.addEventListener("click",w)),x&&typeof x=="function"&&y.addEventListener("click",x),y.addEventListener("click",g.remove.bind(g)),p.addEventListener("click",g.remove.bind(g)),k.appendChild(y),k.appendChild(p),g.appendChild(k),g},prompt:function(m){var g=f(m),k=document.createElement("div"),y=document.createElement("button"),p=document.createElement("input"),v=g.querySelector("."+a),w=m.cancelHandler,x=m.okHandler;return k.classList.add(h),y.innerHTML=m.okText||"Ok",y.classList.add(d),y.classList.add(l),p.classList.add(u),m.placeholder&&p.setAttribute("placeholder",m.placeholder),m.default&&(p.value=m.default),m.inputType&&(p.type=m.inputType),w&&typeof w=="function"&&v.addEventListener("click",w),x&&typeof x=="function"&&y.addEventListener("click",function(){x(p.value)}),y.addEventListener("click",g.remove.bind(g)),k.appendChild(p),k.appendChild(y),g.appendChild(k),g},getWrapper:function(){var m=document.createElement("DIV");return m.classList.add(i),m}})}])})})(YN);const XN=Zl(Md);class JN{show(e){XN.show(e)}}class QN extends Y{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.notifier=new JN}get methods(){return{show:e=>this.show(e)}}show(e){return this.notifier.show(e)}}class ZN extends Y{get methods(){const e=()=>this.isEnabled;return{toggle:n=>this.toggle(n),get isEnabled(){return e()}}}toggle(e){return this.Editor.ReadOnly.toggle(e)}get isEnabled(){return this.Editor.ReadOnly.isEnabled}}var Dd={},eR={get exports(){return Dd},set exports(t){Dd=t}};(function(t,e){(function(n,r){t.exports=r()})(kN,function(){function n(d){var h=d.tags,f=Object.keys(h),m=f.map(function(g){return typeof h[g]}).every(function(g){return g==="object"||g==="boolean"||g==="function"});if(!m)throw new Error("The configuration was invalid");this.config=d}var r=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"];function o(d){return r.indexOf(d.nodeName)!==-1}var i=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];function s(d){return i.indexOf(d.nodeName)!==-1}n.prototype.clean=function(d){const h=document.implementation.createHTMLDocument(),f=h.createElement("div");return f.innerHTML=d,this._sanitize(h,f),f.innerHTML},n.prototype._sanitize=function(d,h){var f=a(d,h),m=f.firstChild();if(m)do{if(m.nodeType===Node.TEXT_NODE)if(m.data.trim()===""&&(m.previousElementSibling&&o(m.previousElementSibling)||m.nextElementSibling&&o(m.nextElementSibling))){h.removeChild(m),this._sanitize(d,h);break}else continue;if(m.nodeType===Node.COMMENT_NODE){h.removeChild(m),this._sanitize(d,h);break}var g=s(m),k;g&&(k=Array.prototype.some.call(m.childNodes,o));var y=!!h.parentNode,p=o(h)&&o(m)&&y,v=m.nodeName.toLowerCase(),w=l(this.config,v,m),x=g&&k;if(x||c(m,w)||!this.config.keepNestedBlockElements&&p){if(!(m.nodeName==="SCRIPT"||m.nodeName==="STYLE"))for(;m.childNodes.length>0;)h.insertBefore(m.childNodes[0],m);h.removeChild(m),this._sanitize(d,h);break}for(var C=0;C<m.attributes.length;C+=1){var _=m.attributes[C];u(_,w,m)&&(m.removeAttribute(_.name),C=C-1)}this._sanitize(d,m)}while(m=f.nextSibling())};function a(d,h){return d.createTreeWalker(h,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}function l(d,h,f){return typeof d.tags[h]=="function"?d.tags[h](f):d.tags[h]}function c(d,h){return typeof h>"u"?!0:typeof h=="boolean"?!h:!1}function u(d,h,f){var m=d.name.toLowerCase();return h===!0?!1:typeof h[m]=="function"?!h[m](d.value,f):typeof h[m]>"u"||h[m]===!1?!0:typeof h[m]=="string"?h[m]!==d.value:!1}return n})})(eR);const tR=Dd;function gw(t,e){return t.map(n=>{const r=ie(e)?e(n.tool):e;return _t(r)||(n.data=If(n.data,r)),n})}function nn(t,e={}){const n={tags:e};return new tR(n).clean(t)}function If(t,e){return Array.isArray(t)?nR(t,e):Ae(t)?rR(t,e):Qn(t)?oR(t,e):t}function nR(t,e){return t.map(n=>If(n,e))}function rR(t,e){const n={};for(const r in t){if(!Object.prototype.hasOwnProperty.call(t,r))continue;const o=t[r],i=iR(e[r])?e[r]:e;n[r]=If(o,i)}return n}function oR(t,e){return Ae(e)?nn(t,e):e===!1?nn(t,{}):t}function iR(t){return Ae(t)||CN(t)||ie(t)}class sR extends Y{get methods(){return{clean:(e,n)=>this.clean(e,n)}}clean(e,n){return nn(e,n)}}class aR extends Y{get methods(){return{save:()=>this.save()}}save(){const e="Editor's content can not be saved in read-only mode";return this.Editor.ReadOnly.isEnabled?(xt(e,"warn"),Promise.reject(new Error(e))):this.Editor.Saver.save()}}class lR extends Y{get methods(){return{findParentTag:(e,n)=>this.findParentTag(e,n),expandToTag:e=>this.expandToTag(e)}}findParentTag(e,n){return new $().findParentTag(e,n)}expandToTag(e){new $().expandToTag(e)}}class cR extends Y{get classes(){return{block:"cdx-block",inlineToolButton:"ce-inline-tool",inlineToolButtonActive:"ce-inline-tool--active",input:"cdx-input",loader:"cdx-loader",button:"cdx-button",settingsButton:"cdx-settings-button",settingsButtonActive:"cdx-settings-button--active"}}}class uR extends Y{get methods(){return{close:()=>this.close(),open:()=>this.open(),toggleBlockSettings:e=>this.toggleBlockSettings(e),toggleToolbox:e=>this.toggleToolbox(e)}}open(){this.Editor.Toolbar.moveAndOpen()}close(){this.Editor.Toolbar.close()}toggleBlockSettings(e){if(this.Editor.BlockManager.currentBlockIndex===-1){xt("Could't toggle the Toolbar because there is no block selected ","warn");return}e??!this.Editor.BlockSettings.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.BlockSettings.open()):this.Editor.BlockSettings.close()}toggleToolbox(e){if(this.Editor.BlockManager.currentBlockIndex===-1){xt("Could't toggle the Toolbox because there is no block selected ","warn");return}e??!this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()):this.Editor.Toolbar.toolbox.close()}}var jd={},dR={get exports(){return jd},set exports(t){jd=t}};/*!
 * CodeX.Tooltips
 * 
 * @version 1.0.5
 * 
 * @licence MIT
 * @author CodeX <https://codex.so>
 * 
 * 
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(n,r,o){n.exports=o(1)},function(n,r,o){o.r(r),o.d(r,"default",function(){return i});class i{constructor(){this.nodes={wrapper:null,content:null},this.showed=!1,this.offsetTop=10,this.offsetLeft=10,this.offsetRight=10,this.hidingDelay=0,this.handleWindowScroll=()=>{this.showed&&this.hide(!0)},this.loadStyles(),this.prepare(),window.addEventListener("scroll",this.handleWindowScroll,{passive:!0})}get CSS(){return{tooltip:"ct",tooltipContent:"ct__content",tooltipShown:"ct--shown",placement:{left:"ct--left",bottom:"ct--bottom",right:"ct--right",top:"ct--top"}}}show(a,l,c){this.nodes.wrapper||this.prepare(),this.hidingTimeout&&clearTimeout(this.hidingTimeout);const u=Object.assign({placement:"bottom",marginTop:0,marginLeft:0,marginRight:0,marginBottom:0,delay:70,hidingDelay:0},c);if(u.hidingDelay&&(this.hidingDelay=u.hidingDelay),this.nodes.content.innerHTML="",typeof l=="string")this.nodes.content.appendChild(document.createTextNode(l));else{if(!(l instanceof Node))throw Error("[CodeX Tooltip] Wrong type of content passed. It should be an instance of Node or String. But "+typeof l+" given.");this.nodes.content.appendChild(l)}switch(this.nodes.wrapper.classList.remove(...Object.values(this.CSS.placement)),u.placement){case"top":this.placeTop(a,u);break;case"left":this.placeLeft(a,u);break;case"right":this.placeRight(a,u);break;case"bottom":default:this.placeBottom(a,u)}u&&u.delay?this.showingTimeout=setTimeout(()=>{this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0},u.delay):(this.nodes.wrapper.classList.add(this.CSS.tooltipShown),this.showed=!0)}hide(a=!1){if(this.hidingDelay&&!a)return this.hidingTimeout&&clearTimeout(this.hidingTimeout),void(this.hidingTimeout=setTimeout(()=>{this.hide(!0)},this.hidingDelay));this.nodes.wrapper.classList.remove(this.CSS.tooltipShown),this.showed=!1,this.showingTimeout&&clearTimeout(this.showingTimeout)}onHover(a,l,c){a.addEventListener("mouseenter",()=>{this.show(a,l,c)}),a.addEventListener("mouseleave",()=>{this.hide()})}destroy(){this.nodes.wrapper.remove(),window.removeEventListener("scroll",this.handleWindowScroll)}prepare(){this.nodes.wrapper=this.make("div",this.CSS.tooltip),this.nodes.content=this.make("div",this.CSS.tooltipContent),this.append(this.nodes.wrapper,this.nodes.content),this.append(document.body,this.nodes.wrapper)}loadStyles(){const a="codex-tooltips-style";if(document.getElementById(a))return;const l=o(2),c=this.make("style",null,{textContent:l.toString(),id:a});this.prepend(document.head,c)}placeBottom(a,l){const c=a.getBoundingClientRect(),u=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=c.bottom+window.pageYOffset+this.offsetTop+l.marginTop;this.applyPlacement("bottom",u,d)}placeTop(a,l){const c=a.getBoundingClientRect(),u=c.left+a.clientWidth/2-this.nodes.wrapper.offsetWidth/2,d=c.top+window.pageYOffset-this.nodes.wrapper.clientHeight-this.offsetTop;this.applyPlacement("top",u,d)}placeLeft(a,l){const c=a.getBoundingClientRect(),u=c.left-this.nodes.wrapper.offsetWidth-this.offsetLeft-l.marginLeft,d=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("left",u,d)}placeRight(a,l){const c=a.getBoundingClientRect(),u=c.right+this.offsetRight+l.marginRight,d=c.top+window.pageYOffset+a.clientHeight/2-this.nodes.wrapper.offsetHeight/2;this.applyPlacement("right",u,d)}applyPlacement(a,l,c){this.nodes.wrapper.classList.add(this.CSS.placement[a]),this.nodes.wrapper.style.left=l+"px",this.nodes.wrapper.style.top=c+"px"}make(a,l=null,c={}){const u=document.createElement(a);Array.isArray(l)?u.classList.add(...l):l&&u.classList.add(l);for(const d in c)c.hasOwnProperty(d)&&(u[d]=c[d]);return u}append(a,l){Array.isArray(l)?l.forEach(c=>a.appendChild(c)):a.appendChild(l)}prepend(a,l){Array.isArray(l)?(l=l.reverse()).forEach(c=>a.prepend(c)):a.prepend(l)}}},function(n,r){n.exports=`.ct{z-index:999;opacity:0;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;pointer-events:none;-webkit-transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1);transition:opacity 50ms ease-in,transform 70ms cubic-bezier(.215,.61,.355,1),-webkit-transform 70ms cubic-bezier(.215,.61,.355,1);will-change:opacity,top,left;-webkit-box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);box-shadow:0 8px 12px 0 rgba(29,32,43,.17),0 4px 5px -3px rgba(5,6,12,.49);border-radius:9px}.ct,.ct:before{position:absolute;top:0;left:0}.ct:before{content:"";bottom:0;right:0;background-color:#1d202b;z-index:-1;border-radius:4px}@supports(-webkit-mask-box-image:url("")){.ct:before{border-radius:0;-webkit-mask-box-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"><path d="M10.71 0h2.58c3.02 0 4.64.42 6.1 1.2a8.18 8.18 0 013.4 3.4C23.6 6.07 24 7.7 24 10.71v2.58c0 3.02-.42 4.64-1.2 6.1a8.18 8.18 0 01-3.4 3.4c-1.47.8-3.1 1.21-6.11 1.21H10.7c-3.02 0-4.64-.42-6.1-1.2a8.18 8.18 0 01-3.4-3.4C.4 17.93 0 16.3 0 13.29V10.7c0-3.02.42-4.64 1.2-6.1a8.18 8.18 0 013.4-3.4C6.07.4 7.7 0 10.71 0z"/></svg>') 48% 41% 37.9% 53.3%}}@media (--mobile){.ct{display:none}}.ct__content{padding:6px 10px;color:#cdd1e0;font-size:12px;text-align:center;letter-spacing:.02em;line-height:1em}.ct:after{content:"";width:8px;height:8px;position:absolute;background-color:#1d202b;z-index:-1}.ct--bottom{-webkit-transform:translateY(5px);transform:translateY(5px)}.ct--bottom:after{top:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--top{-webkit-transform:translateY(-5px);transform:translateY(-5px)}.ct--top:after{top:auto;bottom:-3px;left:50%;-webkit-transform:translateX(-50%) rotate(-45deg);transform:translateX(-50%) rotate(-45deg)}.ct--left{-webkit-transform:translateX(-5px);transform:translateX(-5px)}.ct--left:after{top:50%;left:auto;right:0;-webkit-transform:translate(41.6%,-50%) rotate(-45deg);transform:translate(41.6%,-50%) rotate(-45deg)}.ct--right{-webkit-transform:translateX(5px);transform:translateX(5px)}.ct--right:after{top:50%;left:0;-webkit-transform:translate(-41.6%,-50%) rotate(-45deg);transform:translate(-41.6%,-50%) rotate(-45deg)}.ct--shown{opacity:1;-webkit-transform:none;transform:none}`}]).default})})(dR);const hR=Zl(jd);class Bf{constructor(){this.lib=new hR}destroy(){this.lib.destroy()}show(e,n,r){this.lib.show(e,n,r)}hide(e=!1){this.lib.hide(e)}onHover(e,n,r){this.lib.onHover(e,n,r)}}class fR extends Y{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.tooltip=new Bf}destroy(){this.tooltip.destroy()}get methods(){return{show:(e,n,r)=>this.show(e,n,r),hide:()=>this.hide(),onHover:(e,n,r)=>this.onHover(e,n,r)}}show(e,n,r){this.tooltip.show(e,n,r)}hide(){this.tooltip.hide()}onHover(e,n,r){this.tooltip.onHover(e,n,r)}}class pR extends Y{get methods(){return{nodes:this.editorNodes}}get editorNodes(){return{wrapper:this.Editor.UI.nodes.wrapper,redactor:this.Editor.UI.nodes.redactor}}}function vw(t,e){const n={};return Object.entries(t).forEach(([r,o])=>{if(Ae(o)){const i=e?`${e}.${r}`:r;Object.values(o).every(s=>Qn(s))?n[r]=i:n[r]=vw(o,i);return}n[r]=o}),n}const Et=vw(dw);function mR(t,e){const n={};return Object.keys(t).forEach(r=>{const o=e[r];o!==void 0?n[o]=t[r]:n[r]=t[r]}),n}const gR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 12L9 7.1C9 7.04477 9.04477 7 9.1 7H10.4C11.5 7 14 7.1 14 9.5C14 9.5 14 12 11 12M9 12V16.8C9 16.9105 9.08954 17 9.2 17H12.5C14 17 15 16 15 14.5C15 11.7046 11 12 11 12M9 12H11"/></svg>',yw='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 10L11.8586 14.8586C11.9367 14.9367 12.0633 14.9367 12.1414 14.8586L17 10"/></svg>',vR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7 15L11.8586 10.1414C11.9367 10.0633 12.0633 10.0633 12.1414 10.1414L17 15"/></svg>',yR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 8L12 12M12 12L16 16M12 12L16 8M12 12L8 16"/></svg>',bR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="12" cy="12" r="4" stroke="currentColor" stroke-width="2"/></svg>',wR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13.34 10C12.4223 12.7337 11 17 11 17"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.21 7H14.2"/></svg>',Gg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.69998 12.6L7.67896 12.62C6.53993 13.7048 6.52012 15.5155 7.63516 16.625V16.625C8.72293 17.7073 10.4799 17.7102 11.5712 16.6314L13.0263 15.193C14.0703 14.1609 14.2141 12.525 13.3662 11.3266L13.22 11.12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16.22 11.12L16.3564 10.9805C17.2895 10.0265 17.3478 8.5207 16.4914 7.49733V7.49733C15.5691 6.39509 13.9269 6.25143 12.8271 7.17675L11.3901 8.38588C10.0935 9.47674 9.95706 11.4241 11.0888 12.6852L11.12 12.72"/></svg>',kR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 7.29999H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 7.29999H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.30999 12H9.3"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 12H14.59"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M9.40999 16.7H9.4"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2.6" d="M14.6 16.7H14.59"/></svg>',xR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 7V12M12 17V12M17 12H12M12 12H7"/></svg>',ER='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><circle cx="10.5" cy="10.5" r="5.5" stroke="currentColor" stroke-width="2"/><line x1="15.4142" x2="19" y1="15" y2="18.5858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',SR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15.7795 11.5C15.7795 11.5 16.053 11.1962 16.5497 10.6722C17.4442 9.72856 17.4701 8.2475 16.5781 7.30145V7.30145C15.6482 6.31522 14.0873 6.29227 13.1288 7.25073L11.8796 8.49999"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8.24517 12.3883C8.24517 12.3883 7.97171 12.6922 7.47504 13.2161C6.58051 14.1598 6.55467 15.6408 7.44666 16.5869V16.5869C8.37653 17.5731 9.93744 17.5961 10.8959 16.6376L12.1452 15.3883"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17.7802 15.1032L16.597 14.9422C16.0109 14.8624 15.4841 15.3059 15.4627 15.8969L15.4199 17.0818"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6.39064 9.03238L7.58432 9.06668C8.17551 9.08366 8.6522 8.58665 8.61056 7.99669L8.5271 6.81397"/><line x1="12.1142" x2="11.7" y1="12.2" y2="11.7858" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>',CR='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><line x1="12" x2="12" y1="9" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M12 15.02V15.01"/></svg>';let qg=class be{constructor(e){this.nodes={root:null,icon:null},this.confirmationState=null,this.removeSpecialFocusBehavior=()=>{this.nodes.root.classList.remove(be.CSS.noFocus)},this.removeSpecialHoverBehavior=()=>{this.nodes.root.classList.remove(be.CSS.noHover)},this.onErrorAnimationEnd=()=>{this.nodes.icon.classList.remove(be.CSS.wobbleAnimation),this.nodes.icon.removeEventListener("animationend",this.onErrorAnimationEnd)},this.params=e,this.nodes.root=this.make(e)}get isDisabled(){return this.params.isDisabled}get toggle(){return this.params.toggle}get title(){return this.params.title}get closeOnActivate(){return this.params.closeOnActivate}get isConfirmationStateEnabled(){return this.confirmationState!==null}get isFocused(){return this.nodes.root.classList.contains(be.CSS.focused)}static get CSS(){return{container:"ce-popover-item",title:"ce-popover-item__title",secondaryTitle:"ce-popover-item__secondary-title",icon:"ce-popover-item__icon",active:"ce-popover-item--active",disabled:"ce-popover-item--disabled",focused:"ce-popover-item--focused",hidden:"ce-popover-item--hidden",confirmationState:"ce-popover-item--confirmation",noHover:"ce-popover-item--no-hover",noFocus:"ce-popover-item--no-focus",wobbleAnimation:"wobble"}}getElement(){return this.nodes.root}handleClick(){if(this.isConfirmationStateEnabled){this.activateOrEnableConfirmationMode(this.confirmationState);return}this.activateOrEnableConfirmationMode(this.params)}toggleActive(e){this.nodes.root.classList.toggle(be.CSS.active,e)}toggleHidden(e){this.nodes.root.classList.toggle(be.CSS.hidden,e)}reset(){this.isConfirmationStateEnabled&&this.disableConfirmationMode()}onFocus(){this.disableSpecialHoverAndFocusBehavior()}make(e){const n=I.make("div",be.CSS.container);return e.name&&(n.dataset.itemName=e.name),this.nodes.icon=I.make("div",be.CSS.icon,{innerHTML:e.icon||bR}),n.appendChild(this.nodes.icon),n.appendChild(I.make("div",be.CSS.title,{innerHTML:e.title||""})),e.secondaryLabel&&n.appendChild(I.make("div",be.CSS.secondaryTitle,{textContent:e.secondaryLabel})),e.isActive&&n.classList.add(be.CSS.active),e.isDisabled&&n.classList.add(be.CSS.disabled),n}enableConfirmationMode(e){const n={...this.params,...e,confirmation:e.confirmation},r=this.make(n);this.nodes.root.innerHTML=r.innerHTML,this.nodes.root.classList.add(be.CSS.confirmationState),this.confirmationState=e,this.enableSpecialHoverAndFocusBehavior()}disableConfirmationMode(){const e=this.make(this.params);this.nodes.root.innerHTML=e.innerHTML,this.nodes.root.classList.remove(be.CSS.confirmationState),this.confirmationState=null,this.disableSpecialHoverAndFocusBehavior()}enableSpecialHoverAndFocusBehavior(){this.nodes.root.classList.add(be.CSS.noHover),this.nodes.root.classList.add(be.CSS.noFocus),this.nodes.root.addEventListener("mouseleave",this.removeSpecialHoverBehavior,{once:!0})}disableSpecialHoverAndFocusBehavior(){this.removeSpecialFocusBehavior(),this.removeSpecialHoverBehavior(),this.nodes.root.removeEventListener("mouseleave",this.removeSpecialHoverBehavior)}activateOrEnableConfirmationMode(e){if(e.confirmation===void 0)try{e.onActivate(e),this.disableConfirmationMode()}catch{this.animateError()}else this.enableConfirmationMode(e.confirmation)}animateError(){this.nodes.icon.classList.contains(be.CSS.wobbleAnimation)||(this.nodes.icon.classList.add(be.CSS.wobbleAnimation),this.nodes.icon.addEventListener("animationend",this.onErrorAnimationEnd))}};const li=class{constructor(t,e){this.cursor=-1,this.items=[],this.items=t||[],this.focusedCssClass=e}get currentItem(){return this.cursor===-1?null:this.items[this.cursor]}setCursor(t){t<this.items.length&&t>=-1&&(this.dropCursor(),this.cursor=t,this.items[this.cursor].classList.add(this.focusedCssClass))}setItems(t){this.items=t}next(){this.cursor=this.leafNodesAndReturnIndex(li.directions.RIGHT)}previous(){this.cursor=this.leafNodesAndReturnIndex(li.directions.LEFT)}dropCursor(){this.cursor!==-1&&(this.items[this.cursor].classList.remove(this.focusedCssClass),this.cursor=-1)}leafNodesAndReturnIndex(t){if(this.items.length===0)return this.cursor;let e=this.cursor;return e===-1?e=t===li.directions.RIGHT?-1:0:this.items[e].classList.remove(this.focusedCssClass),t===li.directions.RIGHT?e=(e+1)%this.items.length:e=(this.items.length+e-1)%this.items.length,I.canSetCaret(this.items[e])&&Ro(()=>$.setCursor(this.items[e]),50)(),this.items[e].classList.add(this.focusedCssClass),e}};let Wr=li;Wr.directions={RIGHT:"right",LEFT:"left"};class mn{constructor(e){this.iterator=null,this.activated=!1,this.flipCallbacks=[],this.onKeyDown=n=>{if(this.isEventReadyForHandling(n))switch(mn.usedKeys.includes(n.keyCode)&&n.preventDefault(),n.keyCode){case z.TAB:this.handleTabPress(n);break;case z.LEFT:case z.UP:this.flipLeft();break;case z.RIGHT:case z.DOWN:this.flipRight();break;case z.ENTER:this.handleEnterPress(n);break}},this.iterator=new Wr(e.items,e.focusedItemClass),this.activateCallback=e.activateCallback,this.allowedKeys=e.allowedKeys||mn.usedKeys}get isActivated(){return this.activated}static get usedKeys(){return[z.TAB,z.LEFT,z.RIGHT,z.ENTER,z.UP,z.DOWN]}activate(e,n){this.activated=!0,e&&this.iterator.setItems(e),n!==void 0&&this.iterator.setCursor(n),document.addEventListener("keydown",this.onKeyDown,!0)}deactivate(){this.activated=!1,this.dropCursor(),document.removeEventListener("keydown",this.onKeyDown)}focusFirst(){this.dropCursor(),this.flipRight()}flipLeft(){this.iterator.previous(),this.flipCallback()}flipRight(){this.iterator.next(),this.flipCallback()}hasFocus(){return!!this.iterator.currentItem}onFlip(e){this.flipCallbacks.push(e)}removeOnFlip(e){this.flipCallbacks=this.flipCallbacks.filter(n=>n!==e)}dropCursor(){this.iterator.dropCursor()}isEventReadyForHandling(e){return this.activated&&this.allowedKeys.includes(e.keyCode)}handleTabPress(e){switch(e.shiftKey?Wr.directions.LEFT:Wr.directions.RIGHT){case Wr.directions.RIGHT:this.flipRight();break;case Wr.directions.LEFT:this.flipLeft();break}}handleEnterPress(e){this.activated&&(this.iterator.currentItem&&(e.stopPropagation(),e.preventDefault(),this.iterator.currentItem.click()),ie(this.activateCallback)&&this.activateCallback(this.iterator.currentItem))}flipCallback(){this.iterator.currentItem&&this.iterator.currentItem.scrollIntoViewIfNeeded(),this.flipCallbacks.forEach(e=>e())}}class Ci{static get CSS(){return{wrapper:"cdx-search-field",icon:"cdx-search-field__icon",input:"cdx-search-field__input"}}constructor({items:e,onSearch:n,placeholder:r}){this.listeners=new Tf,this.items=e,this.onSearch=n,this.render(r)}getElement(){return this.wrapper}focus(){this.input.focus()}clear(){this.input.value="",this.searchQuery="",this.onSearch("",this.foundItems)}destroy(){this.listeners.removeAll()}render(e){this.wrapper=I.make("div",Ci.CSS.wrapper);const n=I.make("div",Ci.CSS.icon,{innerHTML:ER});this.input=I.make("input",Ci.CSS.input,{placeholder:e}),this.wrapper.appendChild(n),this.wrapper.appendChild(this.input),this.listeners.on(this.input,"input",()=>{this.searchQuery=this.input.value,this.onSearch(this.searchQuery,this.foundItems)})}get foundItems(){return this.items.filter(e=>this.checkItem(e))}checkItem(e){var n;const r=((n=e.title)==null?void 0:n.toLowerCase())||"",o=this.searchQuery.toLowerCase();return r.includes(o)}}const ci=class{lock(){Wg?this.lockHard():document.body.classList.add(ci.CSS.scrollLocked)}unlock(){Wg?this.unlockHard():document.body.classList.remove(ci.CSS.scrollLocked)}lockHard(){this.scrollPosition=window.pageYOffset,document.documentElement.style.setProperty("--window-scroll-offset",`${this.scrollPosition}px`),document.body.classList.add(ci.CSS.scrollLockedHard)}unlockHard(){document.body.classList.remove(ci.CSS.scrollLockedHard),this.scrollPosition!==null&&window.scrollTo(0,this.scrollPosition),this.scrollPosition=null}};let bw=ci;bw.CSS={scrollLocked:"ce-scroll-locked",scrollLockedHard:"ce-scroll-locked--hard"};var TR=Object.defineProperty,_R=Object.getOwnPropertyDescriptor,IR=(t,e,n,r)=>{for(var o=r>1?void 0:r?_R(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&TR(e,n,o),o},es=(t=>(t.Close="close",t))(es||{});const Te=class extends ec{constructor(e){super(),this.scopeElement=document.body,this.listeners=new Tf,this.scrollLocker=new bw,this.nodes={wrapper:null,popover:null,nothingFoundMessage:null,customContent:null,items:null,overlay:null},this.messages={nothingFound:"Nothing found",search:"Search"},this.onFlip=()=>{this.items.find(n=>n.isFocused).onFocus()},this.items=e.items.map(n=>new qg(n)),e.scopeElement!==void 0&&(this.scopeElement=e.scopeElement),e.messages&&(this.messages={...this.messages,...e.messages}),e.customContentFlippableItems&&(this.customContentFlippableItems=e.customContentFlippableItems),this.make(),e.customContent&&this.addCustomContent(e.customContent),e.searchable&&this.addSearch(),this.initializeFlipper()}static get CSS(){return{popover:"ce-popover",popoverOpenTop:"ce-popover--open-top",popoverOpened:"ce-popover--opened",search:"ce-popover__search",nothingFoundMessage:"ce-popover__nothing-found-message",nothingFoundMessageDisplayed:"ce-popover__nothing-found-message--displayed",customContent:"ce-popover__custom-content",customContentHidden:"ce-popover__custom-content--hidden",items:"ce-popover__items",overlay:"ce-popover__overlay",overlayHidden:"ce-popover__overlay--hidden"}}getElement(){return this.nodes.wrapper}hasFocus(){return this.flipper.hasFocus()}show(){this.shouldOpenBottom||(this.nodes.popover.style.setProperty("--popover-height",this.height+"px"),this.nodes.popover.classList.add(Te.CSS.popoverOpenTop)),this.nodes.overlay.classList.remove(Te.CSS.overlayHidden),this.nodes.popover.classList.add(Te.CSS.popoverOpened),this.flipper.activate(this.flippableElements),this.search!==void 0&&setTimeout(()=>{this.search.focus()},100),Sr()&&this.scrollLocker.lock()}hide(){this.nodes.popover.classList.remove(Te.CSS.popoverOpened),this.nodes.popover.classList.remove(Te.CSS.popoverOpenTop),this.nodes.overlay.classList.add(Te.CSS.overlayHidden),this.flipper.deactivate(),this.items.forEach(e=>e.reset()),this.search!==void 0&&this.search.clear(),Sr()&&this.scrollLocker.unlock(),this.emit("close")}destroy(){this.flipper.deactivate(),this.listeners.removeAll(),Sr()&&this.scrollLocker.unlock()}make(){this.nodes.popover=I.make("div",[Te.CSS.popover]),this.nodes.nothingFoundMessage=I.make("div",[Te.CSS.nothingFoundMessage],{textContent:this.messages.nothingFound}),this.nodes.popover.appendChild(this.nodes.nothingFoundMessage),this.nodes.items=I.make("div",[Te.CSS.items]),this.items.forEach(e=>{this.nodes.items.appendChild(e.getElement())}),this.nodes.popover.appendChild(this.nodes.items),this.listeners.on(this.nodes.popover,"click",e=>{const n=this.getTargetItem(e);n!==void 0&&this.handleItemClick(n)}),this.nodes.wrapper=I.make("div"),this.nodes.overlay=I.make("div",[Te.CSS.overlay,Te.CSS.overlayHidden]),this.listeners.on(this.nodes.overlay,"click",()=>{this.hide()}),this.nodes.wrapper.appendChild(this.nodes.overlay),this.nodes.wrapper.appendChild(this.nodes.popover)}addSearch(){this.search=new Ci({items:this.items,placeholder:this.messages.search,onSearch:(n,r)=>{this.items.forEach(i=>{const s=!r.includes(i);i.toggleHidden(s)}),this.toggleNothingFoundMessage(r.length===0),this.toggleCustomContent(n!=="");const o=n===""?this.flippableElements:r.map(i=>i.getElement());this.flipper.isActivated&&(this.flipper.deactivate(),this.flipper.activate(o))}});const e=this.search.getElement();e.classList.add(Te.CSS.search),this.nodes.popover.insertBefore(e,this.nodes.popover.firstChild)}addCustomContent(e){this.nodes.customContent=e,this.nodes.customContent.classList.add(Te.CSS.customContent),this.nodes.popover.insertBefore(e,this.nodes.popover.firstChild)}getTargetItem(e){return this.items.find(n=>e.composedPath().includes(n.getElement()))}handleItemClick(e){e.isDisabled||(this.items.filter(n=>n!==e).forEach(n=>n.reset()),e.handleClick(),this.toggleItemActivenessIfNeeded(e),e.closeOnActivate&&this.hide())}initializeFlipper(){this.flipper=new mn({items:this.flippableElements,focusedItemClass:qg.CSS.focused,allowedKeys:[z.TAB,z.UP,z.DOWN,z.ENTER]}),this.flipper.onFlip(this.onFlip)}get flippableElements(){const e=this.items.map(n=>n.getElement());return(this.customContentFlippableItems||[]).concat(e)}get height(){let e=0;if(this.nodes.popover===null)return e;const n=this.nodes.popover.cloneNode(!0);return n.style.visibility="hidden",n.style.position="absolute",n.style.top="-1000px",n.classList.add(Te.CSS.popoverOpened),document.body.appendChild(n),e=n.offsetHeight,n.remove(),e}get shouldOpenBottom(){const e=this.nodes.popover.getBoundingClientRect(),n=this.scopeElement.getBoundingClientRect(),r=this.height,o=e.top+r,i=e.top-r,s=Math.min(window.innerHeight,n.bottom);return i<n.top||o<=s}toggleNothingFoundMessage(e){this.nodes.nothingFoundMessage.classList.toggle(Te.CSS.nothingFoundMessageDisplayed,e)}toggleCustomContent(e){var n;(n=this.nodes.customContent)==null||n.classList.toggle(Te.CSS.customContentHidden,e)}toggleItemActivenessIfNeeded(e){if(e.toggle===!0&&e.toggleActive(),typeof e.toggle=="string"){const n=this.items.filter(r=>r.toggle===e.toggle);if(n.length===1){e.toggleActive();return}n.forEach(r=>{r.toggleActive(r===e)})}}};let Af=Te;IR([Wo],Af.prototype,"height",1);class BR extends Y{constructor(){super(...arguments),this.opened=!1,this.selection=new $,this.onPopoverClose=()=>{this.close()}}get events(){return{opened:"block-settings-opened",closed:"block-settings-closed"}}get CSS(){return{settings:"ce-settings"}}get flipper(){var e;return(e=this.popover)==null?void 0:e.flipper}make(){this.nodes.wrapper=I.make("div",[this.CSS.settings])}destroy(){this.removeAllNodes()}open(e=this.Editor.BlockManager.currentBlock){this.opened=!0,this.selection.save(),e.selected=!0,this.Editor.BlockSelection.clearCache();const[n,r]=e.getTunes();this.eventsDispatcher.emit(this.events.opened),this.popover=new Af({searchable:!0,items:n.map(o=>this.resolveTuneAliases(o)),customContent:r,customContentFlippableItems:this.getControls(r),scopeElement:this.Editor.API.methods.ui.nodes.redactor,messages:{nothingFound:Ge.ui(Et.ui.popover,"Nothing found"),search:Ge.ui(Et.ui.popover,"Filter")}}),this.popover.on(es.Close,this.onPopoverClose),this.nodes.wrapper.append(this.popover.getElement()),this.popover.show()}getElement(){return this.nodes.wrapper}close(){this.opened=!1,$.isAtEditor||this.selection.restore(),this.selection.clearSaved(),!this.Editor.CrossBlockSelection.isCrossBlockSelectionStarted&&this.Editor.BlockManager.currentBlock&&(this.Editor.BlockManager.currentBlock.selected=!1),this.eventsDispatcher.emit(this.events.closed),this.popover&&(this.popover.off(es.Close,this.onPopoverClose),this.popover.destroy(),this.popover.getElement().remove(),this.popover=null)}getControls(e){const{StylesAPI:n}=this.Editor,r=e.querySelectorAll(`.${n.classes.settingsButton}, ${I.allInputsSelector}`);return Array.from(r)}resolveTuneAliases(e){const n=mR(e,{label:"title"});return e.confirmation&&(n.confirmation=this.resolveTuneAliases(e.confirmation)),n}}class Ze extends Y{constructor(){super(...arguments),this.opened=!1,this.tools=[],this.flipper=null,this.togglingCallback=null}static get CSS(){return{conversionToolbarWrapper:"ce-conversion-toolbar",conversionToolbarShowed:"ce-conversion-toolbar--showed",conversionToolbarTools:"ce-conversion-toolbar__tools",conversionToolbarLabel:"ce-conversion-toolbar__label",conversionTool:"ce-conversion-tool",conversionToolHidden:"ce-conversion-tool--hidden",conversionToolIcon:"ce-conversion-tool__icon",conversionToolSecondaryLabel:"ce-conversion-tool__secondary-label",conversionToolFocused:"ce-conversion-tool--focused",conversionToolActive:"ce-conversion-tool--active"}}make(){this.nodes.wrapper=I.make("div",[Ze.CSS.conversionToolbarWrapper,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.tools=I.make("div",Ze.CSS.conversionToolbarTools);const e=I.make("div",Ze.CSS.conversionToolbarLabel,{textContent:Ge.ui(Et.ui.inlineToolbar.converter,"Convert to")});return this.addTools(),this.enableFlipper(),I.append(this.nodes.wrapper,e),I.append(this.nodes.wrapper,this.nodes.tools),this.nodes.wrapper}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes()}toggle(e){this.opened?this.close():this.open(),ie(e)&&(this.togglingCallback=e)}open(){this.filterTools(),this.opened=!0,this.nodes.wrapper.classList.add(Ze.CSS.conversionToolbarShowed),window.requestAnimationFrame(()=>{this.flipper.activate(this.tools.map(e=>e.button).filter(e=>!e.classList.contains(Ze.CSS.conversionToolHidden))),this.flipper.focusFirst(),ie(this.togglingCallback)&&this.togglingCallback(!0)})}close(){this.opened=!1,this.flipper.deactivate(),this.nodes.wrapper.classList.remove(Ze.CSS.conversionToolbarShowed),ie(this.togglingCallback)&&this.togglingCallback(!1)}hasTools(){return this.tools.length===1?this.tools[0].name!==this.config.defaultBlock:!0}async replaceWithBlock(e,n){const{BlockManager:r,BlockSelection:o,InlineToolbar:i,Caret:s}=this.Editor;r.convert(this.Editor.BlockManager.currentBlock,e,n),o.clearSelection(),this.close(),i.close(),window.requestAnimationFrame(()=>{s.setToBlock(this.Editor.BlockManager.currentBlock,s.positions.END)})}addTools(){const e=this.Editor.Tools.blockTools;Array.from(e.entries()).forEach(([n,r])=>{var o;const i=r.conversionConfig;!i||!i.import||(o=r.toolbox)==null||o.forEach(s=>this.addToolIfValid(n,s))})}addToolIfValid(e,n){_t(n)||!n.icon||this.addTool(e,n)}addTool(e,n){var r;const o=I.make("div",[Ze.CSS.conversionTool]),i=I.make("div",[Ze.CSS.conversionToolIcon]);o.dataset.tool=e,i.innerHTML=n.icon,I.append(o,i),I.append(o,I.text(Ge.t(Et.toolNames,n.title||Oo(e))));const s=(r=this.Editor.Tools.blockTools.get(e))==null?void 0:r.shortcut;if(s){const a=I.make("span",Ze.CSS.conversionToolSecondaryLabel,{innerText:Cf(s)});I.append(o,a)}I.append(this.nodes.tools,o),this.tools.push({name:e,button:o,toolboxItem:n}),this.listeners.on(o,"click",async()=>{await this.replaceWithBlock(e,n.data)})}async filterTools(){const{currentBlock:e}=this.Editor.BlockManager,n=await e.getActiveToolboxEntry();function r(o,i){return o.icon===i.icon&&o.title===i.title}this.tools.forEach(o=>{let i=!1;if(n){const s=r(n,o.toolboxItem);i=o.button.dataset.tool===e.name&&s}o.button.hidden=i,o.button.classList.toggle(Ze.CSS.conversionToolHidden,i)})}enableFlipper(){this.flipper=new mn({focusedItemClass:Ze.CSS.conversionToolFocused})}}var Fd={},AR={get exports(){return Fd},set exports(t){Fd=t}};/*!
 * Library for handling keyboard shortcuts
 * @copyright CodeX (https://codex.so)
 * @license MIT
 * @author CodeX (https://codex.so)
 * @version 1.2.0
 */(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=0)}([function(n,r,o){function i(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&i(l.prototype,c),u&&i(l,u),l}o.r(r);var a=function(){function l(c){var u=this;(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,l),this.commands={},this.keys={},this.name=c.name,this.parseShortcutName(c.name),this.element=c.on,this.callback=c.callback,this.executeShortcut=function(d){u.execute(d)},this.element.addEventListener("keydown",this.executeShortcut,!1)}return s(l,null,[{key:"supportedCommands",get:function(){return{SHIFT:["SHIFT"],CMD:["CMD","CONTROL","COMMAND","WINDOWS","CTRL"],ALT:["ALT","OPTION"]}}},{key:"keyCodes",get:function(){return{0:48,1:49,2:50,3:51,4:52,5:53,6:54,7:55,8:56,9:57,A:65,B:66,C:67,D:68,E:69,F:70,G:71,H:72,I:73,J:74,K:75,L:76,M:77,N:78,O:79,P:80,Q:81,R:82,S:83,T:84,U:85,V:86,W:87,X:88,Y:89,Z:90,BACKSPACE:8,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,INSERT:45,DELETE:46,".":190}}}]),s(l,[{key:"parseShortcutName",value:function(c){c=c.split("+");for(var u=0;u<c.length;u++){c[u]=c[u].toUpperCase();var d=!1;for(var h in l.supportedCommands)if(l.supportedCommands[h].includes(c[u])){d=this.commands[h]=!0;break}d||(this.keys[c[u]]=!0)}for(var f in l.supportedCommands)this.commands[f]||(this.commands[f]=!1)}},{key:"execute",value:function(c){var u,d={CMD:c.ctrlKey||c.metaKey,SHIFT:c.shiftKey,ALT:c.altKey},h=!0;for(u in this.commands)this.commands[u]!==d[u]&&(h=!1);var f,m=!0;for(f in this.keys)m=m&&c.keyCode===l.keyCodes[f];h&&m&&this.callback(c)}},{key:"remove",value:function(){this.element.removeEventListener("keydown",this.executeShortcut)}}]),l}();r.default=a}]).default})})(AR);const PR=Zl(Fd);class LR{constructor(){this.registeredShortcuts=new Map}add(e){if(this.findShortcut(e.on,e.name))throw Error(`Shortcut ${e.name} is already registered for ${e.on}. Please remove it before add a new handler.`);const n=new PR({name:e.name,on:e.on,callback:e.handler}),r=this.registeredShortcuts.get(e.on)||[];this.registeredShortcuts.set(e.on,[...r,n])}remove(e,n){const r=this.findShortcut(e,n);if(!r)return;r.remove();const o=this.registeredShortcuts.get(e);this.registeredShortcuts.set(e,o.filter(i=>i!==r))}findShortcut(e,n){return(this.registeredShortcuts.get(e)||[]).find(({name:r})=>r===n)}}const Mo=new LR;var NR=Object.defineProperty,RR=Object.getOwnPropertyDescriptor,ww=(t,e,n,r)=>{for(var o=r>1?void 0:r?RR(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&NR(e,n,o),o},ka=(t=>(t.Opened="toolbox-opened",t.Closed="toolbox-closed",t.BlockAdded="toolbox-block-added",t))(ka||{});const kw=class extends ec{constructor({api:t,tools:e,i18nLabels:n}){super(),this.opened=!1,this.nodes={toolbox:null},this.onPopoverClose=()=>{this.opened=!1,this.emit("toolbox-closed")},this.api=t,this.tools=e,this.i18nLabels=n}get isEmpty(){return this.toolsToBeDisplayed.length===0}static get CSS(){return{toolbox:"ce-toolbox"}}make(){return this.popover=new Af({scopeElement:this.api.ui.nodes.redactor,searchable:!0,messages:{nothingFound:this.i18nLabels.nothingFound,search:this.i18nLabels.filter},items:this.toolboxItemsToBeDisplayed}),this.popover.on(es.Close,this.onPopoverClose),this.enableShortcuts(),this.nodes.toolbox=this.popover.getElement(),this.nodes.toolbox.classList.add(kw.CSS.toolbox),this.nodes.toolbox}hasFocus(){var t;return(t=this.popover)==null?void 0:t.hasFocus()}destroy(){var t;super.destroy(),this.nodes&&this.nodes.toolbox&&(this.nodes.toolbox.remove(),this.nodes.toolbox=null),this.removeAllShortcuts(),(t=this.popover)==null||t.off(es.Close,this.onPopoverClose)}toolButtonActivated(t,e){this.insertNewBlock(t,e)}open(){var t;this.isEmpty||((t=this.popover)==null||t.show(),this.opened=!0,this.emit("toolbox-opened"))}close(){var t;(t=this.popover)==null||t.hide(),this.opened=!1,this.emit("toolbox-closed")}toggle(){this.opened?this.close():this.open()}get toolsToBeDisplayed(){const t=[];return this.tools.forEach(e=>{e.toolbox&&t.push(e)}),t}get toolboxItemsToBeDisplayed(){const t=(e,n)=>({icon:e.icon,title:Ge.t(Et.toolNames,e.title||Oo(n.name)),name:n.name,onActivate:()=>{this.toolButtonActivated(n.name,e.data)},secondaryLabel:n.shortcut?Cf(n.shortcut):""});return this.toolsToBeDisplayed.reduce((e,n)=>(Array.isArray(n.toolbox)?n.toolbox.forEach(r=>{e.push(t(r,n))}):n.toolbox!==void 0&&e.push(t(n.toolbox,n)),e),[])}enableShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const e=t.shortcut;e&&this.enableShortcutForTool(t.name,e)})}enableShortcutForTool(t,e){Mo.add({name:e,on:this.api.ui.nodes.redactor,handler:n=>{n.preventDefault();const r=this.api.blocks.getCurrentBlockIndex(),o=this.api.blocks.getBlockByIndex(r);if(o)try{this.api.blocks.convert(o.id,t),window.requestAnimationFrame(()=>{this.api.caret.setToBlock(r,"end")});return}catch{}this.insertNewBlock(t)}})}removeAllShortcuts(){this.toolsToBeDisplayed.forEach(t=>{const e=t.shortcut;e&&Mo.remove(this.api.ui.nodes.redactor,e)})}async insertNewBlock(t,e){const n=this.api.blocks.getCurrentBlockIndex(),r=this.api.blocks.getBlockByIndex(n);if(!r)return;const o=r.isEmpty?n:n+1;let i;if(e){const a=await this.api.blocks.composeBlockData(t);i=Object.assign(a,e)}const s=this.api.blocks.insert(t,i,void 0,o,void 0,r.isEmpty);s.call(qt.APPEND_CALLBACK),this.api.caret.setToBlock(o),this.emit("toolbox-block-added",{block:s}),this.api.toolbar.close()}};let Pf=kw;ww([Wo],Pf.prototype,"toolsToBeDisplayed",1);ww([Wo],Pf.prototype,"toolboxItemsToBeDisplayed",1);const xw="block hovered";class OR extends Y{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.toolboxInstance=null,this.tooltip=new Bf}get CSS(){return{toolbar:"ce-toolbar",content:"ce-toolbar__content",actions:"ce-toolbar__actions",actionsOpened:"ce-toolbar__actions--opened",toolbarOpened:"ce-toolbar--opened",openedToolboxHolderModifier:"codex-editor--toolbox-opened",plusButton:"ce-toolbar__plus",plusButtonShortcut:"ce-toolbar__plus-shortcut",settingsToggler:"ce-toolbar__settings-btn",settingsTogglerHidden:"ce-toolbar__settings-btn--hidden"}}get opened(){return this.nodes.wrapper.classList.contains(this.CSS.toolbarOpened)}get toolbox(){var e;return{opened:(e=this.toolboxInstance)==null?void 0:e.opened,close:()=>{var n;(n=this.toolboxInstance)==null||n.close()},open:()=>{if(this.toolboxInstance===null){Z("toolbox.open() called before initialization is finished","warn");return}this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.toolboxInstance.open()},toggle:()=>{if(this.toolboxInstance===null){Z("toolbox.toggle() called before initialization is finished","warn");return}this.toolboxInstance.toggle()},hasFocus:()=>{var n;return(n=this.toolboxInstance)==null?void 0:n.hasFocus()}}}get blockActions(){return{hide:()=>{this.nodes.actions.classList.remove(this.CSS.actionsOpened)},show:()=>{this.nodes.actions.classList.add(this.CSS.actionsOpened)}}}get blockTunesToggler(){return{hide:()=>this.nodes.settingsToggler.classList.add(this.CSS.settingsTogglerHidden),show:()=>this.nodes.settingsToggler.classList.remove(this.CSS.settingsTogglerHidden)}}toggleReadOnly(e){e?(this.destroy(),this.Editor.BlockSettings.destroy(),this.disableModuleBindings()):window.requestIdleCallback(()=>{this.drawUI(),this.enableModuleBindings()},{timeout:2e3})}moveAndOpen(e=this.Editor.BlockManager.currentBlock){if(this.toolboxInstance===null){Z("Can't open Toolbar since Editor initialization is not finished yet","warn");return}if(this.toolboxInstance.opened&&this.toolboxInstance.close(),this.Editor.BlockSettings.opened&&this.Editor.BlockSettings.close(),!e)return;this.hoveredBlock=e;const n=e.holder,{isMobile:r}=this.Editor.UI,o=e.pluginsContent,i=window.getComputedStyle(o),s=parseInt(i.paddingTop,10),a=n.offsetHeight;let l;r?l=n.offsetTop+a:l=n.offsetTop+s,this.nodes.wrapper.style.top=`${Math.floor(l)}px`,this.Editor.BlockManager.blocks.length===1&&e.isEmpty?this.blockTunesToggler.hide():this.blockTunesToggler.show(),this.open()}close(){var e;this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.toolbarOpened),this.blockActions.hide(),(e=this.toolboxInstance)==null||e.close(),this.Editor.BlockSettings.close())}open(e=!0){Ro(()=>{this.nodes.wrapper.classList.add(this.CSS.toolbarOpened),e?this.blockActions.show():this.blockActions.hide()},50)()}make(){this.nodes.wrapper=I.make("div",this.CSS.toolbar),["content","actions"].forEach(n=>{this.nodes[n]=I.make("div",this.CSS[n])}),I.append(this.nodes.wrapper,this.nodes.content),I.append(this.nodes.content,this.nodes.actions),this.nodes.plusButton=I.make("div",this.CSS.plusButton,{innerHTML:xR}),I.append(this.nodes.actions,this.nodes.plusButton),this.readOnlyMutableListeners.on(this.nodes.plusButton,"click",()=>{this.tooltip.hide(!0),this.plusButtonClicked()},!1);const e=I.make("div");e.appendChild(document.createTextNode(Ge.ui(Et.ui.toolbar.toolbox,"Add"))),e.appendChild(I.make("div",this.CSS.plusButtonShortcut,{textContent:" Tab"})),this.tooltip.onHover(this.nodes.plusButton,e,{hidingDelay:400}),this.nodes.settingsToggler=I.make("span",this.CSS.settingsToggler,{innerHTML:kR}),I.append(this.nodes.actions,this.nodes.settingsToggler),this.tooltip.onHover(this.nodes.settingsToggler,Ge.ui(Et.ui.blockTunes.toggler,"Click to tune"),{hidingDelay:400}),I.append(this.nodes.actions,this.makeToolbox()),I.append(this.nodes.actions,this.Editor.BlockSettings.getElement()),I.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper)}makeToolbox(){return this.toolboxInstance=new Pf({api:this.Editor.API.methods,tools:this.Editor.Tools.blockTools,i18nLabels:{filter:Ge.ui(Et.ui.popover,"Filter"),nothingFound:Ge.ui(Et.ui.popover,"Nothing found")}}),this.toolboxInstance.on(ka.Opened,()=>{this.Editor.UI.nodes.wrapper.classList.add(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(ka.Closed,()=>{this.Editor.UI.nodes.wrapper.classList.remove(this.CSS.openedToolboxHolderModifier)}),this.toolboxInstance.on(ka.BlockAdded,({block:e})=>{const{BlockManager:n,Caret:r}=this.Editor,o=n.getBlockById(e.id);o.inputs.length===0&&(o===n.lastBlock?(n.insertAtEnd(),r.setToBlock(n.lastBlock)):r.setToBlock(n.nextBlock))}),this.toolboxInstance.make()}plusButtonClicked(){var e;this.Editor.BlockManager.currentBlock=this.hoveredBlock,(e=this.toolboxInstance)==null||e.toggle()}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.settingsToggler,"mousedown",e=>{var n;e.stopPropagation(),this.settingsTogglerClicked(),(n=this.toolboxInstance)!=null&&n.opened&&this.toolboxInstance.close(),this.tooltip.hide(!0)},!0),Sr()||this.eventsDispatcher.on(xw,e=>{var n;this.Editor.BlockSettings.opened||(n=this.toolboxInstance)!=null&&n.opened||this.moveAndOpen(e.block)})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}settingsTogglerClicked(){this.Editor.BlockManager.currentBlock=this.hoveredBlock,this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.BlockSettings.open(this.hoveredBlock)}drawUI(){this.Editor.BlockSettings.make(),this.make()}destroy(){this.removeAllNodes(),this.toolboxInstance&&this.toolboxInstance.destroy(),this.tooltip.destroy()}}var tc=(t=>(t[t.Block=0]="Block",t[t.Inline=1]="Inline",t[t.Tune=2]="Tune",t))(tc||{}),xa=(t=>(t.Shortcut="shortcut",t.Toolbox="toolbox",t.EnabledInlineTools="inlineToolbar",t.EnabledBlockTunes="tunes",t.Config="config",t))(xa||{}),Ew=(t=>(t.Shortcut="shortcut",t.SanitizeConfig="sanitize",t))(Ew||{}),Kr=(t=>(t.IsEnabledLineBreaks="enableLineBreaks",t.Toolbox="toolbox",t.ConversionConfig="conversionConfig",t.IsReadOnlySupported="isReadOnlySupported",t.PasteConfig="pasteConfig",t))(Kr||{}),Lf=(t=>(t.IsInline="isInline",t.Title="title",t))(Lf||{}),Sw=(t=>(t.IsTune="isTune",t))(Sw||{});class Nf{constructor({name:e,constructable:n,config:r,api:o,isDefault:i,isInternal:s=!1,defaultPlaceholder:a}){this.api=o,this.name=e,this.constructable=n,this.config=r,this.isDefault=i,this.isInternal=s,this.defaultPlaceholder=a}get settings(){const e=this.config.config||{};return this.isDefault&&!("placeholder"in e)&&this.defaultPlaceholder&&(e.placeholder=this.defaultPlaceholder),e}reset(){if(ie(this.constructable.reset))return this.constructable.reset()}prepare(){if(ie(this.constructable.prepare))return this.constructable.prepare({toolName:this.name,config:this.settings})}get shortcut(){const e=this.constructable.shortcut;return this.config.shortcut||e}get sanitizeConfig(){return this.constructable.sanitize||{}}isInline(){return this.type===1}isBlock(){return this.type===0}isTune(){return this.type===2}}class MR extends Y{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.CSS={inlineToolbar:"ce-inline-toolbar",inlineToolbarShowed:"ce-inline-toolbar--showed",inlineToolbarLeftOriented:"ce-inline-toolbar--left-oriented",inlineToolbarRightOriented:"ce-inline-toolbar--right-oriented",inlineToolbarShortcut:"ce-inline-toolbar__shortcut",buttonsWrapper:"ce-inline-toolbar__buttons",actionsWrapper:"ce-inline-toolbar__actions",inlineToolButton:"ce-inline-tool",inputField:"cdx-input",focusedButton:"ce-inline-tool--focused",conversionToggler:"ce-inline-toolbar__dropdown",conversionTogglerArrow:"ce-inline-toolbar__dropdown-arrow",conversionTogglerHidden:"ce-inline-toolbar__dropdown--hidden",conversionTogglerContent:"ce-inline-toolbar__dropdown-content",togglerAndButtonsWrapper:"ce-inline-toolbar__toggler-and-button-wrapper"},this.opened=!1,this.toolbarVerticalMargin=Sr()?20:6,this.buttonsList=null,this.width=0,this.flipper=null,this.tooltip=new Bf}toggleReadOnly(e){e?(this.destroy(),this.Editor.ConversionToolbar.destroy()):window.requestIdleCallback(()=>{this.make()},{timeout:2e3})}tryToShow(e=!1,n=!0){if(!this.allowedToShow()){e&&this.close();return}this.move(),this.open(n),this.Editor.Toolbar.close()}move(){const e=$.rect,n=this.Editor.UI.nodes.wrapper.getBoundingClientRect(),r={x:e.x-n.left,y:e.y+e.height-n.top+this.toolbarVerticalMargin};e.width&&(r.x+=Math.floor(e.width/2));const o=r.x-this.width/2,i=r.x+this.width/2;this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarLeftOriented,o<this.Editor.UI.contentRect.left),this.nodes.wrapper.classList.toggle(this.CSS.inlineToolbarRightOriented,i>this.Editor.UI.contentRect.right),this.nodes.wrapper.style.left=Math.floor(r.x)+"px",this.nodes.wrapper.style.top=Math.floor(r.y)+"px"}close(){this.opened&&(this.Editor.ReadOnly.isEnabled||(this.nodes.wrapper.classList.remove(this.CSS.inlineToolbarShowed),Array.from(this.toolsInstances.entries()).forEach(([e,n])=>{const r=this.getToolShortcut(e);r&&Mo.remove(this.Editor.UI.nodes.redactor,r),ie(n.clear)&&n.clear()}),this.opened=!1,this.flipper.deactivate(),this.Editor.ConversionToolbar.close()))}open(e=!0){if(this.opened)return;this.addToolsFiltered(),this.nodes.wrapper.classList.add(this.CSS.inlineToolbarShowed),this.buttonsList=this.nodes.buttons.querySelectorAll(`.${this.CSS.inlineToolButton}`),this.opened=!0,e&&this.Editor.ConversionToolbar.hasTools()?this.setConversionTogglerContent():this.nodes.conversionToggler.hidden=!0;let n=Array.from(this.buttonsList);n.unshift(this.nodes.conversionToggler),n=n.filter(r=>!r.hidden),this.flipper.activate(n)}containsNode(e){return this.nodes.wrapper.contains(e)}destroy(){this.flipper&&(this.flipper.deactivate(),this.flipper=null),this.removeAllNodes(),this.tooltip.destroy()}make(){this.nodes.wrapper=I.make("div",[this.CSS.inlineToolbar,...this.isRtl?[this.Editor.UI.CSS.editorRtlFix]:[]]),this.nodes.togglerAndButtonsWrapper=I.make("div",this.CSS.togglerAndButtonsWrapper),this.nodes.buttons=I.make("div",this.CSS.buttonsWrapper),this.nodes.actions=I.make("div",this.CSS.actionsWrapper),this.listeners.on(this.nodes.wrapper,"mousedown",e=>{e.target.closest(`.${this.CSS.actionsWrapper}`)||e.preventDefault()}),I.append(this.nodes.wrapper,[this.nodes.togglerAndButtonsWrapper,this.nodes.actions]),I.append(this.Editor.UI.nodes.wrapper,this.nodes.wrapper),this.addConversionToggler(),I.append(this.nodes.togglerAndButtonsWrapper,this.nodes.buttons),this.prepareConversionToolbar(),window.requestAnimationFrame(()=>{this.recalculateWidth()}),this.enableFlipper()}allowedToShow(){const e=["IMG","INPUT"],n=$.get(),r=$.text;if(!n||!n.anchorNode||n.isCollapsed||r.length<1)return!1;const o=I.isElement(n.anchorNode)?n.anchorNode:n.anchorNode.parentElement;if(n&&e.includes(o.tagName)||o.closest('[contenteditable="true"]')===null)return!1;const i=this.Editor.BlockManager.getBlock(n.anchorNode);return i?i.tool.inlineTools.size!==0:!1}recalculateWidth(){this.width=this.nodes.wrapper.offsetWidth}addConversionToggler(){this.nodes.conversionToggler=I.make("div",this.CSS.conversionToggler),this.nodes.conversionTogglerContent=I.make("div",this.CSS.conversionTogglerContent);const e=I.make("div",this.CSS.conversionTogglerArrow,{innerHTML:yw});this.nodes.conversionToggler.appendChild(this.nodes.conversionTogglerContent),this.nodes.conversionToggler.appendChild(e),this.nodes.togglerAndButtonsWrapper.appendChild(this.nodes.conversionToggler),this.listeners.on(this.nodes.conversionToggler,"click",()=>{this.Editor.ConversionToolbar.toggle(n=>{!n&&this.opened?this.flipper.activate():this.opened&&this.flipper.deactivate()})}),Sr()===!1&&this.tooltip.onHover(this.nodes.conversionToggler,Ge.ui(Et.ui.inlineToolbar.converter,"Convert to"),{placement:"top",hidingDelay:100})}async setConversionTogglerContent(){const{BlockManager:e}=this.Editor,{currentBlock:n}=e,r=n.name,o=n.tool.conversionConfig,i=o&&o.export;this.nodes.conversionToggler.hidden=!i,this.nodes.conversionToggler.classList.toggle(this.CSS.conversionTogglerHidden,!i);const s=await n.getActiveToolboxEntry()||{};this.nodes.conversionTogglerContent.innerHTML=s.icon||s.title||Oo(r)}prepareConversionToolbar(){const e=this.Editor.ConversionToolbar.make();I.append(this.nodes.wrapper,e)}addToolsFiltered(){const e=$.get(),n=this.Editor.BlockManager.getBlock(e.anchorNode);this.nodes.buttons.innerHTML="",this.nodes.actions.innerHTML="",this.toolsInstances=new Map,Array.from(n.tool.inlineTools.values()).forEach(r=>{this.addTool(r)}),this.recalculateWidth()}addTool(e){const n=e.create(),r=n.render();if(!r){Z("Render method must return an instance of Node","warn",e.name);return}if(r.dataset.tool=e.name,this.nodes.buttons.appendChild(r),this.toolsInstances.set(e.name,n),ie(n.renderActions)){const a=n.renderActions();this.nodes.actions.appendChild(a)}this.listeners.on(r,"click",a=>{this.toolClicked(n),a.preventDefault()});const o=this.getToolShortcut(e.name);if(o)try{this.enableShortcuts(n,o)}catch{}const i=I.make("div"),s=Ge.t(Et.toolNames,e.title||Oo(e.name));i.appendChild(I.text(s)),o&&i.appendChild(I.make("div",this.CSS.inlineToolbarShortcut,{textContent:Cf(o)})),Sr()===!1&&this.tooltip.onHover(r,i,{placement:"top",hidingDelay:100}),n.checkState($.get())}getToolShortcut(e){const{Tools:n}=this.Editor,r=n.inlineTools.get(e),o=n.internal.inlineTools;return Array.from(o.keys()).includes(e)?this.inlineTools[e][Ew.Shortcut]:r.shortcut}enableShortcuts(e,n){Mo.add({name:n,handler:r=>{const{currentBlock:o}=this.Editor.BlockManager;o&&o.tool.enabledInlineTools&&(r.preventDefault(),this.toolClicked(e))},on:this.Editor.UI.nodes.redactor})}toolClicked(e){const n=$.range;e.surround(n),this.checkToolsState(),e.renderActions!==void 0&&this.flipper.deactivate()}checkToolsState(){this.toolsInstances.forEach(e=>{e.checkState($.get())})}get inlineTools(){const e={};return Array.from(this.Editor.Tools.inlineTools.entries()).forEach(([n,r])=>{e[n]=r.create()}),e}enableFlipper(){this.flipper=new mn({focusedItemClass:this.CSS.focusedButton,allowedKeys:[z.ENTER,z.TAB]})}}class DR extends Y{keydown(e){switch(this.beforeKeydownProcessing(e),e.keyCode){case z.BACKSPACE:this.backspace(e);break;case z.DELETE:this.delete(e);break;case z.ENTER:this.enter(e);break;case z.DOWN:case z.RIGHT:this.arrowRightAndDown(e);break;case z.UP:case z.LEFT:this.arrowLeftAndUp(e);break;case z.TAB:this.tabPressed(e);break}}beforeKeydownProcessing(e){this.needToolbarClosing(e)&&lw(e.keyCode)&&(this.Editor.Toolbar.close(),this.Editor.ConversionToolbar.close(),e.ctrlKey||e.metaKey||e.altKey||e.shiftKey||(this.Editor.BlockManager.clearFocused(),this.Editor.BlockSelection.clearSelection(e)))}keyup(e){e.shiftKey||this.Editor.UI.checkEmptiness()}tabPressed(e){this.Editor.BlockSelection.clearSelection(e);const{BlockManager:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor,i=n.currentBlock;if(!i)return;const s=i.isEmpty,a=i.tool.isDefault&&s,l=!s&&o.opened,c=!s&&!$.isCollapsed&&r.opened;a?this.activateToolbox():!l&&!c&&this.activateBlockSettings()}dragOver(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!0}dragLeave(e){const n=this.Editor.BlockManager.getBlockByChildNode(e.target);n.dropTarget=!1}handleCommandC(e){const{BlockSelection:n}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e)}handleCommandX(e){const{BlockSelection:n,BlockManager:r,Caret:o}=this.Editor;n.anyBlockSelected&&n.copySelectedBlocks(e).then(()=>{const i=r.removeSelectedBlocks(),s=r.insertDefaultBlockAtIndex(i,!0);o.setToBlock(s,o.positions.START),n.clearSelection(e)})}enter(e){const{BlockManager:n,UI:r}=this.Editor;if(n.currentBlock.tool.isLineBreaksEnabled||r.someToolbarOpened&&r.someFlipperButtonFocused||e.shiftKey)return;let o=this.Editor.BlockManager.currentBlock;this.Editor.Caret.isAtStart&&!this.Editor.BlockManager.currentBlock.hasMedia?this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex):this.Editor.Caret.isAtEnd?o=this.Editor.BlockManager.insertDefaultBlockAtIndex(this.Editor.BlockManager.currentBlockIndex+1):o=this.Editor.BlockManager.split(),this.Editor.Caret.setToBlock(o),this.Editor.Toolbar.moveAndOpen(o),e.preventDefault()}backspace(e){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:o,previousBlock:i}=n;if(!(!$.isCollapsed||!r.isAtStart)){if(e.preventDefault(),this.Editor.Toolbar.close(),o.currentInput!==o.firstInput){r.navigatePrevious();return}if(i!==null){if(i.isEmpty){n.removeBlock(i);return}if(o.isEmpty){n.removeBlock(o);const s=n.currentBlock;r.setToBlock(s,r.positions.END);return}Kg(o,i)?this.mergeBlocks(i,o):r.setToBlock(i,r.positions.END)}}}delete(e){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:o,nextBlock:i}=n;if(!(!$.isCollapsed||!r.isAtEnd)){if(e.preventDefault(),this.Editor.Toolbar.close(),o.currentInput!==o.lastInput){r.navigateNext();return}if(i!==null){if(i.isEmpty){n.removeBlock(i);return}if(o.isEmpty){n.removeBlock(o),r.setToBlock(i,r.positions.START);return}Kg(o,i)?this.mergeBlocks(o,i):r.setToBlock(i,r.positions.START)}}}mergeBlocks(e,n){const{BlockManager:r,Caret:o,Toolbar:i}=this.Editor;o.createShadow(e.pluginsContent),r.mergeBlocks(e,n).then(()=>{window.requestAnimationFrame(()=>{o.restoreCaret(e.pluginsContent),e.pluginsContent.normalize(),i.close()})})}arrowRightAndDown(e){const n=mn.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===z.TAB);if(this.Editor.UI.someToolbarOpened&&n)return;this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const r=this.Editor.Caret.isAtEnd||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===z.DOWN&&r){this.Editor.CrossBlockSelection.toggleBlockSelectedState();return}(e.keyCode===z.DOWN||e.keyCode===z.RIGHT&&!this.isRtl?this.Editor.Caret.navigateNext():this.Editor.Caret.navigatePrevious())?e.preventDefault():Ro(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}arrowLeftAndUp(e){if(this.Editor.UI.someToolbarOpened){if(mn.usedKeys.includes(e.keyCode)&&(!e.shiftKey||e.keyCode===z.TAB))return;this.Editor.UI.closeAllToolbars()}this.Editor.BlockManager.clearFocused(),this.Editor.Toolbar.close();const n=this.Editor.Caret.isAtStart||this.Editor.BlockSelection.anyBlockSelected;if(e.shiftKey&&e.keyCode===z.UP&&n){this.Editor.CrossBlockSelection.toggleBlockSelectedState(!1);return}(e.keyCode===z.UP||e.keyCode===z.LEFT&&!this.isRtl?this.Editor.Caret.navigatePrevious():this.Editor.Caret.navigateNext())?e.preventDefault():Ro(()=>{this.Editor.BlockManager.currentBlock&&this.Editor.BlockManager.currentBlock.updateCurrentInput()},20)(),this.Editor.BlockSelection.clearSelection(e)}needToolbarClosing(e){const n=e.keyCode===z.ENTER&&this.Editor.Toolbar.toolbox.opened,r=e.keyCode===z.ENTER&&this.Editor.BlockSettings.opened,o=e.keyCode===z.ENTER&&this.Editor.InlineToolbar.opened,i=e.keyCode===z.ENTER&&this.Editor.ConversionToolbar.opened,s=e.keyCode===z.TAB;return!(e.shiftKey||s||n||r||o||i)}activateToolbox(){this.Editor.Toolbar.opened||this.Editor.Toolbar.moveAndOpen(),this.Editor.Toolbar.toolbox.open()}activateBlockSettings(){this.Editor.Toolbar.opened||(this.Editor.BlockManager.currentBlock.focused=!0,this.Editor.Toolbar.moveAndOpen()),this.Editor.BlockSettings.opened||this.Editor.BlockSettings.open()}}class iu{constructor(e){this.blocks=[],this.workingArea=e}get length(){return this.blocks.length}get array(){return this.blocks}get nodes(){return cw(this.workingArea.children)}static set(e,n,r){return isNaN(Number(n))?(Reflect.set(e,n,r),!0):(e.insert(+n,r),!0)}static get(e,n){return isNaN(Number(n))?Reflect.get(e,n):e.get(+n)}push(e){this.blocks.push(e),this.insertToDOM(e)}swap(e,n){const r=this.blocks[n];I.swap(this.blocks[e].holder,r.holder),this.blocks[n]=this.blocks[e],this.blocks[e]=r}move(e,n){const r=this.blocks.splice(n,1)[0],o=e-1,i=Math.max(0,o),s=this.blocks[i];e>0?this.insertToDOM(r,"afterend",s):this.insertToDOM(r,"beforebegin",s),this.blocks.splice(e,0,r);const a=this.composeBlockEvent("move",{fromIndex:n,toIndex:e});r.call(qt.MOVED,a)}insert(e,n,r=!1){if(!this.length){this.push(n);return}e>this.length&&(e=this.length),r&&(this.blocks[e].holder.remove(),this.blocks[e].call(qt.REMOVED));const o=r?1:0;if(this.blocks.splice(e,o,n),e>0){const i=this.blocks[e-1];this.insertToDOM(n,"afterend",i)}else{const i=this.blocks[e+1];i?this.insertToDOM(n,"beforebegin",i):this.insertToDOM(n)}}replace(e,n){if(this.blocks[e]===void 0)throw Error("Incorrect index");this.blocks[e].holder.replaceWith(n.holder),this.blocks[e]=n}insertMany(e,n){const r=new DocumentFragment;for(const o of e)r.appendChild(o.holder);if(this.length>0){if(n>0){const o=Math.min(n-1,this.length-1);this.blocks[o].holder.after(r)}else n===0&&this.workingArea.prepend(r);this.blocks.splice(n,0,...e)}else this.blocks.push(...e),this.workingArea.appendChild(r);e.forEach(o=>o.call(qt.RENDERED))}remove(e){isNaN(e)&&(e=this.length-1),this.blocks[e].holder.remove(),this.blocks[e].call(qt.REMOVED),this.blocks.splice(e,1)}removeAll(){this.workingArea.innerHTML="",this.blocks.forEach(e=>e.call(qt.REMOVED)),this.blocks.length=0}insertAfter(e,n){const r=this.blocks.indexOf(e);this.insert(r+1,n)}get(e){return this.blocks[e]}indexOf(e){return this.blocks.indexOf(e)}insertToDOM(e,n,r){n?r.holder.insertAdjacentElement(n,e.holder):this.workingArea.appendChild(e.holder),e.call(qt.RENDERED)}composeBlockEvent(e,n){return new CustomEvent(e,{detail:n})}}const Yg="block-removed",Xg="block-added",jR="block-moved",Jg="block-changed";class FR{constructor(){this.completed=Promise.resolve()}add(e){return new Promise((n,r)=>{this.completed=this.completed.then(e).then(n).catch(r)})}}class UR extends Y{constructor(){super(...arguments),this._currentBlockIndex=-1,this._blocks=null}get currentBlockIndex(){return this._currentBlockIndex}set currentBlockIndex(e){this._currentBlockIndex=e}get firstBlock(){return this._blocks[0]}get lastBlock(){return this._blocks[this._blocks.length-1]}get currentBlock(){return this._blocks[this.currentBlockIndex]}set currentBlock(e){this.currentBlockIndex=this.getBlockIndex(e)}get nextBlock(){return this.currentBlockIndex===this._blocks.length-1?null:this._blocks[this.currentBlockIndex+1]}get nextContentfulBlock(){return this.blocks.slice(this.currentBlockIndex+1).find(e=>!!e.inputs.length)}get previousContentfulBlock(){return this.blocks.slice(0,this.currentBlockIndex).reverse().find(e=>!!e.inputs.length)}get previousBlock(){return this.currentBlockIndex===0?null:this._blocks[this.currentBlockIndex-1]}get blocks(){return this._blocks.array}get isEditorEmpty(){return this.blocks.every(e=>e.isEmpty)}prepare(){const e=new iu(this.Editor.UI.nodes.redactor);this._blocks=new Proxy(e,{set:iu.set,get:iu.get}),this.listeners.on(document,"copy",n=>this.Editor.BlockEvents.handleCommandC(n))}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}composeBlock({tool:e,data:n={},id:r=void 0,tunes:o={}}){const i=this.Editor.ReadOnly.isEnabled,s=this.Editor.Tools.blockTools.get(e),a=new tn({id:r,data:n,tool:s,api:this.Editor.API,readOnly:i,tunesData:o},this.eventsDispatcher);return i||window.requestIdleCallback(()=>{this.bindBlockEvents(a)},{timeout:2e3}),a}insert({id:e=void 0,tool:n=this.config.defaultBlock,data:r={},index:o,needToFocus:i=!0,replace:s=!1,tunes:a={}}={}){let l=o;l===void 0&&(l=this.currentBlockIndex+(s?0:1));const c=this.composeBlock({id:e,tool:n,data:r,tunes:a});return s&&this.blockDidMutated(Yg,this.getBlockByIndex(l),{index:l}),this._blocks.insert(l,c,s),this.blockDidMutated(Xg,c,{index:l}),i?this.currentBlockIndex=l:l<=this.currentBlockIndex&&this.currentBlockIndex++,c}insertMany(e,n=0){this._blocks.insertMany(e,n)}async update(e,n){const r=await e.data,o=this.composeBlock({id:e.id,tool:e.name,data:Object.assign({},r,n),tunes:e.tunes}),i=this.getBlockIndex(e);return this._blocks.replace(i,o),this.blockDidMutated(Jg,o,{index:i}),o}replace(e,n,r){const o=this.getBlockIndex(e);this.insert({tool:n,data:r,index:o,replace:!0})}paste(e,n,r=!1){const o=this.insert({tool:e,replace:r});try{window.requestIdleCallback(()=>{o.call(qt.ON_PASTE,n)})}catch(i){Z(`${e}: onPaste callback call is failed`,"error",i)}return o}insertDefaultBlockAtIndex(e,n=!1){const r=this.composeBlock({tool:this.config.defaultBlock});return this._blocks[e]=r,this.blockDidMutated(Xg,r,{index:e}),n?this.currentBlockIndex=e:e<=this.currentBlockIndex&&this.currentBlockIndex++,r}insertAtEnd(){return this.currentBlockIndex=this.blocks.length-1,this.insert()}async mergeBlocks(e,n){const r=await n.data;_t(r)||await e.mergeWith(r),this.removeBlock(n),this.currentBlockIndex=this._blocks.indexOf(e)}removeBlock(e,n=!0){return new Promise(r=>{const o=this._blocks.indexOf(e);if(!this.validateIndex(o))throw new Error("Can't find a Block to remove");e.destroy(),this._blocks.remove(o),this.blockDidMutated(Yg,e,{index:o}),this.currentBlockIndex>=o&&this.currentBlockIndex--,this.blocks.length?o===0&&(this.currentBlockIndex=0):(this.currentBlockIndex=-1,n&&this.insert()),r()})}removeSelectedBlocks(){let e;for(let n=this.blocks.length-1;n>=0;n--)this.blocks[n].selected&&(this.removeBlock(this.blocks[n]),e=n);return e}removeAllBlocks(){for(let e=this.blocks.length-1;e>=0;e--)this._blocks.remove(e);this.currentBlockIndex=-1,this.insert(),this.currentBlock.firstInput.focus()}split(){const e=this.Editor.Caret.extractFragmentFromCaretPosition(),n=I.make("div");n.appendChild(e);const r={text:I.isEmpty(n)?"":n.innerHTML};return this.insert({data:r})}getBlockByIndex(e){return e===-1&&(e=this._blocks.length-1),this._blocks[e]}getBlockIndex(e){return this._blocks.indexOf(e)}getBlockById(e){return this._blocks.array.find(n=>n.id===e)}getBlock(e){I.isElement(e)||(e=e.parentNode);const n=this._blocks.nodes,r=e.closest(`.${tn.CSS.wrapper}`),o=n.indexOf(r);if(o>=0)return this._blocks[o]}highlightCurrentNode(){this.clearFocused(),this.currentBlock.focused=!0}clearFocused(){this.blocks.forEach(e=>{e.focused=!1})}setCurrentBlockByChildNode(e){I.isElement(e)||(e=e.parentNode);const n=e.closest(`.${tn.CSS.wrapper}`);if(!n)return;const r=n.closest(`.${this.Editor.UI.CSS.editorWrapper}`);if(r!=null&&r.isEqualNode(this.Editor.UI.nodes.wrapper))return this.currentBlockIndex=this._blocks.nodes.indexOf(n),this.currentBlock.updateCurrentInput(),this.currentBlock}getBlockByChildNode(e){I.isElement(e)||(e=e.parentNode);const n=e.closest(`.${tn.CSS.wrapper}`);return this.blocks.find(r=>r.holder===n)}swap(e,n){this._blocks.swap(e,n),this.currentBlockIndex=n}move(e,n=this.currentBlockIndex){if(isNaN(e)||isNaN(n)){Z("Warning during 'move' call: incorrect indices provided.","warn");return}if(!this.validateIndex(e)||!this.validateIndex(n)){Z("Warning during 'move' call: indices cannot be lower than 0 or greater than the amount of blocks.","warn");return}this._blocks.move(e,n),this.currentBlockIndex=e,this.blockDidMutated(jR,this.currentBlock,{fromIndex:n,toIndex:e})}async convert(e,n,r){if(!await e.save())throw new Error("Could not convert Block. Failed to extract original Block data.");const o=this.Editor.Tools.blockTools.get(n);if(!o)throw new Error(`Could not convert Block. Tool ${n} not found.`);const i=await e.exportDataAsString(),s=nn(i,o.sanitizeConfig);let a=VN(s,o.conversionConfig);r&&(a=Object.assign(a,r)),this.replace(e,o.name,a)}dropPointer(){this.currentBlockIndex=-1,this.clearFocused()}async clear(e=!1){const n=new FR;this.blocks.forEach(r=>{n.add(async()=>{await this.removeBlock(r,!1)})}),await n.completed,this.dropPointer(),e&&this.insert(),this.Editor.UI.checkEmptiness()}async destroy(){await Promise.all(this.blocks.map(e=>e.destroy()))}bindBlockEvents(e){const{BlockEvents:n}=this.Editor;this.readOnlyMutableListeners.on(e.holder,"keydown",r=>{n.keydown(r)}),this.readOnlyMutableListeners.on(e.holder,"keyup",r=>{n.keyup(r)}),this.readOnlyMutableListeners.on(e.holder,"dragover",r=>{n.dragOver(r)}),this.readOnlyMutableListeners.on(e.holder,"dragleave",r=>{n.dragLeave(r)}),e.on("didMutated",r=>this.blockDidMutated(Jg,r,{index:this.getBlockIndex(r)}))}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}enableModuleBindings(){this.readOnlyMutableListeners.on(document,"cut",e=>this.Editor.BlockEvents.handleCommandX(e)),this.blocks.forEach(e=>{this.bindBlockEvents(e)})}validateIndex(e){return!(e<0||e>=this._blocks.length)}blockDidMutated(e,n,r){const o=new CustomEvent(e,{detail:{target:new mr(n),...r}});return this.eventsDispatcher.emit(fw,{event:o}),n}}class $R extends Y{constructor(){super(...arguments),this.anyBlockSelectedCache=null,this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1}get sanitizerConfig(){return{p:{},h1:{},h2:{},h3:{},h4:{},h5:{},h6:{},ol:{},ul:{},li:{},br:!0,img:{src:!0,width:!0,height:!0},a:{href:!0},b:{},i:{},u:{}}}get allBlocksSelected(){const{BlockManager:e}=this.Editor;return e.blocks.every(n=>n.selected===!0)}set allBlocksSelected(e){const{BlockManager:n}=this.Editor;n.blocks.forEach(r=>{r.selected=e}),this.clearCache()}get anyBlockSelected(){const{BlockManager:e}=this.Editor;return this.anyBlockSelectedCache===null&&(this.anyBlockSelectedCache=e.blocks.some(n=>n.selected===!0)),this.anyBlockSelectedCache}get selectedBlocks(){return this.Editor.BlockManager.blocks.filter(e=>e.selected)}prepare(){this.selection=new $,Mo.add({name:"CMD+A",handler:e=>{const{BlockManager:n,ReadOnly:r}=this.Editor;if(r.isEnabled){e.preventDefault(),this.selectAllBlocks();return}n.currentBlock&&this.handleCommandA(e)},on:this.Editor.UI.nodes.redactor})}toggleReadOnly(){$.get().removeAllRanges(),this.allBlocksSelected=!1}unSelectBlockByIndex(e){const{BlockManager:n}=this.Editor;let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),r.selected=!1,this.clearCache()}clearSelection(e,n=!1){const{BlockManager:r,Caret:o,RectangleSelection:i}=this.Editor;this.needToSelectAll=!1,this.nativeInputSelected=!1,this.readyToBlockSelection=!1;const s=e&&e instanceof KeyboardEvent,a=s&&lw(e.keyCode);if(this.anyBlockSelected&&s&&a&&!$.isSelectionExists){const l=r.removeSelectedBlocks();r.insertDefaultBlockAtIndex(l,!0),o.setToBlock(r.currentBlock),Ro(()=>{const c=e.key;o.insertContentAtCaretPosition(c.length>1?"":c)},20)()}if(this.Editor.CrossBlockSelection.clear(e),!this.anyBlockSelected||i.isRectActivated()){this.Editor.RectangleSelection.clearSelection();return}n&&this.selection.restore(),this.allBlocksSelected=!1}copySelectedBlocks(e){e.preventDefault();const n=I.make("div");this.selectedBlocks.forEach(i=>{const s=nn(i.holder.innerHTML,this.sanitizerConfig),a=I.make("p");a.innerHTML=s,n.appendChild(a)});const r=Array.from(n.childNodes).map(i=>i.textContent).join(`

`),o=n.innerHTML;return e.clipboardData.setData("text/plain",r),e.clipboardData.setData("text/html",o),Promise.all(this.selectedBlocks.map(i=>i.save())).then(i=>{try{e.clipboardData.setData(this.Editor.Paste.MIME_TYPE,JSON.stringify(i))}catch{}})}selectBlockByIndex(e){const{BlockManager:n}=this.Editor;n.clearFocused();let r;isNaN(e)?r=n.currentBlock:r=n.getBlockByIndex(e),this.selection.save(),$.get().removeAllRanges(),r.selected=!0,this.clearCache(),this.Editor.InlineToolbar.close()}clearCache(){this.anyBlockSelectedCache=null}destroy(){Mo.remove(this.Editor.UI.nodes.redactor,"CMD+A")}handleCommandA(e){if(this.Editor.RectangleSelection.clearSelection(),I.isNativeInput(e.target)&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}const n=this.Editor.BlockManager.getBlock(e.target).inputs;if(n.length>1&&!this.readyToBlockSelection){this.readyToBlockSelection=!0;return}if(n.length===1&&!this.needToSelectAll){this.needToSelectAll=!0;return}this.needToSelectAll?(e.preventDefault(),this.selectAllBlocks(),this.needToSelectAll=!1,this.readyToBlockSelection=!1,this.Editor.ConversionToolbar.close()):this.readyToBlockSelection&&(e.preventDefault(),this.selectBlockByIndex(),this.needToSelectAll=!0)}selectAllBlocks(){this.selection.save(),$.get().removeAllRanges(),this.allBlocksSelected=!0,this.Editor.InlineToolbar.close()}}class ml extends Y{get positions(){return{START:"start",END:"end",DEFAULT:"default"}}static get CSS(){return{shadowCaret:"cdx-shadow-caret"}}get isAtStart(){const e=$.get(),n=I.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput);let r=e.focusNode;if(I.isNativeInput(n))return n.selectionEnd===0;if(!e.anchorNode)return!1;let o=r.textContent.search(/\S/);o===-1&&(o=0);let i=e.focusOffset;return r.nodeType!==Node.TEXT_NODE&&r.childNodes.length&&(r.childNodes[i]?(r=r.childNodes[i],i=0):(r=r.childNodes[i-1],i=r.textContent.length)),(I.isLineBreakTag(n)||I.isEmpty(n))&&this.getHigherLevelSiblings(r,"left").every(s=>{const a=I.isLineBreakTag(s),l=s.children.length===1&&I.isLineBreakTag(s.children[0]),c=a||l;return I.isEmpty(s)&&!c})&&i===o?!0:n===null||r===n&&i<=o}get isAtEnd(){const e=$.get();let n=e.focusNode;const r=I.getDeepestNode(this.Editor.BlockManager.currentBlock.currentInput,!0);if(I.isNativeInput(r))return r.selectionEnd===r.value.length;if(!e.focusNode)return!1;let o=e.focusOffset;if(n.nodeType!==Node.TEXT_NODE&&n.childNodes.length&&(n.childNodes[o-1]?(n=n.childNodes[o-1],o=n.textContent.length):(n=n.childNodes[0],o=0)),I.isLineBreakTag(r)||I.isEmpty(r)){const s=this.getHigherLevelSiblings(n,"right");if(s.every((a,l)=>l===s.length-1&&I.isLineBreakTag(a)||I.isEmpty(a)&&!I.isLineBreakTag(a))&&o===n.textContent.length)return!0}const i=r.textContent.replace(/\s+$/,"");return n===r&&o>=i.length}setToBlock(e,n=this.positions.DEFAULT,r=0){const{BlockManager:o}=this.Editor;let i;switch(n){case this.positions.START:i=e.firstInput;break;case this.positions.END:i=e.lastInput;break;default:i=e.currentInput}if(!i)return;const s=I.getDeepestNode(i,n===this.positions.END),a=I.getContentLength(s);switch(!0){case n===this.positions.START:r=0;break;case n===this.positions.END:case r>a:r=a;break}Ro(()=>{this.set(s,r)},20)(),o.setCurrentBlockByChildNode(e.holder),o.currentBlock.currentInput=i}setToInput(e,n=this.positions.DEFAULT,r=0){const{currentBlock:o}=this.Editor.BlockManager,i=I.getDeepestNode(e);switch(n){case this.positions.START:this.set(i,0);break;case this.positions.END:this.set(i,I.getContentLength(i));break;default:r&&this.set(i,r)}o.currentInput=e}set(e,n=0){const{top:r,bottom:o}=$.setCursor(e,n),{innerHeight:i}=window;r<0&&window.scrollBy(0,r),o>i&&window.scrollBy(0,o-i)}setToTheLastBlock(){const e=this.Editor.BlockManager.lastBlock;if(e)if(e.tool.isDefault&&e.isEmpty)this.setToBlock(e);else{const n=this.Editor.BlockManager.insertAtEnd();this.setToBlock(n)}}extractFragmentFromCaretPosition(){const e=$.get();if(e.rangeCount){const n=e.getRangeAt(0),r=this.Editor.BlockManager.currentBlock.currentInput;if(n.deleteContents(),r)if(I.isNativeInput(r)){const o=r,i=document.createDocumentFragment(),s=o.value.substring(0,o.selectionStart),a=o.value.substring(o.selectionStart);return i.textContent=a,o.value=s,i}else{const o=n.cloneRange();return o.selectNodeContents(r),o.setStart(n.endContainer,n.endOffset),o.extractContents()}}}navigateNext(){const{BlockManager:e}=this.Editor,{currentBlock:n,nextContentfulBlock:r}=e,{nextInput:o}=n,i=this.isAtEnd;let s=r;if(!s&&!o){if(n.tool.isDefault||!i)return!1;s=e.insertAtEnd()}return i?(o?this.setToInput(o,this.positions.START):this.setToBlock(s,this.positions.START),!0):!1}navigatePrevious(){const{currentBlock:e,previousContentfulBlock:n}=this.Editor.BlockManager;if(!e)return!1;const{previousInput:r}=e;return!n&&!r?!1:this.isAtStart?(r?this.setToInput(r,this.positions.END):this.setToBlock(n,this.positions.END),!0):!1}createShadow(e){const n=document.createElement("span");n.classList.add(ml.CSS.shadowCaret),e.insertAdjacentElement("beforeend",n)}restoreCaret(e){const n=e.querySelector(`.${ml.CSS.shadowCaret}`);if(!n)return;new $().expandToTag(n);const r=document.createRange();r.selectNode(n),r.extractContents()}insertContentAtCaretPosition(e){const n=document.createDocumentFragment(),r=document.createElement("div"),o=$.get(),i=$.range;r.innerHTML=e,Array.from(r.childNodes).forEach(c=>n.appendChild(c)),n.childNodes.length===0&&n.appendChild(new Text);const s=n.lastChild;i.deleteContents(),i.insertNode(n);const a=document.createRange(),l=s.nodeType===Node.TEXT_NODE?s:s.firstChild;l!==null&&l.textContent!==null&&a.setStart(l,l.textContent.length),o.removeAllRanges(),o.addRange(a)}getHigherLevelSiblings(e,n){let r=e;const o=[];for(;r.parentNode&&r.parentNode.contentEditable!=="true";)r=r.parentNode;const i=n==="left"?"previousSibling":"nextSibling";for(;r[i];)r=r[i],o.push(r);return o}}class VR extends Y{constructor(){super(...arguments),this.onMouseUp=()=>{this.listeners.off(document,"mouseover",this.onMouseOver),this.listeners.off(document,"mouseup",this.onMouseUp)},this.onMouseOver=e=>{const{BlockManager:n,BlockSelection:r}=this.Editor,o=n.getBlockByChildNode(e.relatedTarget)||this.lastSelectedBlock,i=n.getBlockByChildNode(e.target);if(!(!o||!i)&&i!==o){if(o===this.firstSelectedBlock){$.get().removeAllRanges(),o.selected=!0,i.selected=!0,r.clearCache();return}if(i===this.firstSelectedBlock){o.selected=!1,i.selected=!1,r.clearCache();return}this.Editor.InlineToolbar.close(),this.toggleBlocksSelectedState(o,i),this.lastSelectedBlock=i}}}async prepare(){this.listeners.on(document,"mousedown",e=>{this.enableCrossBlockSelection(e)})}watchSelection(e){if(e.button!==EN.LEFT)return;const{BlockManager:n}=this.Editor;this.firstSelectedBlock=n.getBlock(e.target),this.lastSelectedBlock=this.firstSelectedBlock,this.listeners.on(document,"mouseover",this.onMouseOver),this.listeners.on(document,"mouseup",this.onMouseUp)}get isCrossBlockSelectionStarted(){return!!this.firstSelectedBlock&&!!this.lastSelectedBlock}toggleBlockSelectedState(e=!0){const{BlockManager:n,BlockSelection:r}=this.Editor;this.lastSelectedBlock||(this.lastSelectedBlock=this.firstSelectedBlock=n.currentBlock),this.firstSelectedBlock===this.lastSelectedBlock&&(this.firstSelectedBlock.selected=!0,r.clearCache(),$.get().removeAllRanges());const o=n.blocks.indexOf(this.lastSelectedBlock)+(e?1:-1),i=n.blocks[o];i&&(this.lastSelectedBlock.selected!==i.selected?(i.selected=!0,r.clearCache()):(this.lastSelectedBlock.selected=!1,r.clearCache()),this.lastSelectedBlock=i,this.Editor.InlineToolbar.close(),i.holder.scrollIntoView({block:"nearest"}))}clear(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor,i=n.blocks.indexOf(this.firstSelectedBlock),s=n.blocks.indexOf(this.lastSelectedBlock);if(r.anyBlockSelected&&i>-1&&s>-1)if(e&&e instanceof KeyboardEvent)switch(e.keyCode){case z.DOWN:case z.RIGHT:o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END);break;case z.UP:case z.LEFT:o.setToBlock(n.blocks[Math.min(i,s)],o.positions.START);break;default:o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END)}else o.setToBlock(n.blocks[Math.max(i,s)],o.positions.END);this.firstSelectedBlock=this.lastSelectedBlock=null}enableCrossBlockSelection(e){const{UI:n}=this.Editor;$.isCollapsed||this.Editor.BlockSelection.clearSelection(e),n.nodes.redactor.contains(e.target)?this.watchSelection(e):this.Editor.BlockSelection.clearSelection(e)}toggleBlocksSelectedState(e,n){const{BlockManager:r,BlockSelection:o}=this.Editor,i=r.blocks.indexOf(e),s=r.blocks.indexOf(n),a=e.selected!==n.selected;for(let l=Math.min(i,s);l<=Math.max(i,s);l++){const c=r.blocks[l];c!==this.firstSelectedBlock&&c!==(a?e:n)&&(r.blocks[l].selected=!r.blocks[l].selected,o.clearCache())}}}class HR extends Y{constructor(){super(...arguments),this.isStartedAtEditor=!1}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}enableModuleBindings(){const{UI:e}=this.Editor;this.readOnlyMutableListeners.on(e.nodes.holder,"drop",async n=>{await this.processDrop(n)},!0),this.readOnlyMutableListeners.on(e.nodes.holder,"dragstart",()=>{this.processDragStart()}),this.readOnlyMutableListeners.on(e.nodes.holder,"dragover",n=>{this.processDragOver(n)},!0)}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}async processDrop(e){const{BlockManager:n,Caret:r,Paste:o}=this.Editor;e.preventDefault(),n.blocks.forEach(s=>{s.dropTarget=!1}),$.isAtEditor&&!$.isCollapsed&&this.isStartedAtEditor&&document.execCommand("delete"),this.isStartedAtEditor=!1;const i=n.setCurrentBlockByChildNode(e.target);if(i)this.Editor.Caret.setToBlock(i,r.positions.END);else{const s=n.setCurrentBlockByChildNode(n.lastBlock.holder);this.Editor.Caret.setToBlock(s,r.positions.END)}await o.processDataTransfer(e.dataTransfer,!0)}processDragStart(){$.isAtEditor&&!$.isCollapsed&&(this.isStartedAtEditor=!0),this.Editor.InlineToolbar.close()}processDragOver(e){e.preventDefault()}}class zR extends Y{constructor({config:e,eventsDispatcher:n}){super({config:e,eventsDispatcher:n}),this.disabled=!1,this.batchingTimeout=null,this.batchingOnChangeQueue=new Map,this.batchTime=400,this.mutationObserver=new MutationObserver(r=>{this.redactorChanged(r)}),this.eventsDispatcher.on(fw,r=>{this.particularBlockChanged(r.event)}),this.eventsDispatcher.on(pw,()=>{this.disable()}),this.eventsDispatcher.on(mw,()=>{this.enable()})}enable(){this.mutationObserver.observe(this.Editor.UI.nodes.redactor,{childList:!0,subtree:!0,characterData:!0,attributes:!0}),this.disabled=!1}disable(){this.mutationObserver.disconnect(),this.disabled=!0}particularBlockChanged(e){this.disabled||!ie(this.config.onChange)||(this.batchingOnChangeQueue.set(`block:${e.detail.target.id}:event:${e.type}`,e),this.batchingTimeout&&clearTimeout(this.batchingTimeout),this.batchingTimeout=setTimeout(()=>{let n;this.batchingOnChangeQueue.size===1?n=this.batchingOnChangeQueue.values().next().value:n=Array.from(this.batchingOnChangeQueue.values()),this.config.onChange&&this.config.onChange(this.Editor.API.methods,n),this.batchingOnChangeQueue.clear()},this.batchTime))}redactorChanged(e){this.eventsDispatcher.emit(Od,{mutations:e})}}const Cw=class extends Y{constructor(){super(...arguments),this.MIME_TYPE="application/x-editor-js",this.toolsTags={},this.tagsByTool={},this.toolsPatterns=[],this.toolsFiles={},this.exceptionList=[],this.processTool=t=>{try{const e=t.create({},{},!1);if(t.pasteConfig===!1){this.exceptionList.push(t.name);return}if(!ie(e.onPaste))return;this.getTagsConfig(t),this.getFilesConfig(t),this.getPatternsConfig(t)}catch(e){Z(`Paste handling for ${t.name} Tool hasn't been set up because of the error`,"warn",e)}},this.handlePasteEvent=async t=>{const{BlockManager:e,Toolbar:n}=this.Editor,r=e.setCurrentBlockByChildNode(t.target);!r||this.isNativeBehaviour(t.target)&&!t.clipboardData.types.includes("Files")||r&&this.exceptionList.includes(r.name)||(t.preventDefault(),this.processDataTransfer(t.clipboardData),e.clearFocused(),n.close())}}async prepare(){this.processTools()}toggleReadOnly(t){t?this.unsetCallback():this.setCallback()}async processDataTransfer(t,e=!1){const{Tools:n}=this.Editor,r=t.types;if((r.includes?r.includes("Files"):r.contains("Files"))&&!_t(this.toolsFiles)){await this.processFiles(t.files);return}const o=t.getData(this.MIME_TYPE),i=t.getData("text/plain");let s=t.getData("text/html");if(o)try{this.insertEditorJSData(JSON.parse(o));return}catch{}e&&i.trim()&&s.trim()&&(s="<p>"+(s.trim()?s:i)+"</p>");const a=Object.keys(this.toolsTags).reduce((u,d)=>(u[d.toLowerCase()]=this.toolsTags[d].sanitizationConfig??{},u),{}),l=Object.assign({},a,n.getAllInlineToolsSanitizeConfig(),{br:{}}),c=nn(s,l);!c.trim()||c.trim()===i||!I.isHTMLString(c)?await this.processText(i):await this.processText(c,!0)}async processText(t,e=!1){const{Caret:n,BlockManager:r}=this.Editor,o=e?this.processHTML(t):this.processPlain(t);if(!o.length)return;if(o.length===1){o[0].isBlock?this.processSingleBlock(o.pop()):this.processInlinePaste(o.pop());return}const i=r.currentBlock&&r.currentBlock.tool.isDefault&&r.currentBlock.isEmpty;o.map(async(s,a)=>this.insertBlock(s,a===0&&i)),r.currentBlock&&n.setToBlock(r.currentBlock,n.positions.END)}setCallback(){this.listeners.on(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}unsetCallback(){this.listeners.off(this.Editor.UI.nodes.holder,"paste",this.handlePasteEvent)}processTools(){const t=this.Editor.Tools.blockTools;Array.from(t.values()).forEach(this.processTool)}collectTagNames(t){return Qn(t)?[t]:Ae(t)?Object.keys(t):[]}getTagsConfig(t){if(t.pasteConfig===!1)return;const e=t.pasteConfig.tags||[],n=[];e.forEach(r=>{const o=this.collectTagNames(r);n.push(...o),o.forEach(i=>{if(Object.prototype.hasOwnProperty.call(this.toolsTags,i)){Z(`Paste handler for ${t.name} Tool on ${i} tag is skipped because it is already used by ${this.toolsTags[i].tool.name} Tool.`,"warn");return}const s=Ae(r)?r[i]:null;this.toolsTags[i.toUpperCase()]={tool:t,sanitizationConfig:s}})}),this.tagsByTool[t.name]=n.map(r=>r.toUpperCase())}getFilesConfig(t){if(t.pasteConfig===!1)return;const{files:e={}}=t.pasteConfig;let{extensions:n,mimeTypes:r}=e;!n&&!r||(n&&!Array.isArray(n)&&(Z(`extensions property of the onDrop config for ${t.name} Tool should be an array`),n=[]),r&&!Array.isArray(r)&&(Z(`mimeTypes property of the onDrop config for ${t.name} Tool should be an array`),r=[]),r&&(r=r.filter(o=>IN(o)?!0:(Z(`MIME type value ${o} for the ${t.name} Tool is not a valid MIME type`,"warn"),!1))),this.toolsFiles[t.name]={extensions:n||[],mimeTypes:r||[]})}getPatternsConfig(t){t.pasteConfig===!1||!t.pasteConfig.patterns||_t(t.pasteConfig.patterns)||Object.entries(t.pasteConfig.patterns).forEach(([e,n])=>{n instanceof RegExp||Z(`Pattern ${n} for ${t.name} Tool is skipped because it should be a Regexp instance.`,"warn"),this.toolsPatterns.push({key:e,pattern:n,tool:t})})}isNativeBehaviour(t){return I.isNativeInput(t)}async processFiles(t){const{BlockManager:e}=this.Editor;let n;n=await Promise.all(Array.from(t).map(o=>this.processFile(o))),n=n.filter(o=>!!o);const r=e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty;n.forEach((o,i)=>{e.paste(o.type,o.event,i===0&&r)})}async processFile(t){const e=_N(t),n=Object.entries(this.toolsFiles).find(([o,{mimeTypes:i,extensions:s}])=>{const[a,l]=t.type.split("/"),c=s.find(d=>d.toLowerCase()===e.toLowerCase()),u=i.find(d=>{const[h,f]=d.split("/");return h===a&&(f===l||f==="*")});return!!c||!!u});if(!n)return;const[r]=n;return{event:this.composePasteEvent("file",{file:t}),type:r}}processHTML(t){const{Tools:e}=this.Editor,n=I.make("DIV");return n.innerHTML=t,this.getNodes(n).map(r=>{let o,i=e.defaultTool,s=!1;switch(r.nodeType){case Node.DOCUMENT_FRAGMENT_NODE:o=I.make("div"),o.appendChild(r);break;case Node.ELEMENT_NODE:o=r,s=!0,this.toolsTags[o.tagName]&&(i=this.toolsTags[o.tagName].tool);break}const{tags:a}=i.pasteConfig||{tags:[]},l=a.reduce((d,h)=>(this.collectTagNames(h).forEach(f=>{const m=Ae(h)?h[f]:null;d[f.toLowerCase()]=m||{}}),d),{}),c=Object.assign({},l,i.baseSanitizeConfig);if(o.tagName.toLowerCase()==="table"){const d=nn(o.outerHTML,c);o=I.make("div",void 0,{innerHTML:d}).firstChild}else o.innerHTML=nn(o.innerHTML,c);const u=this.composePasteEvent("tag",{data:o});return{content:o,isBlock:s,tool:i.name,event:u}}).filter(r=>{const o=I.isEmpty(r.content),i=I.isSingleTag(r.content);return!o||i})}processPlain(t){const{defaultBlock:e}=this.config;if(!t)return[];const n=e;return t.split(/\r?\n/).filter(r=>r.trim()).map(r=>{const o=I.make("div");o.textContent=r;const i=this.composePasteEvent("tag",{data:o});return{content:o,tool:n,isBlock:!1,event:i}})}async processSingleBlock(t){const{Caret:e,BlockManager:n}=this.Editor,{currentBlock:r}=n;if(!r||t.tool!==r.name||!I.containsOnlyInlineElements(t.content.innerHTML)){this.insertBlock(t,(r==null?void 0:r.tool.isDefault)&&r.isEmpty);return}e.insertContentAtCaretPosition(t.content.innerHTML)}async processInlinePaste(t){const{BlockManager:e,Caret:n}=this.Editor,{content:r}=t;if(e.currentBlock&&e.currentBlock.tool.isDefault&&r.textContent.length<Cw.PATTERN_PROCESSING_MAX_LENGTH){const o=await this.processPattern(r.textContent);if(o){const i=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty,s=e.paste(o.tool,o.event,i);n.setToBlock(s,n.positions.END);return}}if(e.currentBlock&&e.currentBlock.currentInput){const o=e.currentBlock.tool.baseSanitizeConfig;document.execCommand("insertHTML",!1,nn(r.innerHTML,o))}else this.insertBlock(t)}async processPattern(t){const e=this.toolsPatterns.find(n=>{const r=n.pattern.exec(t);return r?t===r.shift():!1});return e?{event:this.composePasteEvent("pattern",{key:e.key,data:t}),tool:e.tool.name}:void 0}insertBlock(t,e=!1){const{BlockManager:n,Caret:r}=this.Editor,{currentBlock:o}=n;let i;if(e&&o&&o.isEmpty){i=n.paste(t.tool,t.event,!0),r.setToBlock(i,r.positions.END);return}i=n.paste(t.tool,t.event),r.setToBlock(i,r.positions.END)}insertEditorJSData(t){const{BlockManager:e,Caret:n,Tools:r}=this.Editor;gw(t,o=>r.blockTools.get(o).sanitizeConfig).forEach(({tool:o,data:i},s)=>{let a=!1;s===0&&(a=e.currentBlock&&e.currentBlock.tool.isDefault&&e.currentBlock.isEmpty);const l=e.insert({tool:o,data:i,replace:a});n.setToBlock(l,n.positions.END)})}processElementNode(t,e,n){const r=Object.keys(this.toolsTags),o=t,{tool:i}=this.toolsTags[o.tagName]||{},s=this.tagsByTool[i==null?void 0:i.name]||[],a=r.includes(o.tagName),l=I.blockElements.includes(o.tagName.toLowerCase()),c=Array.from(o.children).some(({tagName:d})=>r.includes(d)&&!s.includes(d)),u=Array.from(o.children).some(({tagName:d})=>I.blockElements.includes(d.toLowerCase()));if(!l&&!a&&!c)return n.appendChild(o),[...e,n];if(a&&!c||l&&!u&&!c)return[...e,n,o]}getNodes(t){const e=Array.from(t.childNodes);let n;const r=(o,i)=>{if(I.isEmpty(i)&&!I.isSingleTag(i))return o;const s=o[o.length-1];let a=new DocumentFragment;switch(s&&I.isFragment(s)&&(a=o.pop()),i.nodeType){case Node.ELEMENT_NODE:if(n=this.processElementNode(i,o,a),n)return n;break;case Node.TEXT_NODE:return a.appendChild(i),[...o,a];default:return[...o,a]}return[...o,...Array.from(i.childNodes).reduce(r,[])]};return e.reduce(r,[])}composePasteEvent(t,e){return new CustomEvent(t,{detail:e})}};let Tw=Cw;Tw.PATTERN_PROCESSING_MAX_LENGTH=450;class WR extends Y{constructor(){super(...arguments),this.toolsDontSupportReadOnly=[],this.readOnlyEnabled=!1}get isEnabled(){return this.readOnlyEnabled}async prepare(){const{Tools:e}=this.Editor,{blockTools:n}=e,r=[];Array.from(n.entries()).forEach(([o,i])=>{i.isReadOnlySupported||r.push(o)}),this.toolsDontSupportReadOnly=r,this.config.readOnly&&r.length>0&&this.throwCriticalError(),this.toggle(this.config.readOnly)}async toggle(e=!this.readOnlyEnabled){e&&this.toolsDontSupportReadOnly.length>0&&this.throwCriticalError();const n=this.readOnlyEnabled;this.readOnlyEnabled=e;for(const o in this.Editor)this.Editor[o].toggleReadOnly&&this.Editor[o].toggleReadOnly(e);if(n===e)return this.readOnlyEnabled;const r=await this.Editor.Saver.save();return await this.Editor.BlockManager.clear(),await this.Editor.Renderer.render(r.blocks),this.readOnlyEnabled}throwCriticalError(){throw new hw(`To enable read-only mode all connected tools should support it. Tools ${this.toolsDontSupportReadOnly.join(", ")} don't support read-only mode.`)}}class Ti extends Y{constructor(){super(...arguments),this.isRectSelectionActivated=!1,this.SCROLL_SPEED=3,this.HEIGHT_OF_SCROLL_ZONE=40,this.BOTTOM_SCROLL_ZONE=1,this.TOP_SCROLL_ZONE=2,this.MAIN_MOUSE_BUTTON=0,this.mousedown=!1,this.isScrolling=!1,this.inScrollZone=null,this.startX=0,this.startY=0,this.mouseX=0,this.mouseY=0,this.stackOfSelected=[],this.listenerIds=[]}static get CSS(){return{overlay:"codex-editor-overlay",overlayContainer:"codex-editor-overlay__container",rect:"codex-editor-overlay__rectangle",topScrollZone:"codex-editor-overlay__scroll-zone--top",bottomScrollZone:"codex-editor-overlay__scroll-zone--bottom"}}prepare(){this.enableModuleBindings()}startSelection(e,n){const r=document.elementFromPoint(e-window.pageXOffset,n-window.pageYOffset);r.closest(`.${this.Editor.Toolbar.CSS.toolbar}`)||(this.Editor.BlockSelection.allBlocksSelected=!1,this.clearSelection(),this.stackOfSelected=[]);const o=[`.${tn.CSS.content}`,`.${this.Editor.Toolbar.CSS.toolbar}`,`.${this.Editor.InlineToolbar.CSS.inlineToolbar}`],i=r.closest("."+this.Editor.UI.CSS.editorWrapper),s=o.some(a=>!!r.closest(a));!i||s||(this.mousedown=!0,this.startX=e,this.startY=n)}endSelection(){this.mousedown=!1,this.startX=0,this.startY=0,this.overlayRectangle.style.display="none"}isRectActivated(){return this.isRectSelectionActivated}clearSelection(){this.isRectSelectionActivated=!1}enableModuleBindings(){const{container:e}=this.genHTML();this.listeners.on(e,"mousedown",n=>{this.processMouseDown(n)},!1),this.listeners.on(document.body,"mousemove",Ld(n=>{this.processMouseMove(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseleave",()=>{this.processMouseLeave()}),this.listeners.on(window,"scroll",Ld(n=>{this.processScroll(n)},10),{passive:!0}),this.listeners.on(document.body,"mouseup",()=>{this.processMouseUp()},!1)}processMouseDown(e){e.button===this.MAIN_MOUSE_BUTTON&&(e.target.closest(I.allInputsSelector)!==null||this.startSelection(e.pageX,e.pageY))}processMouseMove(e){this.changingRectangle(e),this.scrollByZones(e.clientY)}processMouseLeave(){this.clearSelection(),this.endSelection()}processScroll(e){this.changingRectangle(e)}processMouseUp(){this.clearSelection(),this.endSelection()}scrollByZones(e){if(this.inScrollZone=null,e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.TOP_SCROLL_ZONE),document.documentElement.clientHeight-e<=this.HEIGHT_OF_SCROLL_ZONE&&(this.inScrollZone=this.BOTTOM_SCROLL_ZONE),!this.inScrollZone){this.isScrolling=!1;return}this.isScrolling||(this.scrollVertical(this.inScrollZone===this.TOP_SCROLL_ZONE?-this.SCROLL_SPEED:this.SCROLL_SPEED),this.isScrolling=!0)}genHTML(){const{UI:e}=this.Editor,n=e.nodes.holder.querySelector("."+e.CSS.editorWrapper),r=I.make("div",Ti.CSS.overlay,{}),o=I.make("div",Ti.CSS.overlayContainer,{}),i=I.make("div",Ti.CSS.rect,{});return o.appendChild(i),r.appendChild(o),n.appendChild(r),this.overlayRectangle=i,{container:n,overlay:r}}scrollVertical(e){if(!(this.inScrollZone&&this.mousedown))return;const n=window.pageYOffset;window.scrollBy(0,e),this.mouseY+=window.pageYOffset-n,setTimeout(()=>{this.scrollVertical(e)},0)}changingRectangle(e){if(!this.mousedown)return;e.pageY!==void 0&&(this.mouseX=e.pageX,this.mouseY=e.pageY);const{rightPos:n,leftPos:r,index:o}=this.genInfoForMouseSelection(),i=this.startX>n&&this.mouseX>n,s=this.startX<r&&this.mouseX<r;this.rectCrossesBlocks=!(i||s),this.isRectSelectionActivated||(this.rectCrossesBlocks=!1,this.isRectSelectionActivated=!0,this.shrinkRectangleToPoint(),this.overlayRectangle.style.display="block"),this.updateRectangleSize(),this.Editor.Toolbar.close(),o!==void 0&&(this.trySelectNextBlock(o),this.inverseSelection(),$.get().removeAllRanges())}shrinkRectangleToPoint(){this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`}inverseSelection(){const e=this.Editor.BlockManager.getBlockByIndex(this.stackOfSelected[0]).selected;if(this.rectCrossesBlocks&&!e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.selectBlockByIndex(n);if(!this.rectCrossesBlocks&&e)for(const n of this.stackOfSelected)this.Editor.BlockSelection.unSelectBlockByIndex(n)}updateRectangleSize(){this.mouseY>=this.startY?(this.overlayRectangle.style.top=`${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.bottom=`calc(100% - ${this.mouseY-window.pageYOffset}px`):(this.overlayRectangle.style.bottom=`calc(100% - ${this.startY-window.pageYOffset}px`,this.overlayRectangle.style.top=`${this.mouseY-window.pageYOffset}px`),this.mouseX>=this.startX?(this.overlayRectangle.style.left=`${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.right=`calc(100% - ${this.mouseX-window.pageXOffset}px`):(this.overlayRectangle.style.right=`calc(100% - ${this.startX-window.pageXOffset}px`,this.overlayRectangle.style.left=`${this.mouseX-window.pageXOffset}px`)}genInfoForMouseSelection(){const e=document.body.offsetWidth/2,n=this.mouseY-window.pageYOffset,r=document.elementFromPoint(e,n),o=this.Editor.BlockManager.getBlockByChildNode(r);let i;o!==void 0&&(i=this.Editor.BlockManager.blocks.findIndex(u=>u.holder===o.holder));const s=this.Editor.BlockManager.lastBlock.holder.querySelector("."+tn.CSS.content),a=Number.parseInt(window.getComputedStyle(s).width,10)/2,l=e-a,c=e+a;return{index:i,leftPos:l,rightPos:c}}addBlockInSelection(e){this.rectCrossesBlocks&&this.Editor.BlockSelection.selectBlockByIndex(e),this.stackOfSelected.push(e)}trySelectNextBlock(e){const n=this.stackOfSelected[this.stackOfSelected.length-1]===e,r=this.stackOfSelected.length,o=1,i=-1,s=0;if(n)return;const a=this.stackOfSelected[r-1]-this.stackOfSelected[r-2]>0;let l=s;r>1&&(l=a?o:i);const c=e>this.stackOfSelected[r-1]&&l===o,u=e<this.stackOfSelected[r-1]&&l===i,d=!(c||u||l===s);if(!d&&(e>this.stackOfSelected[r-1]||this.stackOfSelected[r-1]===void 0)){let m=this.stackOfSelected[r-1]+1||e;for(m;m<=e;m++)this.addBlockInSelection(m);return}if(!d&&e<this.stackOfSelected[r-1]){for(let m=this.stackOfSelected[r-1]-1;m>=e;m--)this.addBlockInSelection(m);return}if(!d)return;let h=r-1,f;for(e>this.stackOfSelected[r-1]?f=()=>e>this.stackOfSelected[h]:f=()=>e<this.stackOfSelected[h];f();)this.rectCrossesBlocks&&this.Editor.BlockSelection.unSelectBlockByIndex(this.stackOfSelected[h]),this.stackOfSelected.pop(),h--}}class KR extends Y{async render(e){return new Promise(n=>{const{Tools:r,BlockManager:o}=this.Editor,i=e.map(({type:s,data:a,tunes:l,id:c})=>{r.available.has(s)===!1&&(xt(`Tool ${s} is not found. Check 'tools' property at the Editor.js config.`,"warn"),a=this.composeStubDataForTool(s,a,c),s=r.stubTool);let u;try{u=o.composeBlock({id:c,tool:s,data:a,tunes:l})}catch(d){Z(`Block ${s} skipped because of plugins error`,"error",{data:a,error:d}),a=this.composeStubDataForTool(s,a,c),s=r.stubTool,u=o.composeBlock({id:c,tool:s,data:a,tunes:l})}return u});o.insertMany(i),window.requestIdleCallback(()=>{n()},{timeout:2e3})})}composeStubDataForTool(e,n,r){const{Tools:o}=this.Editor;let i=e;if(o.unavailable.has(e)){const s=o.unavailable.get(e).toolbox;s!==void 0&&s[0].title!==void 0&&(i=s[0].title)}return{savedData:{id:r,type:e,data:n},title:i}}}class GR extends Y{async save(){const{BlockManager:e,Tools:n}=this.Editor,r=e.blocks,o=[];try{r.forEach(a=>{o.push(this.getSavedData(a))});const i=await Promise.all(o),s=await gw(i,a=>n.blockTools.get(a).sanitizeConfig);return this.makeOutput(s)}catch(i){xt("Saving failed due to the Error %o","error",i)}}async getSavedData(e){const n=await e.save(),r=n&&await e.validate(n.data);return{...n,isValid:r}}makeOutput(e){const n=[];return e.forEach(({id:r,tool:o,data:i,tunes:s,isValid:a})=>{if(!a){Z(`Block ${o} skipped because saved data is invalid`);return}if(o===this.Editor.Tools.stubTool){n.push(i);return}const l={id:r,type:o,data:i,...!_t(s)&&{tunes:s}};n.push(l)}),{time:+new Date,blocks:n,version:"2.28.2"}}}var Ud={},qR={get exports(){return Ud},set exports(t){Ud=t}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=4)}([function(n,r,o){var i=o(1),s=o(2);typeof(s=s.__esModule?s.default:s)=="string"&&(s=[[n.i,s,""]]);var a={insert:"head",singleton:!1};i(s,a),n.exports=s.locals||{}},function(n,r,o){var i,s=function(){return i===void 0&&(i=!!(window&&document&&document.all&&!window.atob)),i},a=function(){var v={};return function(w){if(v[w]===void 0){var x=document.querySelector(w);if(window.HTMLIFrameElement&&x instanceof window.HTMLIFrameElement)try{x=x.contentDocument.head}catch{x=null}v[w]=x}return v[w]}}(),l=[];function c(v){for(var w=-1,x=0;x<l.length;x++)if(l[x].identifier===v){w=x;break}return w}function u(v,w){for(var x={},C=[],_=0;_<v.length;_++){var S=v[_],T=w.base?S[0]+w.base:S[0],L=x[T]||0,B="".concat(T," ").concat(L);x[T]=L+1;var P=c(B),R={css:S[1],media:S[2],sourceMap:S[3]};P!==-1?(l[P].references++,l[P].updater(R)):l.push({identifier:B,updater:p(R,w),references:1}),C.push(B)}return C}function d(v){var w=document.createElement("style"),x=v.attributes||{};if(x.nonce===void 0){var C=o.nc;C&&(x.nonce=C)}if(Object.keys(x).forEach(function(S){w.setAttribute(S,x[S])}),typeof v.insert=="function")v.insert(w);else{var _=a(v.insert||"head");if(!_)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");_.appendChild(w)}return w}var h,f=(h=[],function(v,w){return h[v]=w,h.filter(Boolean).join(`
`)});function m(v,w,x,C){var _=x?"":C.media?"@media ".concat(C.media," {").concat(C.css,"}"):C.css;if(v.styleSheet)v.styleSheet.cssText=f(w,_);else{var S=document.createTextNode(_),T=v.childNodes;T[w]&&v.removeChild(T[w]),T.length?v.insertBefore(S,T[w]):v.appendChild(S)}}function g(v,w,x){var C=x.css,_=x.media,S=x.sourceMap;if(_?v.setAttribute("media",_):v.removeAttribute("media"),S&&btoa&&(C+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(S))))," */")),v.styleSheet)v.styleSheet.cssText=C;else{for(;v.firstChild;)v.removeChild(v.firstChild);v.appendChild(document.createTextNode(C))}}var k=null,y=0;function p(v,w){var x,C,_;if(w.singleton){var S=y++;x=k||(k=d(w)),C=m.bind(null,x,S,!1),_=m.bind(null,x,S,!0)}else x=d(w),C=g.bind(null,x,w),_=function(){(function(T){if(T.parentNode===null)return!1;T.parentNode.removeChild(T)})(x)};return C(v),function(T){if(T){if(T.css===v.css&&T.media===v.media&&T.sourceMap===v.sourceMap)return;C(v=T)}else _()}}n.exports=function(v,w){(w=w||{}).singleton||typeof w.singleton=="boolean"||(w.singleton=s());var x=u(v=v||[],w);return function(C){if(C=C||[],Object.prototype.toString.call(C)==="[object Array]"){for(var _=0;_<x.length;_++){var S=c(x[_]);l[S].references--}for(var T=u(C,w),L=0;L<x.length;L++){var B=c(x[L]);l[B].references===0&&(l[B].updater(),l.splice(B,1))}x=T}}}},function(n,r,o){(r=o(3)(!1)).push([n.i,`.ce-paragraph {
    line-height: 1.6em;
    outline: none;
}

.ce-paragraph[data-placeholder]:empty::before{
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  opacity: 0;
}

/** Show placeholder at the first paragraph if Editor is empty */
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before {
  opacity: 1;
}

.codex-editor--toolbox-opened .ce-block:first-child .ce-paragraph[data-placeholder]:empty::before,
.codex-editor--empty .ce-block:first-child .ce-paragraph[data-placeholder]:empty:focus::before {
  opacity: 0;
}

.ce-paragraph p:first-of-type{
    margin-top: 0;
}

.ce-paragraph p:last-of-type{
    margin-bottom: 0;
}
`,""]),n.exports=r},function(n,r,o){n.exports=function(i){var s=[];return s.toString=function(){return this.map(function(a){var l=function(c,u){var d=c[1]||"",h=c[3];if(!h)return d;if(u&&typeof btoa=="function"){var f=(g=h,k=btoa(unescape(encodeURIComponent(JSON.stringify(g)))),y="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(k),"/*# ".concat(y," */")),m=h.sources.map(function(p){return"/*# sourceURL=".concat(h.sourceRoot||"").concat(p," */")});return[d].concat(m).concat([f]).join(`
`)}var g,k,y;return[d].join(`
`)}(a,i);return a[2]?"@media ".concat(a[2]," {").concat(l,"}"):l}).join("")},s.i=function(a,l,c){typeof a=="string"&&(a=[[null,a,""]]);var u={};if(c)for(var d=0;d<this.length;d++){var h=this[d][0];h!=null&&(u[h]=!0)}for(var f=0;f<a.length;f++){var m=[].concat(a[f]);c&&u[m[0]]||(l&&(m[2]?m[2]="".concat(l," and ").concat(m[2]):m[2]=l),s.push(m))}},s}},function(n,r,o){o.r(r),o.d(r,"default",function(){return a}),o(0);function i(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}function s(l,c,u){return c&&i(l.prototype,c),u&&i(l,u),l}/**
 * Base Paragraph Block for the Editor.js.
 * Represents a regular text block
 *
 * @author CodeX (team@codex.so)
 * @copyright CodeX 2018
 * @license The MIT License (MIT)
 */var a=function(){function l(c){var u=c.data,d=c.config,h=c.api,f=c.readOnly;(function(m,g){if(!(m instanceof g))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=h,this.readOnly=f,this._CSS={block:this.api.styles.block,wrapper:"ce-paragraph"},this.readOnly||(this.onKeyUp=this.onKeyUp.bind(this)),this._placeholder=d.placeholder?d.placeholder:l.DEFAULT_PLACEHOLDER,this._data={},this._element=null,this._preserveBlank=d.preserveBlank!==void 0&&d.preserveBlank,this.data=u}return s(l,null,[{key:"DEFAULT_PLACEHOLDER",get:function(){return""}}]),s(l,[{key:"onKeyUp",value:function(c){c.code!=="Backspace"&&c.code!=="Delete"||this._element.textContent===""&&(this._element.innerHTML="")}},{key:"drawView",value:function(){var c=document.createElement("DIV");return c.classList.add(this._CSS.wrapper,this._CSS.block),c.contentEditable=!1,c.dataset.placeholder=this.api.i18n.t(this._placeholder),this.readOnly||(c.contentEditable=!0,c.addEventListener("keyup",this.onKeyUp)),c}},{key:"render",value:function(){return this._element===null&&(this._element=this.drawView()),this.hydrate(),this._element}},{key:"merge",value:function(c){var u={text:this.data.text+c.text};this.data=u}},{key:"validate",value:function(c){return!(c.text.trim()===""&&!this._preserveBlank)}},{key:"save",value:function(c){return{text:c.innerHTML}}},{key:"onPaste",value:function(c){var u={text:c.detail.data.innerHTML};this.data=u}},{key:"hydrate",value:function(){var c=this;window.requestAnimationFrame(function(){c._element.innerHTML=c._data.text||""})}},{key:"data",get:function(){if(this._element!==null){var c=this._element.innerHTML;this._data.text=c}return this._data},set:function(c){this._data=c||{},this._element!==null&&this.hydrate()}}],[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{text:{br:!0}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["P"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M8 9V7.2C8 7.08954 8.08954 7 8.2 7L12 7M16 9V7.2C16 7.08954 15.9105 7 15.8 7L12 7M12 7L12 17M12 17H10M12 17H14"/></svg>',title:"Text"}}}]),l}()}]).default})})(qR);const YR=Zl(Ud);class Rf{constructor(){this.commandName="bold",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--bold"},this.nodes={button:void 0}}static get sanitize(){return{b:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=gR,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+B"}}Rf.isInline=!0;Rf.title="Bold";class Of{constructor(){this.commandName="italic",this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--italic"},this.nodes={button:null}}static get sanitize(){return{i:{}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=wR,this.nodes.button}surround(){document.execCommand(this.commandName)}checkState(){const e=document.queryCommandState(this.commandName);return this.nodes.button.classList.toggle(this.CSS.buttonActive,e),e}get shortcut(){return"CMD+I"}}Of.isInline=!0;Of.title="Italic";class Mf{constructor({api:e}){this.commandLink="createLink",this.commandUnlink="unlink",this.ENTER_KEY=13,this.CSS={button:"ce-inline-tool",buttonActive:"ce-inline-tool--active",buttonModifier:"ce-inline-tool--link",buttonUnlink:"ce-inline-tool--unlink",input:"ce-inline-tool-input",inputShowed:"ce-inline-tool-input--showed"},this.nodes={button:null,input:null},this.inputOpened=!1,this.toolbar=e.toolbar,this.inlineToolbar=e.inlineToolbar,this.notifier=e.notifier,this.i18n=e.i18n,this.selection=new $}static get sanitize(){return{a:{href:!0,target:"_blank",rel:"nofollow"}}}render(){return this.nodes.button=document.createElement("button"),this.nodes.button.type="button",this.nodes.button.classList.add(this.CSS.button,this.CSS.buttonModifier),this.nodes.button.innerHTML=Gg,this.nodes.button}renderActions(){return this.nodes.input=document.createElement("input"),this.nodes.input.placeholder=this.i18n.t("Add a link"),this.nodes.input.classList.add(this.CSS.input),this.nodes.input.addEventListener("keydown",e=>{e.keyCode===this.ENTER_KEY&&this.enterPressed(e)}),this.nodes.input}surround(e){if(e){this.inputOpened?(this.selection.restore(),this.selection.removeFakeBackground()):(this.selection.setFakeBackground(),this.selection.save());const n=this.selection.findParentTag("A");if(n){this.selection.expandToTag(n),this.unlink(),this.closeActions(),this.checkState(),this.toolbar.close();return}}this.toggleActions()}checkState(){const e=this.selection.findParentTag("A");if(e){this.nodes.button.innerHTML=SR,this.nodes.button.classList.add(this.CSS.buttonUnlink),this.nodes.button.classList.add(this.CSS.buttonActive),this.openActions();const n=e.getAttribute("href");this.nodes.input.value=n!=="null"?n:"",this.selection.save()}else this.nodes.button.innerHTML=Gg,this.nodes.button.classList.remove(this.CSS.buttonUnlink),this.nodes.button.classList.remove(this.CSS.buttonActive);return!!e}clear(){this.closeActions()}get shortcut(){return"CMD+K"}toggleActions(){this.inputOpened?this.closeActions(!1):this.openActions(!0)}openActions(e=!1){this.nodes.input.classList.add(this.CSS.inputShowed),e&&this.nodes.input.focus(),this.inputOpened=!0}closeActions(e=!0){if(this.selection.isFakeBackgroundEnabled){const n=new $;n.save(),this.selection.restore(),this.selection.removeFakeBackground(),n.restore()}this.nodes.input.classList.remove(this.CSS.inputShowed),this.nodes.input.value="",e&&this.selection.clearSaved(),this.inputOpened=!1}enterPressed(e){let n=this.nodes.input.value||"";if(!n.trim()){this.selection.restore(),this.unlink(),e.preventDefault(),this.closeActions();return}if(!this.validateURL(n)){this.notifier.show({message:"Pasted link is not valid.",style:"error"}),Z("Incorrect Link pasted","warn",n);return}n=this.prepareLink(n),this.selection.restore(),this.selection.removeFakeBackground(),this.insertLink(n),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation(),this.selection.collapseToEnd(),this.inlineToolbar.close()}validateURL(e){return!/\s/.test(e)}prepareLink(e){return e=e.trim(),e=this.addProtocol(e),e}addProtocol(e){if(/^(\w+):(\/\/)?/.test(e))return e;const n=/^\/[^/\s]/.test(e),r=e.substring(0,1)==="#",o=/^\/\/[^/\s]/.test(e);return!n&&!r&&!o&&(e="http://"+e),e}insertLink(e){const n=this.selection.findParentTag("A");n&&this.selection.expandToTag(n),document.execCommand(this.commandLink,!1,e)}unlink(){document.execCommand(this.commandUnlink)}}Mf.isInline=!0;Mf.title="Link";class _w{constructor({data:e,api:n}){this.CSS={wrapper:"ce-stub",info:"ce-stub__info",title:"ce-stub__title",subtitle:"ce-stub__subtitle"},this.api=n,this.title=e.title||this.api.i18n.t("Error"),this.subtitle=this.api.i18n.t("The block can not be displayed correctly."),this.savedData=e.savedData,this.wrapper=this.make()}render(){return this.wrapper}save(){return this.savedData}make(){const e=I.make("div",this.CSS.wrapper),n=CR,r=I.make("div",this.CSS.info),o=I.make("div",this.CSS.title,{textContent:this.title}),i=I.make("div",this.CSS.subtitle,{textContent:this.subtitle});return e.innerHTML=n,r.appendChild(o),r.appendChild(i),e.appendChild(r),e}}_w.isReadOnlySupported=!0;class XR extends Nf{constructor(){super(...arguments),this.type=tc.Inline}get title(){return this.constructable[Lf.Title]}create(){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings})}}class JR extends Nf{constructor(){super(...arguments),this.type=tc.Tune}create(e,n){return new this.constructable({api:this.api.getMethodsForTool(this),config:this.settings,block:n,data:e})}}let Nt=class Gr extends Map{get blockTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isBlock());return new Gr(e)}get inlineTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInline());return new Gr(e)}get blockTunes(){const e=Array.from(this.entries()).filter(([,n])=>n.isTune());return new Gr(e)}get internalTools(){const e=Array.from(this.entries()).filter(([,n])=>n.isInternal);return new Gr(e)}get externalTools(){const e=Array.from(this.entries()).filter(([,n])=>!n.isInternal);return new Gr(e)}};var QR=Object.defineProperty,ZR=Object.getOwnPropertyDescriptor,Iw=(t,e,n,r)=>{for(var o=r>1?void 0:r?ZR(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&QR(e,n,o),o};class Df extends Nf{constructor(){super(...arguments),this.type=tc.Block,this.inlineTools=new Nt,this.tunes=new Nt}create(e,n,r){return new this.constructable({data:e,block:n,readOnly:r,api:this.api.getMethodsForTool(this),config:this.settings})}get isReadOnlySupported(){return this.constructable[Kr.IsReadOnlySupported]===!0}get isLineBreaksEnabled(){return this.constructable[Kr.IsEnabledLineBreaks]}get toolbox(){const e=this.constructable[Kr.Toolbox],n=this.config[xa.Toolbox];if(!_t(e)&&n!==!1)return n?Array.isArray(e)?Array.isArray(n)?n.map((r,o)=>{const i=e[o];return i?{...i,...r}:r}):[n]:Array.isArray(n)?n:[{...e,...n}]:Array.isArray(e)?e:[e]}get conversionConfig(){return this.constructable[Kr.ConversionConfig]}get enabledInlineTools(){return this.config[xa.EnabledInlineTools]||!1}get enabledBlockTunes(){return this.config[xa.EnabledBlockTunes]}get pasteConfig(){return this.constructable[Kr.PasteConfig]??{}}get sanitizeConfig(){const e=super.sanitizeConfig,n=this.baseSanitizeConfig;if(_t(e))return n;const r={};for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){const i=e[o];Ae(i)?r[o]=Object.assign({},n,i):r[o]=i}return r}get baseSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),Array.from(this.tunes.values()).forEach(n=>Object.assign(e,n.sanitizeConfig)),e}}Iw([Wo],Df.prototype,"sanitizeConfig",1);Iw([Wo],Df.prototype,"baseSanitizeConfig",1);class eO{constructor(e,n,r){this.api=r,this.config=e,this.editorConfig=n}get(e){const{class:n,isInternal:r=!1,...o}=this.config[e],i=this.getConstructor(n);return new i({name:e,constructable:n,config:o,api:this.api,isDefault:e===this.editorConfig.defaultBlock,defaultPlaceholder:this.editorConfig.placeholder,isInternal:r})}getConstructor(e){switch(!0){case e[Lf.IsInline]:return XR;case e[Sw.IsTune]:return JR;default:return Df}}}class Bw{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:yw,title:this.api.i18n.t("Move down"),onActivate:()=>this.handleClick(),name:"move-down"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e+1);if(!n)throw new Error("Unable to move Block down since it is already the last");const r=n.holder,o=r.getBoundingClientRect();let i=Math.abs(window.innerHeight-r.offsetHeight);o.top<window.innerHeight&&(i=window.scrollY+r.offsetHeight),window.scrollTo(0,i),this.api.blocks.move(e+1),this.api.toolbar.toggleBlockSettings(!0)}}Bw.isTune=!0;class Aw{constructor({api:e}){this.api=e}render(){return{icon:yR,title:this.api.i18n.t("Delete"),name:"delete",confirmation:{title:this.api.i18n.t("Click to delete"),onActivate:()=>this.handleClick()}}}handleClick(){this.api.blocks.delete()}}Aw.isTune=!0;class Pw{constructor({api:e}){this.CSS={animation:"wobble"},this.api=e}render(){return{icon:vR,title:this.api.i18n.t("Move up"),onActivate:()=>this.handleClick(),name:"move-up"}}handleClick(){const e=this.api.blocks.getCurrentBlockIndex(),n=this.api.blocks.getBlockByIndex(e),r=this.api.blocks.getBlockByIndex(e-1);if(e===0||!n||!r)throw new Error("Unable to move Block up since it is already the first");const o=n.holder,i=r.holder,s=o.getBoundingClientRect(),a=i.getBoundingClientRect();let l;a.top>0?l=Math.abs(s.top)-Math.abs(a.top):l=Math.abs(s.top)+a.height,window.scrollBy(0,-1*l),this.api.blocks.move(e-1),this.api.toolbar.toggleBlockSettings(!0)}}Pw.isTune=!0;var tO=Object.defineProperty,nO=Object.getOwnPropertyDescriptor,rO=(t,e,n,r)=>{for(var o=r>1?void 0:r?nO(e,n):e,i=t.length-1,s;i>=0;i--)(s=t[i])&&(o=(r?s(e,n,o):s(o))||o);return r&&o&&tO(e,n,o),o};class Lw extends Y{constructor(){super(...arguments),this.stubTool="stub",this.toolsAvailable=new Nt,this.toolsUnavailable=new Nt}get available(){return this.toolsAvailable}get unavailable(){return this.toolsUnavailable}get inlineTools(){return this.available.inlineTools}get blockTools(){return this.available.blockTools}get blockTunes(){return this.available.blockTunes}get defaultTool(){return this.blockTools.get(this.config.defaultBlock)}get internal(){return this.available.internalTools}async prepare(){if(this.validateTools(),this.config.tools=Nd({},this.internalTools,this.config.tools),!Object.prototype.hasOwnProperty.call(this.config,"tools")||Object.keys(this.config.tools).length===0)throw Error("Can't start without tools");const e=this.prepareConfig();this.factory=new eO(e,this.config,this.Editor.API);const n=this.getListOfPrepareFunctions(e);if(n.length===0)return Promise.resolve();await TN(n,r=>{this.toolPrepareMethodSuccess(r)},r=>{this.toolPrepareMethodFallback(r)}),this.prepareBlockTools()}getAllInlineToolsSanitizeConfig(){const e={};return Array.from(this.inlineTools.values()).forEach(n=>{Object.assign(e,n.sanitizeConfig)}),e}destroy(){Object.values(this.available).forEach(async e=>{ie(e.reset)&&await e.reset()})}get internalTools(){return{bold:{class:Rf,isInternal:!0},italic:{class:Of,isInternal:!0},link:{class:Mf,isInternal:!0},paragraph:{class:YR,inlineToolbar:!0,isInternal:!0},stub:{class:_w,isInternal:!0},moveUp:{class:Pw,isInternal:!0},delete:{class:Aw,isInternal:!0},moveDown:{class:Bw,isInternal:!0}}}toolPrepareMethodSuccess(e){const n=this.factory.get(e.toolName);if(n.isInline()){const r=["render","surround","checkState"].filter(o=>!n.create()[o]);if(r.length){Z(`Incorrect Inline Tool: ${n.name}. Some of required methods is not implemented %o`,"warn",r),this.toolsUnavailable.set(n.name,n);return}}this.toolsAvailable.set(n.name,n)}toolPrepareMethodFallback(e){this.toolsUnavailable.set(e.toolName,this.factory.get(e.toolName))}getListOfPrepareFunctions(e){const n=[];return Object.entries(e).forEach(([r,o])=>{n.push({function:ie(o.class.prepare)?o.class.prepare:()=>{},data:{toolName:r,config:o.config}})}),n}prepareBlockTools(){Array.from(this.blockTools.values()).forEach(e=>{this.assignInlineToolsToBlockTool(e),this.assignBlockTunesToBlockTool(e)})}assignInlineToolsToBlockTool(e){if(this.config.inlineToolbar!==!1){if(e.enabledInlineTools===!0){e.inlineTools=new Nt(Array.isArray(this.config.inlineToolbar)?this.config.inlineToolbar.map(n=>[n,this.inlineTools.get(n)]):Array.from(this.inlineTools.entries()));return}Array.isArray(e.enabledInlineTools)&&(e.inlineTools=new Nt(e.enabledInlineTools.map(n=>[n,this.inlineTools.get(n)])))}}assignBlockTunesToBlockTool(e){if(e.enabledBlockTunes!==!1){if(Array.isArray(e.enabledBlockTunes)){const n=new Nt(e.enabledBlockTunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new Nt([...n,...this.blockTunes.internalTools]);return}if(Array.isArray(this.config.tunes)){const n=new Nt(this.config.tunes.map(r=>[r,this.blockTunes.get(r)]));e.tunes=new Nt([...n,...this.blockTunes.internalTools]);return}e.tunes=this.blockTunes.internalTools}}validateTools(){for(const e in this.config.tools)if(Object.prototype.hasOwnProperty.call(this.config.tools,e)){if(e in this.internalTools)return;const n=this.config.tools[e];if(!ie(n)&&!ie(n.class))throw Error(`Tool ${e} must be a constructor function or an object with function in the class property`)}}prepareConfig(){const e={};for(const n in this.config.tools)Ae(this.config.tools[n])?e[n]=this.config.tools[n]:e[n]={class:this.config.tools[n]};return e}}rO([Wo],Lw.prototype,"getAllInlineToolsSanitizeConfig",1);const oO=`:root{--selectionColor: #e1f2ff;--inlineSelectionColor: #d4ecff;--bg-light: #eff2f5;--grayText: #707684;--color-dark: #1D202B;--color-active-icon: #388AE5;--color-gray-border: rgba(201, 201, 204, .48);--content-width: 650px;--narrow-mode-right-padding: 50px;--toolbox-buttons-size: 26px;--toolbox-buttons-size--mobile: 36px;--icon-size: 20px;--icon-size--mobile: 28px;--block-padding-vertical: .4em;--color-line-gray: #EFF0F1 }.codex-editor{position:relative;-webkit-box-sizing:border-box;box-sizing:border-box;z-index:1}.codex-editor .hide{display:none}.codex-editor__redactor [contenteditable]:empty:after{content:"\\feff"}@media (min-width: 651px){.codex-editor--narrow .codex-editor__redactor{margin-right:50px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .codex-editor__redactor{margin-left:50px;margin-right:0}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__actions{right:-5px}}.codex-editor-copyable{position:absolute;height:1px;width:1px;top:-400%;opacity:.001}.codex-editor-overlay{position:fixed;top:0px;left:0px;right:0px;bottom:0px;z-index:999;pointer-events:none;overflow:hidden}.codex-editor-overlay__container{position:relative;pointer-events:auto;z-index:0}.codex-editor-overlay__rectangle{position:absolute;pointer-events:none;background-color:#2eaadc33;border:1px solid transparent}.codex-editor svg{max-height:100%}.codex-editor path{stroke:currentColor}.codex-editor ::-moz-selection{background-color:#d4ecff}.codex-editor ::selection{background-color:#d4ecff}.codex-editor--toolbox-opened [contentEditable=true][data-placeholder]:focus:before{opacity:0!important}.ce-scroll-locked{overflow:hidden}.ce-scroll-locked--hard{overflow:hidden;top:calc(-1 * var(--window-scroll-offset));position:fixed;width:100%}.ce-toolbar{position:absolute;left:0;right:0;top:0;-webkit-transition:opacity .1s ease;transition:opacity .1s ease;will-change:opacity,top;display:none}.ce-toolbar--opened{display:block}.ce-toolbar__content{max-width:650px;margin:0 auto;position:relative}.ce-toolbar__plus{color:#1d202b;cursor:pointer;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;-ms-flex-negative:0;flex-shrink:0}@media (max-width: 650px){.ce-toolbar__plus{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__plus:hover{background-color:#eff2f5}}.ce-toolbar__plus--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-toolbar__plus-shortcut{opacity:.6;word-spacing:-2px;margin-top:5px}@media (max-width: 650px){.ce-toolbar__plus{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__plus--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__plus--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__actions{position:absolute;right:100%;opacity:0;display:-webkit-box;display:-ms-flexbox;display:flex;padding-right:5px}.ce-toolbar__actions--opened{opacity:1}@media (max-width: 650px){.ce-toolbar__actions{right:auto}}.ce-toolbar__settings-btn{color:#1d202b;width:26px;height:26px;border-radius:7px;display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;margin-left:3px;cursor:pointer;user-select:none}@media (max-width: 650px){.ce-toolbar__settings-btn{width:36px;height:36px}}@media (hover: hover){.ce-toolbar__settings-btn:hover{background-color:#eff2f5}}.ce-toolbar__settings-btn--active{background-color:#eff2f5;-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}@media (min-width: 651px){.ce-toolbar__settings-btn{width:24px}}.ce-toolbar__settings-btn--hidden{display:none}@media (max-width: 650px){.ce-toolbar__settings-btn{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;position:static}.ce-toolbar__settings-btn--left-oriented:before{left:15px;margin-left:0}.ce-toolbar__settings-btn--right-oriented:before{left:auto;right:15px;margin-left:0}}.ce-toolbar__plus svg,.ce-toolbar__settings-btn svg{width:24px;height:24px}@media (min-width: 651px){.codex-editor--narrow .ce-toolbar__plus{left:5px}}@media (min-width: 651px){.codex-editor--narrow .ce-toolbox .ce-popover{right:0;left:auto;left:initial}}.ce-inline-toolbar{--y-offset: 8px;position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;-webkit-transform:translateX(-50%) translateY(8px) scale(.94);transform:translate(-50%) translateY(8px) scale(.94);opacity:0;visibility:hidden;-webkit-transition:opacity .25s ease,-webkit-transform .15s ease;transition:opacity .25s ease,-webkit-transform .15s ease;transition:transform .15s ease,opacity .25s ease;transition:transform .15s ease,opacity .25s ease,-webkit-transform .15s ease;will-change:transform,opacity;top:0;left:0;z-index:3}.ce-inline-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-inline-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-inline-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:translateX(-50%);transform:translate(-50%)}.ce-inline-toolbar--left-oriented{-webkit-transform:translateX(-23px) translateY(8px) scale(.94);transform:translate(-23px) translateY(8px) scale(.94)}.ce-inline-toolbar--left-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-23px);transform:translate(-23px)}.ce-inline-toolbar--right-oriented{-webkit-transform:translateX(-100%) translateY(8px) scale(.94);transform:translate(-100%) translateY(8px) scale(.94);margin-left:23px}.ce-inline-toolbar--right-oriented.ce-inline-toolbar--showed{-webkit-transform:translateX(-100%);transform:translate(-100%)}.ce-inline-toolbar [hidden]{display:none!important}.ce-inline-toolbar__toggler-and-button-wrapper{display:-webkit-box;display:-ms-flexbox;display:flex;width:100%;padding:0 6px}.ce-inline-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown{display:-webkit-box;display:-ms-flexbox;display:flex;padding:6px;margin:0 6px 0 -6px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;cursor:pointer;border-right:1px solid rgba(201,201,204,.48);-webkit-box-sizing:border-box;box-sizing:border-box}@media (hover: hover){.ce-inline-toolbar__dropdown:hover{background:#eff2f5}}.ce-inline-toolbar__dropdown--hidden{display:none}.ce-inline-toolbar__dropdown-content,.ce-inline-toolbar__dropdown-arrow{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-inline-toolbar__dropdown-content svg,.ce-inline-toolbar__dropdown-arrow svg{width:20px;height:20px}.ce-inline-toolbar__shortcut{opacity:.6;word-spacing:-3px;margin-top:3px}.ce-inline-tool{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;border-radius:0;line-height:normal}.ce-inline-tool svg{width:20px;height:20px}@media (max-width: 650px){.ce-inline-tool svg{width:28px;height:28px}}@media (hover: hover){.ce-inline-tool:hover{background-color:#eff2f5}}.ce-inline-tool--active{color:#388ae5}.ce-inline-tool--focused{background:rgba(34,186,255,.08)!important}.ce-inline-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-inline-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-inline-tool--link .icon--unlink,.ce-inline-tool--unlink .icon--link{display:none}.ce-inline-tool--unlink .icon--unlink{display:inline-block;margin-bottom:-1px}.ce-inline-tool-input{outline:none;border:0;border-radius:0 0 4px 4px;margin:0;font-size:13px;padding:10px;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box;display:none;font-weight:500;border-top:1px solid rgba(201,201,204,.48);-webkit-appearance:none;font-family:inherit}@media (max-width: 650px){.ce-inline-tool-input{font-size:15px;font-weight:500}}.ce-inline-tool-input::-webkit-input-placeholder{color:#707684}.ce-inline-tool-input::-moz-placeholder{color:#707684}.ce-inline-tool-input:-ms-input-placeholder{color:#707684}.ce-inline-tool-input::-ms-input-placeholder{color:#707684}.ce-inline-tool-input::placeholder{color:#707684}.ce-inline-tool-input--showed{display:block}.ce-conversion-toolbar{position:absolute;background-color:#fff;border:1px solid #E8E8EB;-webkit-box-shadow:0 3px 15px -3px rgba(13,20,33,.13);box-shadow:0 3px 15px -3px #0d142121;border-radius:6px;z-index:2;opacity:0;visibility:hidden;will-change:transform,opacity;-webkit-transition:opacity .1s ease,-webkit-transform .1s ease;transition:opacity .1s ease,-webkit-transform .1s ease;transition:transform .1s ease,opacity .1s ease;transition:transform .1s ease,opacity .1s ease,-webkit-transform .1s ease;-webkit-transform:translateY(-8px);transform:translateY(-8px);left:-1px;width:190px;margin-top:5px;-webkit-box-sizing:content-box;box-sizing:content-box}.ce-conversion-toolbar--left-oriented:before{left:15px;margin-left:0}.ce-conversion-toolbar--right-oriented:before{left:auto;right:15px;margin-left:0}.ce-conversion-toolbar--showed{opacity:1;visibility:visible;-webkit-transform:none;transform:none}.ce-conversion-toolbar [hidden]{display:none!important}.ce-conversion-toolbar__buttons{display:-webkit-box;display:-ms-flexbox;display:flex}.ce-conversion-toolbar__label{color:#707684;font-size:11px;font-weight:500;letter-spacing:.33px;padding:10px 10px 5px;text-transform:uppercase}.ce-conversion-tool{display:-webkit-box;display:-ms-flexbox;display:flex;padding:5px 10px;font-size:14px;line-height:20px;font-weight:500;cursor:pointer;-webkit-box-align:center;-ms-flex-align:center;align-items:center}.ce-conversion-tool--hidden{display:none}.ce-conversion-tool--focused{background:rgba(34,186,255,.08)!important}.ce-conversion-tool--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-conversion-tool--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-conversion-tool:hover{background:#eff2f5}.ce-conversion-tool__icon{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px rgba(201,201,204,.48);box-shadow:0 0 0 1px #c9c9cc7a;border-radius:5px;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;background:#fff;-webkit-box-sizing:content-box;box-sizing:content-box;-ms-flex-negative:0;flex-shrink:0;margin-right:10px}.ce-conversion-tool__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-conversion-tool__icon{width:36px;height:36px;border-radius:8px}.ce-conversion-tool__icon svg{width:28px;height:28px}}.ce-conversion-tool--last{margin-right:0!important}.ce-conversion-tool--active{color:#388ae5!important}.ce-conversion-tool--active{-webkit-animation:bounceIn .75s 1;animation:bounceIn .75s 1;-webkit-animation-fill-mode:forwards;animation-fill-mode:forwards}.ce-conversion-tool__secondary-label{color:#707684;font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-conversion-tool__secondary-label{display:none}}.ce-settings__button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;line-height:32px}.ce-settings__button svg{width:20px;height:20px}@media (max-width: 650px){.ce-settings__button svg{width:28px;height:28px}}@media (hover: hover){.ce-settings__button:hover{background-color:#eff2f5}}.ce-settings__button--active{color:#388ae5}.ce-settings__button--focused{background:rgba(34,186,255,.08)!important}.ce-settings__button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.ce-settings__button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.ce-settings__button:not(:nth-child(3n+3)){margin-right:3px}.ce-settings__button:nth-child(n+4){margin-top:3px}.ce-settings__button--disabled{cursor:not-allowed!important}.ce-settings__button--disabled{opacity:.3}.ce-settings__button--selected{color:#388ae5}@media (min-width: 651px){.codex-editor--narrow .ce-settings .ce-popover{right:0;left:auto;left:initial}}@-webkit-keyframes fade-in{0%{opacity:0}to{opacity:1}}@keyframes fade-in{0%{opacity:0}to{opacity:1}}.ce-block{-webkit-animation:fade-in .3s ease;animation:fade-in .3s ease;-webkit-animation-fill-mode:none;animation-fill-mode:none;-webkit-animation-fill-mode:initial;animation-fill-mode:initial}.ce-block:first-of-type{margin-top:0}.ce-block--selected .ce-block__content{background:#e1f2ff}.ce-block--selected .ce-block__content [contenteditable]{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ce-block--selected .ce-block__content img,.ce-block--selected .ce-block__content .ce-stub{opacity:.55}.ce-block--stretched .ce-block__content{max-width:none}.ce-block__content{position:relative;max-width:650px;margin:0 auto;-webkit-transition:background-color .15s ease;transition:background-color .15s ease}.ce-block--drop-target .ce-block__content:before{content:"";position:absolute;top:100%;left:-20px;margin-top:-1px;height:8px;width:8px;border:solid #388AE5;border-width:1px 1px 0 0;-webkit-transform-origin:right;transform-origin:right;-webkit-transform:rotate(45deg);transform:rotate(45deg)}.ce-block--drop-target .ce-block__content:after{content:"";position:absolute;top:100%;height:1px;width:100%;color:#388ae5;background:repeating-linear-gradient(90deg,#388AE5,#388AE5 1px,#fff 1px,#fff 6px)}.ce-block a{cursor:pointer;-webkit-text-decoration:underline;text-decoration:underline}.ce-block b{font-weight:700}.ce-block i{font-style:italic}@media (min-width: 651px){.codex-editor--narrow .ce-block--focused{margin-right:-50px;padding-right:50px}}@-webkit-keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes bounceIn{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.9,.9,.9);transform:scale3d(.9,.9,.9)}20%{-webkit-transform:scale3d(1.03,1.03,1.03);transform:scale3d(1.03,1.03,1.03)}60%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes selectionBounce{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}50%{-webkit-transform:scale3d(1.01,1.01,1.01);transform:scale3d(1.01,1.01,1.01)}70%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@-webkit-keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}@keyframes buttonClicked{0%,20%,40%,60%,80%,to{-webkit-animation-timing-function:cubic-bezier(.215,.61,.355,1);animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{-webkit-transform:scale3d(.95,.95,.95);transform:scale3d(.95,.95,.95)}60%{-webkit-transform:scale3d(1.02,1.02,1.02);transform:scale3d(1.02,1.02,1.02)}80%{-webkit-transform:scale3d(1,1,1);transform:scaleZ(1)}}.cdx-block{padding:.4em 0}.cdx-block::-webkit-input-placeholder{line-height:normal!important}.cdx-input{border:1px solid rgba(201,201,204,.48);-webkit-box-shadow:inset 0 1px 2px 0 rgba(35,44,72,.06);box-shadow:inset 0 1px 2px #232c480f;border-radius:3px;padding:10px 12px;outline:none;width:100%;-webkit-box-sizing:border-box;box-sizing:border-box}.cdx-input[data-placeholder]:before{position:static!important}.cdx-input[data-placeholder]:before{display:inline-block;width:0;white-space:nowrap;pointer-events:none}.cdx-settings-button{display:-webkit-inline-box;display:-ms-inline-flexbox;display:inline-flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;padding:6px 1px;border-radius:3px;cursor:pointer;border:0;outline:none;background-color:transparent;vertical-align:bottom;color:inherit;margin:0;min-width:26px;min-height:26px}.cdx-settings-button svg{width:20px;height:20px}@media (max-width: 650px){.cdx-settings-button svg{width:28px;height:28px}}@media (hover: hover){.cdx-settings-button:hover{background-color:#eff2f5}}.cdx-settings-button--focused{background:rgba(34,186,255,.08)!important}.cdx-settings-button--focused{-webkit-box-shadow:inset 0 0 0px 1px rgba(7,161,227,.08);box-shadow:inset 0 0 0 1px #07a1e314}.cdx-settings-button--focused-animated{-webkit-animation-name:buttonClicked;animation-name:buttonClicked;-webkit-animation-duration:.25s;animation-duration:.25s}.cdx-settings-button--active{color:#388ae5}.cdx-settings-button svg{width:auto;height:auto}@media (max-width: 650px){.cdx-settings-button{width:36px;height:36px;border-radius:8px}}.cdx-loader{position:relative;border:1px solid rgba(201,201,204,.48)}.cdx-loader:before{content:"";position:absolute;left:50%;top:50%;width:18px;height:18px;margin:-11px 0 0 -11px;border:2px solid rgba(201,201,204,.48);border-left-color:#388ae5;border-radius:50%;-webkit-animation:cdxRotation 1.2s infinite linear;animation:cdxRotation 1.2s infinite linear}@-webkit-keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes cdxRotation{0%{-webkit-transform:rotate(0deg);transform:rotate(0)}to{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.cdx-button{padding:13px;border-radius:3px;border:1px solid rgba(201,201,204,.48);font-size:14.9px;background:#fff;-webkit-box-shadow:0 2px 2px 0 rgba(18,30,57,.04);box-shadow:0 2px 2px #121e390a;color:#707684;text-align:center;cursor:pointer}@media (hover: hover){.cdx-button:hover{background:#FBFCFE;-webkit-box-shadow:0 1px 3px 0 rgba(18,30,57,.08);box-shadow:0 1px 3px #121e3914}}.cdx-button svg{height:20px;margin-right:.2em;margin-top:-2px}.ce-stub{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:12px 18px;margin:10px 0;border-radius:10px;background:#eff2f5;border:1px solid #EFF0F1;color:#707684;font-size:14px}.ce-stub svg{width:20px;height:20px}.ce-stub__info{margin-left:14px}.ce-stub__title{font-weight:500;text-transform:capitalize}.codex-editor.codex-editor--rtl{direction:rtl}.codex-editor.codex-editor--rtl .cdx-list{padding-left:0;padding-right:40px}.codex-editor.codex-editor--rtl .ce-toolbar__plus{right:-26px;left:auto}.codex-editor.codex-editor--rtl .ce-toolbar__actions{right:auto;left:-26px}@media (max-width: 650px){.codex-editor.codex-editor--rtl .ce-toolbar__actions{margin-left:0;margin-right:auto;padding-right:0;padding-left:10px}}.codex-editor.codex-editor--rtl .ce-settings{left:5px;right:auto}.codex-editor.codex-editor--rtl .ce-settings:before{right:auto;left:25px}.codex-editor.codex-editor--rtl .ce-settings__button:not(:nth-child(3n+3)){margin-left:3px;margin-right:0}.codex-editor.codex-editor--rtl .ce-conversion-tool__icon{margin-right:0;margin-left:10px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown{border-right:0px solid transparent;border-left:1px solid rgba(201,201,204,.48);margin:0 -6px 0 6px}.codex-editor.codex-editor--rtl .ce-inline-toolbar__dropdown .icon--toggler-down{margin-left:0;margin-right:4px}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__plus{left:0px;right:5px}}@media (min-width: 651px){.codex-editor--narrow.codex-editor--rtl .ce-toolbar__actions{left:-5px}}.cdx-search-field{--icon-margin-right: 10px;background:rgba(232,232,235,.49);border:1px solid rgba(226,226,229,.2);border-radius:6px;padding:2px;display:grid;grid-template-columns:auto auto 1fr;grid-template-rows:auto}.cdx-search-field__icon{width:26px;height:26px;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:var(--icon-margin-right)}.cdx-search-field__icon svg{width:20px;height:20px;color:#707684}.cdx-search-field__input{font-size:14px;outline:none;font-weight:500;font-family:inherit;border:0;background:transparent;margin:0;padding:0;line-height:22px;min-width:calc(100% - 26px - var(--icon-margin-right))}.cdx-search-field__input::-webkit-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-moz-placeholder{color:#707684;font-weight:500}.cdx-search-field__input:-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::-ms-input-placeholder{color:#707684;font-weight:500}.cdx-search-field__input::placeholder{color:#707684;font-weight:500}.ce-popover{--border-radius: 6px;--width: 200px;--max-height: 270px;--padding: 6px;--offset-from-target: 8px;--color-border: #e8e8eb;--color-shadow: rgba(13,20,33,.13);--color-background: white;--color-text-primary: black;--color-text-secondary: #707684;--color-border-icon: rgba(201, 201, 204, .48);--color-border-icon-disabled: #EFF0F1;--color-text-icon-active: #388AE5;--color-background-icon-active: rgba(56, 138, 229, .1);--color-background-item-focus: rgba(34, 186, 255, .08);--color-shadow-item-focus: rgba(7, 161, 227, .08);--color-background-item-hover: #eff2f5;--color-background-item-confirm: #E24A4A;--color-background-item-confirm-hover: #CE4343;min-width:var(--width);width:var(--width);max-height:var(--max-height);border-radius:var(--border-radius);overflow:hidden;-webkit-box-sizing:border-box;box-sizing:border-box;-webkit-box-shadow:0 3px 15px -3px var(--color-shadow);box-shadow:0 3px 15px -3px var(--color-shadow);position:absolute;left:0;top:calc(100% + var(--offset-from-target));background:var(--color-background);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-orient:vertical;-webkit-box-direction:normal;-ms-flex-direction:column;flex-direction:column;z-index:4;opacity:0;max-height:0;pointer-events:none;padding:0;border:none}.ce-popover--opened{opacity:1;padding:var(--padding);max-height:var(--max-height);pointer-events:auto;-webkit-animation:panelShowing .1s ease;animation:panelShowing .1s ease;border:1px solid var(--color-border)}@media (max-width: 650px){.ce-popover--opened{-webkit-animation:panelShowingMobile .25s ease;animation:panelShowingMobile .25s ease}}.ce-popover__items{overflow-y:auto;-ms-scroll-chaining:none;overscroll-behavior:contain}@media (max-width: 650px){.ce-popover__overlay{position:fixed;top:0;bottom:0;left:0;right:0;background:#1D202B;z-index:3;opacity:.5;-webkit-transition:opacity .12s ease-in;transition:opacity .12s ease-in;will-change:opacity;visibility:visible}}.ce-popover__overlay--hidden{display:none}.ce-popover--open-top{top:calc(-1 * (var(--offset-from-target) + var(--popover-height)))}@media (max-width: 650px){.ce-popover{--offset: 5px;position:fixed;max-width:none;min-width:calc(100% - var(--offset) * 2);left:var(--offset);right:var(--offset);bottom:calc(var(--offset) + env(safe-area-inset-bottom));top:auto;border-radius:10px}.ce-popover .ce-popover__search{display:none}}.ce-popover__search,.ce-popover__custom-content:not(:empty){margin-bottom:5px}.ce-popover__nothing-found-message{color:#707684;display:none;cursor:default;padding:3px;font-size:14px;line-height:20px;font-weight:500;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.ce-popover__nothing-found-message--displayed{display:block}.ce-popover__custom-content:not(:empty){padding:4px}@media (min-width: 651px){.ce-popover__custom-content:not(:empty){padding:0}}.ce-popover__custom-content--hidden{display:none}.ce-popover-item{--border-radius: 6px;--icon-size: 20px;--icon-size-mobile: 28px;border-radius:var(--border-radius);display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;padding:3px;color:var(--color-text-primary);-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}@media (max-width: 650px){.ce-popover-item{padding:4px}}.ce-popover-item:not(:last-of-type){margin-bottom:1px}.ce-popover-item__icon{border-radius:5px;width:26px;height:26px;-webkit-box-shadow:0 0 0 1px var(--color-border-icon);box-shadow:0 0 0 1px var(--color-border-icon);background:#fff;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center;margin-right:10px}.ce-popover-item__icon svg{width:20px;height:20px}@media (max-width: 650px){.ce-popover-item__icon{width:36px;height:36px;border-radius:8px}.ce-popover-item__icon svg{width:var(--icon-size-mobile);height:var(--icon-size-mobile)}}.ce-popover-item__title{font-size:14px;line-height:20px;font-weight:500;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}@media (max-width: 650px){.ce-popover-item__title{font-size:16px}}.ce-popover-item__secondary-title{color:var(--color-text-secondary);font-size:12px;margin-left:auto;white-space:nowrap;letter-spacing:-.1em;padding-right:5px;margin-bottom:-2px;opacity:.6}@media (max-width: 650px){.ce-popover-item__secondary-title{display:none}}.ce-popover-item--active{background:var(--color-background-icon-active);color:var(--color-text-icon-active)}.ce-popover-item--active .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}.ce-popover-item--disabled{color:var(--color-text-secondary);cursor:default;pointer-events:none}.ce-popover-item--disabled .ce-popover-item__icon{-webkit-box-shadow:0 0 0 1px var(--color-border-icon-disabled);box-shadow:0 0 0 1px var(--color-border-icon-disabled)}.ce-popover-item--focused:not(.ce-popover-item--no-focus){background:var(--color-background-item-focus)!important}.ce-popover-item--focused:not(.ce-popover-item--no-focus){-webkit-box-shadow:inset 0 0 0px 1px var(--color-shadow-item-focus);box-shadow:inset 0 0 0 1px var(--color-shadow-item-focus)}.ce-popover-item--hidden{display:none}@media (hover: hover){.ce-popover-item:hover{cursor:pointer}.ce-popover-item:hover:not(.ce-popover-item--no-hover){background-color:var(--color-background-item-hover)}.ce-popover-item:hover .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}}.ce-popover-item--confirmation{background:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__icon{color:var(--color-background-item-confirm)}.ce-popover-item--confirmation .ce-popover-item__title{color:#fff}@media (hover: hover){.ce-popover-item--confirmation:not(.ce-popover-item--no-hover):hover{background:var(--color-background-item-confirm-hover)}}.ce-popover-item--confirmation:not(.ce-popover-item--no-focus).ce-popover-item--focused{background:var(--color-background-item-confirm-hover)!important}.ce-popover-item--confirmation .ce-popover-item__icon,.ce-popover-item--active .ce-popover-item__icon,.ce-popover-item--focused .ce-popover-item__icon{-webkit-box-shadow:none;box-shadow:none}@-webkit-keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowing{0%{opacity:0;-webkit-transform:translateY(-8px) scale(.9);transform:translateY(-8px) scale(.9)}70%{opacity:1;-webkit-transform:translateY(2px);transform:translateY(2px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@-webkit-keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes panelShowingMobile{0%{opacity:0;-webkit-transform:translateY(14px) scale(.98);transform:translateY(14px) scale(.98)}70%{opacity:1;-webkit-transform:translateY(-4px);transform:translateY(-4px)}to{-webkit-transform:translateY(0);transform:translateY(0)}}.wobble{-webkit-animation-name:wobble;animation-name:wobble;-webkit-animation-duration:.4s;animation-duration:.4s}@-webkit-keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}@keyframes wobble{0%{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}15%{-webkit-transform:translate3d(-9%,0,0);transform:translate3d(-9%,0,0)}30%{-webkit-transform:translate3d(9%,0,0);transform:translate3d(9%,0,0)}45%{-webkit-transform:translate3d(-4%,0,0);transform:translate3d(-4%,0,0)}60%{-webkit-transform:translate3d(4%,0,0);transform:translate3d(4%,0,0)}75%{-webkit-transform:translate3d(-1%,0,0);transform:translate3d(-1%,0,0)}to{-webkit-transform:translate3d(0,0,0);transform:translateZ(0)}}
`;class iO extends Y{constructor(){super(...arguments),this.isMobile=!1,this.contentRectCache=void 0,this.resizeDebouncer=BN(()=>{this.windowResize()},200)}get CSS(){return{editorWrapper:"codex-editor",editorWrapperNarrow:"codex-editor--narrow",editorZone:"codex-editor__redactor",editorZoneHidden:"codex-editor__redactor--hidden",editorEmpty:"codex-editor--empty",editorRtlFix:"codex-editor--rtl"}}get contentRect(){if(this.contentRectCache)return this.contentRectCache;const e=this.nodes.wrapper.querySelector(`.${tn.CSS.content}`);return e?(this.contentRectCache=e.getBoundingClientRect(),this.contentRectCache):{width:650,left:0,right:0}}async prepare(){this.checkIsMobile(),this.make(),this.loadStyles()}toggleReadOnly(e){e?this.disableModuleBindings():this.enableModuleBindings()}checkEmptiness(){const{BlockManager:e}=this.Editor;this.nodes.wrapper.classList.toggle(this.CSS.editorEmpty,e.isEditorEmpty)}get someToolbarOpened(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor;return n.opened||r.opened||o.opened||e.toolbox.opened}get someFlipperButtonFocused(){return this.Editor.Toolbar.toolbox.hasFocus()?!0:Object.entries(this.Editor).filter(([e,n])=>n.flipper instanceof mn).some(([e,n])=>n.flipper.hasFocus())}destroy(){this.nodes.holder.innerHTML=""}closeAllToolbars(){const{Toolbar:e,BlockSettings:n,InlineToolbar:r,ConversionToolbar:o}=this.Editor;n.close(),r.close(),o.close(),e.toolbox.close()}checkIsMobile(){this.isMobile=window.innerWidth<uw}make(){this.nodes.holder=I.getHolder(this.config.holder),this.nodes.wrapper=I.make("div",[this.CSS.editorWrapper,...this.isRtl?[this.CSS.editorRtlFix]:[]]),this.nodes.redactor=I.make("div",this.CSS.editorZone),this.nodes.holder.offsetWidth<this.contentRect.width&&this.nodes.wrapper.classList.add(this.CSS.editorWrapperNarrow),this.nodes.redactor.style.paddingBottom=this.config.minHeight+"px",this.nodes.wrapper.appendChild(this.nodes.redactor),this.nodes.holder.appendChild(this.nodes.wrapper)}loadStyles(){const e="editor-js-styles";if(I.get(e))return;const n=I.make("style",null,{id:e,textContent:oO.toString()});I.prepend(document.head,n)}enableModuleBindings(){this.readOnlyMutableListeners.on(this.nodes.redactor,"click",e=>{this.redactorClicked(e)},!1),this.readOnlyMutableListeners.on(this.nodes.redactor,"mousedown",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(this.nodes.redactor,"touchstart",e=>{this.documentTouched(e)},!0),this.readOnlyMutableListeners.on(document,"keydown",e=>{this.documentKeydown(e)},!0),this.readOnlyMutableListeners.on(document,"mousedown",e=>{this.documentClicked(e)},!0),this.readOnlyMutableListeners.on(document,"selectionchange",()=>{this.selectionChanged()},!0),this.readOnlyMutableListeners.on(window,"resize",()=>{this.resizeDebouncer()},{passive:!0}),this.watchBlockHoveredEvents()}watchBlockHoveredEvents(){let e;this.readOnlyMutableListeners.on(this.nodes.redactor,"mousemove",Ld(n=>{const r=n.target.closest(".ce-block");this.Editor.BlockSelection.anyBlockSelected||r&&e!==r&&(e=r,this.eventsDispatcher.emit(xw,{block:this.Editor.BlockManager.getBlockByChildNode(r)}))},20),{passive:!0})}disableModuleBindings(){this.readOnlyMutableListeners.clearAll()}windowResize(){this.contentRectCache=null,this.checkIsMobile()}documentKeydown(e){switch(e.keyCode){case z.ENTER:this.enterPressed(e);break;case z.BACKSPACE:case z.DELETE:this.backspacePressed(e);break;case z.ESC:this.escapePressed(e);break;default:this.defaultBehaviour(e);break}}defaultBehaviour(e){const{currentBlock:n}=this.Editor.BlockManager,r=e.target.closest(`.${this.CSS.editorWrapper}`),o=e.altKey||e.ctrlKey||e.metaKey||e.shiftKey;if(n!==void 0&&r===null){this.Editor.BlockEvents.keydown(e);return}r||n&&o||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close())}backspacePressed(e){const{BlockManager:n,BlockSelection:r,Caret:o}=this.Editor;if(r.anyBlockSelected&&!$.isSelectionExists){const i=n.removeSelectedBlocks();o.setToBlock(n.insertDefaultBlockAtIndex(i,!0),o.positions.START),r.clearSelection(e),e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation()}}escapePressed(e){this.Editor.BlockSelection.clearSelection(e),this.Editor.Toolbar.toolbox.opened?(this.Editor.Toolbar.toolbox.close(),this.Editor.Caret.setToBlock(this.Editor.BlockManager.currentBlock)):this.Editor.BlockSettings.opened?this.Editor.BlockSettings.close():this.Editor.ConversionToolbar.opened?this.Editor.ConversionToolbar.close():this.Editor.InlineToolbar.opened?this.Editor.InlineToolbar.close():this.Editor.Toolbar.close()}enterPressed(e){const{BlockManager:n,BlockSelection:r}=this.Editor,o=n.currentBlockIndex>=0;if(r.anyBlockSelected&&!$.isSelectionExists){r.clearSelection(e),e.preventDefault(),e.stopImmediatePropagation(),e.stopPropagation();return}if(!this.someToolbarOpened&&o&&e.target.tagName==="BODY"){const i=this.Editor.BlockManager.insert();this.Editor.Caret.setToBlock(i),this.Editor.BlockManager.highlightCurrentNode(),this.Editor.Toolbar.moveAndOpen(i)}this.Editor.BlockSelection.clearSelection(e)}documentClicked(e){if(!e.isTrusted)return;const n=e.target;this.nodes.holder.contains(n)||$.isAtEditor||(this.Editor.BlockManager.dropPointer(),this.Editor.Toolbar.close());const r=this.Editor.BlockSettings.nodes.wrapper.contains(n),o=this.Editor.Toolbar.nodes.settingsToggler.contains(n),i=r||o;if(this.Editor.BlockSettings.opened&&!i){this.Editor.BlockSettings.close();const s=this.Editor.BlockManager.getBlockByChildNode(n);this.Editor.Toolbar.moveAndOpen(s)}this.Editor.BlockSelection.clearSelection(e)}documentTouched(e){let n=e.target;if(n===this.nodes.redactor){const r=e instanceof MouseEvent?e.clientX:e.touches[0].clientX,o=e instanceof MouseEvent?e.clientY:e.touches[0].clientY;n=document.elementFromPoint(r,o)}try{this.Editor.BlockManager.setCurrentBlockByChildNode(n),this.Editor.BlockManager.highlightCurrentNode()}catch{this.Editor.RectangleSelection.isRectActivated()||this.Editor.Caret.setToTheLastBlock()}this.Editor.Toolbar.moveAndOpen()}redactorClicked(e){const{BlockSelection:n}=this.Editor;if(!$.isCollapsed)return;const r=()=>{e.stopImmediatePropagation(),e.stopPropagation()},o=e.target,i=e.metaKey||e.ctrlKey;if(I.isAnchor(o)&&i){r();const c=o.getAttribute("href"),u=PN(c);NN(u);return}const s=this.Editor.BlockManager.getBlockByIndex(-1),a=I.offset(s.holder).bottom,l=e.pageY;if(e.target instanceof Element&&e.target.isEqualNode(this.nodes.redactor)&&!n.anyBlockSelected&&a<l){r();const{BlockManager:c,Caret:u,Toolbar:d}=this.Editor;(!c.lastBlock.tool.isDefault||!c.lastBlock.isEmpty)&&c.insertAtEnd(),u.setToTheLastBlock(),d.moveAndOpen(c.lastBlock)}}selectionChanged(){const{CrossBlockSelection:e,BlockSelection:n}=this.Editor,r=$.anchorElement;if(e.isCrossBlockSelectionStarted&&n.anyBlockSelected&&$.get().removeAllRanges(),!r){$.range||this.Editor.InlineToolbar.close();return}const o=r.closest(`.${tn.CSS.content}`)===null;if(o&&(this.Editor.InlineToolbar.containsNode(r)||this.Editor.InlineToolbar.close(),r.dataset.inlineToolbar!=="true"))return;this.Editor.BlockManager.currentBlock||this.Editor.BlockManager.setCurrentBlockByChildNode(r);const i=o!==!0;this.Editor.InlineToolbar.tryToShow(!0,i)}}const sO={BlocksAPI:HN,CaretAPI:zN,EventsAPI:WN,I18nAPI:_f,API:KN,InlineToolbarAPI:GN,ListenersAPI:qN,NotifierAPI:QN,ReadOnlyAPI:ZN,SanitizerAPI:sR,SaverAPI:aR,SelectionAPI:lR,StylesAPI:cR,ToolbarAPI:uR,TooltipAPI:fR,UiAPI:pR,BlockSettings:BR,ConversionToolbar:Ze,Toolbar:OR,InlineToolbar:MR,BlockEvents:DR,BlockManager:UR,BlockSelection:$R,Caret:ml,CrossBlockSelection:VR,DragNDrop:HR,ModificationsObserver:zR,Paste:Tw,ReadOnly:WR,RectangleSelection:Ti,Renderer:KR,Saver:GR,Tools:Lw,UI:iO};class aO{constructor(e){this.moduleInstances={},this.eventsDispatcher=new ec;let n,r;this.isReady=new Promise((o,i)=>{n=o,r=i}),Promise.resolve().then(async()=>{this.configuration=e,this.validate(),this.init(),await this.start(),await this.render();const{BlockManager:o,Caret:i,UI:s,ModificationsObserver:a}=this.moduleInstances;s.checkEmptiness(),a.enable(),this.configuration.autofocus&&(i.setToBlock(o.blocks[0],i.positions.START),o.highlightCurrentNode()),n()}).catch(o=>{Z(`Editor.js is not ready because of ${o}`,"error"),r(o)})}set configuration(e){var n,r;Ae(e)?this.config={...e}:this.config={holder:e},Rd(!!this.config.holderId,"config.holderId","config.holder"),this.config.holderId&&!this.config.holder&&(this.config.holder=this.config.holderId,this.config.holderId=null),this.config.holder==null&&(this.config.holder="editorjs"),this.config.logLevel||(this.config.logLevel=aw.VERBOSE),SN(this.config.logLevel),Rd(!!this.config.initialBlock,"config.initialBlock","config.defaultBlock"),this.config.defaultBlock=this.config.defaultBlock||this.config.initialBlock||"paragraph",this.config.minHeight=this.config.minHeight!==void 0?this.config.minHeight:300;const o={type:this.config.defaultBlock,data:{}};this.config.placeholder=this.config.placeholder||!1,this.config.sanitizer=this.config.sanitizer||{p:!0,b:!0,a:!0},this.config.hideToolbar=this.config.hideToolbar?this.config.hideToolbar:!1,this.config.tools=this.config.tools||{},this.config.i18n=this.config.i18n||{},this.config.data=this.config.data||{blocks:[]},this.config.onReady=this.config.onReady||(()=>{}),this.config.onChange=this.config.onChange||(()=>{}),this.config.inlineToolbar=this.config.inlineToolbar!==void 0?this.config.inlineToolbar:!0,(_t(this.config.data)||!this.config.data.blocks||this.config.data.blocks.length===0)&&(this.config.data={blocks:[o]}),this.config.readOnly=this.config.readOnly||!1,(n=this.config.i18n)!=null&&n.messages&&Ge.setDictionary(this.config.i18n.messages),this.config.i18n.direction=((r=this.config.i18n)==null?void 0:r.direction)||"ltr"}get configuration(){return this.config}validate(){const{holderId:e,holder:n}=this.config;if(e&&n)throw Error("holderId and holder param can't assign at the same time.");if(Qn(n)&&!I.get(n))throw Error(`element with ID ${n} is missing. Pass correct holder's ID.`);if(n&&Ae(n)&&!I.isElement(n))throw Error("holder value must be an Element node")}init(){this.constructModules(),this.configureModules()}async start(){await["Tools","UI","BlockManager","Paste","BlockSelection","RectangleSelection","CrossBlockSelection","ReadOnly"].reduce((e,n)=>e.then(async()=>{try{await this.moduleInstances[n].prepare()}catch(r){if(r instanceof hw)throw new Error(r.message);Z(`Module ${n} was skipped because of %o`,"warn",r)}}),Promise.resolve())}render(){return this.moduleInstances.Renderer.render(this.config.data.blocks)}constructModules(){Object.entries(sO).forEach(([e,n])=>{try{this.moduleInstances[e]=new n({config:this.configuration,eventsDispatcher:this.eventsDispatcher})}catch(r){Z("[constructModules]",`Module ${e} skipped because`,"error",r)}})}configureModules(){for(const e in this.moduleInstances)Object.prototype.hasOwnProperty.call(this.moduleInstances,e)&&(this.moduleInstances[e].state=this.getModulesDiff(e))}getModulesDiff(e){const n={};for(const r in this.moduleInstances)r!==e&&(n[r]=this.moduleInstances[r]);return n}}/**
 * Editor.js
 *
 * @license Apache-2.0
 * @see Editor.js <https://editorjs.io>
 * @author CodeX Team <https://codex.so>
 */class lO{static get version(){return"2.28.2"}constructor(e){let n=()=>{};Ae(e)&&ie(e.onReady)&&(n=e.onReady);const r=new aO(e);this.isReady=r.isReady.then(()=>{this.exportAPI(r),n()})}exportAPI(e){const n=["configuration"],r=()=>{Object.values(e.moduleInstances).forEach(o=>{ie(o.destroy)&&o.destroy(),o.listeners.removeAll()}),e=null;for(const o in this)Object.prototype.hasOwnProperty.call(this,o)&&delete this[o];Object.setPrototypeOf(this,null)};n.forEach(o=>{this[o]=e[o]}),this.destroy=r,Object.setPrototypeOf(this,e.moduleInstances.API.methods),delete this.exportAPI,Object.entries({blocks:{clear:"clear",render:"render"},caret:{focus:"focus"},events:{on:"on",off:"off",emit:"emit"},saver:{save:"save"}}).forEach(([o,i])=>{Object.entries(i).forEach(([s,a])=>{this[a]=e.moduleInstances.API.methods[o][s]})})}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.embed-tool--loading .embed-tool__caption{display:none}.embed-tool--loading .embed-tool__preloader{display:block}.embed-tool--loading .embed-tool__content{display:none}.embed-tool__preloader{display:none;position:relative;height:200px;box-sizing:border-box;border-radius:5px;border:1px solid #e6e9eb}.embed-tool__preloader:before{content:"";position:absolute;z-index:3;left:50%;top:50%;width:30px;height:30px;margin-top:-25px;margin-left:-15px;border-radius:50%;border:2px solid #cdd1e0;border-top-color:#388ae5;box-sizing:border-box;animation:embed-preloader-spin 2s infinite linear}.embed-tool__url{position:absolute;bottom:20px;left:50%;transform:translate(-50%);max-width:250px;color:#7b7e89;font-size:11px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}.embed-tool__content{width:100%}.embed-tool__caption{margin-top:7px}.embed-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:before{opacity:1}.embed-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}@keyframes embed-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const cO={vimeo:{regex:/(?:http[s]?:\/\/)?(?:www.)?(?:player.)?vimeo\.co(?:.+\/([^\/]\d+)(?:#t=[\d]+)?s?$)/,embedUrl:"https://player.vimeo.com/video/<%= remote_id %>?title=0&byline=0",html:'<iframe style="width:100%;" height="320" frameborder="0"></iframe>',height:320,width:580},youtube:{regex:/(?:https?:\/\/)?(?:www\.)?(?:(?:youtu\.be\/)|(?:youtube\.com)\/(?:v\/|u\/\w\/|embed\/|watch))(?:(?:\?v=)?([^#&?=]*))?((?:[?&]\w*=\w*)*)/,embedUrl:"https://www.youtube.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580,id:([t,e])=>{if(!e&&t)return t;const n={start:"start",end:"end",t:"start",time_continue:"start",list:"list"};return e=e.slice(1).split("&").map(r=>{const[o,i]=r.split("=");return!t&&o==="v"?(t=i,null):!n[o]||i==="LL"||i.startsWith("RDMM")||i.startsWith("FL")?null:`${n[o]}=${i}`}).filter(r=>!!r),t+"?"+e.join("&")}},coub:{regex:/https?:\/\/coub\.com\/view\/([^\/\?\&]+)/,embedUrl:"https://coub.com/embed/<%= remote_id %>",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},vine:{regex:/https?:\/\/vine\.co\/v\/([^\/\?\&]+)/,embedUrl:"https://vine.co/v/<%= remote_id %>/embed/simple/",html:'<iframe style="width:100%;" height="320" frameborder="0" allowfullscreen></iframe>',height:320,width:580},imgur:{regex:/https?:\/\/(?:i\.)?imgur\.com.*\/([a-zA-Z0-9]+)(?:\.gifv)?/,embedUrl:"http://imgur.com/<%= remote_id %>/embed",html:'<iframe allowfullscreen="true" scrolling="no" id="imgur-embed-iframe-pub-<%= remote_id %>" class="imgur-embed-iframe-pub" style="height: 500px; width: 100%; border: 1px solid #000"></iframe>',height:500,width:540},gfycat:{regex:/https?:\/\/gfycat\.com(?:\/detail)?\/([a-zA-Z]+)/,embedUrl:"https://gfycat.com/ifr/<%= remote_id %>",html:`<iframe frameborder='0' scrolling='no' style="width:100%;" height='436' allowfullscreen ></iframe>`,height:436,width:580},"twitch-channel":{regex:/https?:\/\/www\.twitch\.tv\/([^\/\?\&]*)\/?$/,embedUrl:"https://player.twitch.tv/?channel=<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"twitch-video":{regex:/https?:\/\/www\.twitch\.tv\/(?:[^\/\?\&]*\/v|videos)\/([0-9]*)/,embedUrl:"https://player.twitch.tv/?video=v<%= remote_id %>",html:'<iframe frameborder="0" allowfullscreen="true" scrolling="no" height="366" style="width:100%;"></iframe>',height:366,width:600},"yandex-music-album":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/?$/,embedUrl:"https://music.yandex.ru/iframe/#album/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" style="width:100%;" height="400"></iframe>',height:400,width:540},"yandex-music-track":{regex:/https?:\/\/music\.yandex\.ru\/album\/([0-9]*)\/track\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#track/<%= remote_id %>/",html:'<iframe frameborder="0" style="border:none;width:540px;height:100px;" style="width:100%;" height="100"></iframe>',height:100,width:540,id:t=>t.join("/")},"yandex-music-playlist":{regex:/https?:\/\/music\.yandex\.ru\/users\/([^\/\?\&]*)\/playlists\/([0-9]*)/,embedUrl:"https://music.yandex.ru/iframe/#playlist/<%= remote_id %>/show/cover/description/",html:'<iframe frameborder="0" style="border:none;width:540px;height:400px;" width="540" height="400"></iframe>',height:400,width:540,id:t=>t.join("/")},codepen:{regex:/https?:\/\/codepen\.io\/([^\/\?\&]*)\/pen\/([^\/\?\&]*)/,embedUrl:"https://codepen.io/<%= remote_id %>?height=300&theme-id=0&default-tab=css,result&embed-version=2",html:"<iframe height='300' scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%;'></iframe>",height:300,width:600,id:t=>t.join("/embed/")},instagram:{regex:/https?:\/\/www\.instagram\.com\/p\/([^\/\?\&]+)\/?.*/,embedUrl:"https://www.instagram.com/p/<%= remote_id %>/embed",html:'<iframe width="400" height="505" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:505,width:400},twitter:{regex:/^https?:\/\/twitter\.com\/(?:#!\/)?(\w+)\/status(?:es)?\/(\d+?.*)?$/,embedUrl:"https://twitframe.com/show?url=https://twitter.com/<%= remote_id %>",html:'<iframe width="600" height="600" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600,id:t=>t.join("/status/")},pinterest:{regex:/https?:\/\/([^\/\?\&]*).pinterest.com\/pin\/([^\/\?\&]*)\/?$/,embedUrl:"https://assets.pinterest.com/ext/embed.html?id=<%= remote_id %>",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 400px; max-height: 1000px;'></iframe>",id:t=>t[1]},facebook:{regex:/https?:\/\/www.facebook.com\/([^\/\?\&]*)\/(.*)/,embedUrl:"https://www.facebook.com/plugins/post.php?href=https://www.facebook.com/<%= remote_id %>&width=500",html:"<iframe scrolling='no' frameborder='no' allowtransparency='true' allowfullscreen='true' style='width: 100%; min-height: 500px; max-height: 1000px;'></iframe>",id:t=>t.join("/")},aparat:{regex:/(?:http[s]?:\/\/)?(?:www.)?aparat\.com\/v\/([^\/\?\&]+)\/?/,embedUrl:"https://www.aparat.com/video/video/embed/videohash/<%= remote_id %>/vt/frame",html:'<iframe width="600" height="300" style="margin: 0 auto;" frameborder="0" scrolling="no" allowtransparency="true"></iframe>',height:300,width:600},miro:{regex:/https:\/\/miro.com\/\S+(\S{12})\/(\S+)?/,embedUrl:"https://miro.com/app/live-embed/<%= remote_id %>",html:'<iframe width="700" height="500" style="margin: 0 auto;" allowFullScreen frameBorder="0" scrolling="no"></iframe>'},github:{regex:/https?:\/\/gist.github.com\/([^\/\?\&]*)\/([^\/\?\&]*)/,embedUrl:'data:text/html;charset=utf-8,<head><base target="_blank" /></head><body><script src="https://gist.github.com/<%= remote_id %>" ><\/script></body>',html:'<iframe width="100%" height="350" frameborder="0" style="margin: 0 auto;"></iframe>',height:300,width:600,id:t=>`${t.join("/")}.js`}};function $d(t,e,n){var r,o,i,s,a;e==null&&(e=100);function l(){var u=Date.now()-s;u<e&&u>=0?r=setTimeout(l,e-u):(r=null,n||(a=t.apply(i,o),i=o=null))}var c=function(){i=this,o=arguments,s=Date.now();var u=n&&!r;return r||(r=setTimeout(l,e)),u&&(a=t.apply(i,o),i=o=null),a};return c.clear=function(){r&&(clearTimeout(r),r=null)},c.flush=function(){r&&(a=t.apply(i,o),i=o=null,clearTimeout(r),r=null)},c}$d.debounce=$d;var uO=$d;class Cn{constructor({data:e,api:n,readOnly:r}){this.api=n,this._data={},this.element=null,this.readOnly=r,this.data=e}set data(e){if(!(e instanceof Object))throw Error("Embed Tool data should be object");const{service:n,source:r,embed:o,width:i,height:s,caption:a=""}=e;this._data={service:n||this.data.service,source:r||this.data.source,embed:o||this.data.embed,width:i||this.data.width,height:s||this.data.height,caption:a||this.data.caption||""};const l=this.element;l&&l.parentNode.replaceChild(this.render(),l)}get data(){if(this.element){const e=this.element.querySelector(`.${this.api.styles.input}`);this._data.caption=e?e.innerHTML:""}return this._data}get CSS(){return{baseClass:this.api.styles.block,input:this.api.styles.input,container:"embed-tool",containerLoading:"embed-tool--loading",preloader:"embed-tool__preloader",caption:"embed-tool__caption",url:"embed-tool__url",content:"embed-tool__content"}}render(){if(!this.data.service){const a=document.createElement("div");return this.element=a,a}const{html:e}=Cn.services[this.data.service],n=document.createElement("div"),r=document.createElement("div"),o=document.createElement("template"),i=this.createPreloader();n.classList.add(this.CSS.baseClass,this.CSS.container,this.CSS.containerLoading),r.classList.add(this.CSS.input,this.CSS.caption),n.appendChild(i),r.contentEditable=!this.readOnly,r.dataset.placeholder=this.api.i18n.t("Enter a caption"),r.innerHTML=this.data.caption||"",o.innerHTML=e,o.content.firstChild.setAttribute("src",this.data.embed),o.content.firstChild.classList.add(this.CSS.content);const s=this.embedIsReady(n);return n.appendChild(o.content.firstChild),n.appendChild(r),s.then(()=>{n.classList.remove(this.CSS.containerLoading)}),this.element=n,n}createPreloader(){const e=document.createElement("preloader"),n=document.createElement("div");return n.textContent=this.data.source,e.classList.add(this.CSS.preloader),n.classList.add(this.CSS.url),e.appendChild(n),e}save(){return this.data}onPaste(e){const{key:n,data:r}=e.detail,{regex:o,embedUrl:i,width:s,height:a,id:l=d=>d.shift()}=Cn.services[n],c=o.exec(r).slice(1),u=i.replace(/<%= remote_id %>/g,l(c));this.data={service:n,source:r,embed:u,width:s,height:a}}static prepare({config:e={}}){const{services:n={}}=e;let r=Object.entries(cO);const o=Object.entries(n).filter(([s,a])=>typeof a=="boolean"&&a===!0).map(([s])=>s),i=Object.entries(n).filter(([s,a])=>typeof a=="object").filter(([s,a])=>Cn.checkServiceConfig(a)).map(([s,a])=>{const{regex:l,embedUrl:c,html:u,height:d,width:h,id:f}=a;return[s,{regex:l,embedUrl:c,html:u,height:d,width:h,id:f}]});o.length&&(r=r.filter(([s])=>o.includes(s))),r=r.concat(i),Cn.services=r.reduce((s,[a,l])=>a in s?(s[a]=Object.assign({},s[a],l),s):(s[a]=l,s),{}),Cn.patterns=r.reduce((s,[a,l])=>(s[a]=l.regex,s),{})}static checkServiceConfig(e){const{regex:n,embedUrl:r,html:o,height:i,width:s,id:a}=e;let l=n&&n instanceof RegExp&&r&&typeof r=="string"&&o&&typeof o=="string";return l=l&&(a!==void 0?a instanceof Function:!0),l=l&&(i!==void 0?Number.isFinite(i):!0),l=l&&(s!==void 0?Number.isFinite(s):!0),l}static get pasteConfig(){return{patterns:Cn.patterns}}static get isReadOnlySupported(){return!0}embedIsReady(e){let n=null;return new Promise((r,o)=>{n=new MutationObserver(uO.debounce(r,450)),n.observe(e,{childList:!0,subtree:!0})}).then(()=>{n.disconnect()})}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-list{margin:0;padding-left:40px;outline:none}.cdx-list__item{padding:5.5px 0 5.5px 3px;line-height:1.6em}.cdx-list--unordered{list-style:disc}.cdx-list--ordered{list-style:decimal}.cdx-list-settings{display:flex}.cdx-list-settings .cdx-settings-button{width:50%}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const Qg='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="9" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="9" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 17H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 12H4.99002"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M5.00001 7H4.99002"/></svg>',dO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><line x1="12" x2="19" y1="7" y2="7" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="12" y2="12" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><line x1="12" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M7.79999 14L7.79999 7.2135C7.79999 7.12872 7.7011 7.0824 7.63597 7.13668L4.79999 9.5"/></svg>';class hO{static get isReadOnlySupported(){return!0}static get enableLineBreaks(){return!0}static get toolbox(){return{icon:Qg,title:"List"}}constructor({data:e,config:n,api:r,readOnly:o}){this._elements={wrapper:null},this.api=r,this.readOnly=o,this.settings=[{name:"unordered",label:this.api.i18n.t("Unordered"),icon:Qg,default:n.defaultStyle==="unordered"||!1},{name:"ordered",label:this.api.i18n.t("Ordered"),icon:dO,default:n.defaultStyle==="ordered"||!0}],this._data={style:this.settings.find(i=>i.default===!0).name,items:[]},this.data=e}render(){return this._elements.wrapper=this.makeMainTag(this._data.style),this._data.items.length?this._data.items.forEach(e=>{this._elements.wrapper.appendChild(this._make("li",this.CSS.item,{innerHTML:e}))}):this._elements.wrapper.appendChild(this._make("li",this.CSS.item)),this.readOnly||this._elements.wrapper.addEventListener("keydown",e=>{const[n,r]=[13,8];switch(e.keyCode){case n:this.getOutofList(e);break;case r:this.backspace(e);break}},!1),this._elements.wrapper}save(){return this.data}static get conversionConfig(){return{export:e=>e.items.join(". "),import:e=>({items:[e],style:"unordered"})}}static get sanitize(){return{style:{},items:{br:!0}}}renderSettings(){return this.settings.map(e=>({...e,isActive:this._data.style===e.name,closeOnActivate:!0,onActivate:()=>this.toggleTune(e.name)}))}onPaste(e){const n=e.detail.data;this.data=this.pasteHandler(n)}static get pasteConfig(){return{tags:["OL","UL","LI"]}}makeMainTag(e){const n=e==="ordered"?this.CSS.wrapperOrdered:this.CSS.wrapperUnordered,r=e==="ordered"?"ol":"ul";return this._make(r,[this.CSS.baseBlock,this.CSS.wrapper,n],{contentEditable:!this.readOnly})}toggleTune(e){const n=this.makeMainTag(e);for(;this._elements.wrapper.hasChildNodes();)n.appendChild(this._elements.wrapper.firstChild);this._elements.wrapper.replaceWith(n),this._elements.wrapper=n,this._data.style=e}get CSS(){return{baseBlock:this.api.styles.block,wrapper:"cdx-list",wrapperOrdered:"cdx-list--ordered",wrapperUnordered:"cdx-list--unordered",item:"cdx-list__item"}}set data(e){e||(e={}),this._data.style=e.style||this.settings.find(r=>r.default===!0).name,this._data.items=e.items||[];const n=this._elements.wrapper;n&&n.parentNode.replaceChild(this.render(),n)}get data(){this._data.items=[];const e=this._elements.wrapper.querySelectorAll(`.${this.CSS.item}`);for(let n=0;n<e.length;n++)e[n].innerHTML.replace("<br>"," ").trim()&&this._data.items.push(e[n].innerHTML);return this._data}_make(e,n=null,r={}){const o=document.createElement(e);Array.isArray(n)?o.classList.add(...n):n&&o.classList.add(n);for(const i in r)o[i]=r[i];return o}get currentItem(){let e=window.getSelection().anchorNode;return e.nodeType!==Node.ELEMENT_NODE&&(e=e.parentNode),e.closest(`.${this.CSS.item}`)}getOutofList(e){const n=this._elements.wrapper.querySelectorAll("."+this.CSS.item);if(n.length<2)return;const r=n[n.length-1],o=this.currentItem;o===r&&!r.textContent.trim().length&&(o.parentElement.removeChild(o),this.api.blocks.insert(),this.api.caret.setToBlock(this.api.blocks.getCurrentBlockIndex()),e.preventDefault(),e.stopPropagation())}backspace(e){const n=this._elements.wrapper.querySelectorAll("."+this.CSS.item),r=n[0];r&&n.length<2&&!r.innerHTML.replace("<br>"," ").trim()&&e.preventDefault()}selectItem(e){e.preventDefault();const n=window.getSelection(),r=n.anchorNode.parentNode,o=r.closest("."+this.CSS.item),i=new Range;i.selectNodeContents(o),n.removeAllRanges(),n.addRange(i)}pasteHandler(e){const{tagName:n}=e;let r;switch(n){case"OL":r="ordered";break;case"UL":case"LI":r="unordered"}const o={style:r,items:[]};if(n==="LI")o.items=[e.innerHTML];else{const i=Array.from(e.querySelectorAll("LI"));o.items=i.map(s=>s.innerHTML).filter(s=>!!s.trim())}return o}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode('.image-tool{--bg-color: #cdd1e0;--front-color: #388ae5;--border-color: #e8e8eb}.image-tool__image{border-radius:3px;overflow:hidden;margin-bottom:10px}.image-tool__image-picture{max-width:100%;vertical-align:bottom;display:block}.image-tool__image-preloader{width:50px;height:50px;border-radius:50%;background-size:cover;margin:auto;position:relative;background-color:var(--bg-color);background-position:center center}.image-tool__image-preloader:after{content:"";position:absolute;z-index:3;width:60px;height:60px;border-radius:50%;border:2px solid var(--bg-color);border-top-color:var(--front-color);left:50%;top:50%;margin-top:-30px;margin-left:-30px;animation:image-preloader-spin 2s infinite linear;box-sizing:border-box}.image-tool__caption[contentEditable=true][data-placeholder]:before{position:absolute!important;content:attr(data-placeholder);color:#707684;font-weight:400;display:none}.image-tool__caption[contentEditable=true][data-placeholder]:empty:before{display:block}.image-tool__caption[contentEditable=true][data-placeholder]:empty:focus:before{display:none}.image-tool--empty .image-tool__image,.image-tool--empty .image-tool__caption,.image-tool--loading .image-tool__caption{display:none}.image-tool .cdx-button{display:flex;align-items:center;justify-content:center}.image-tool .cdx-button svg{height:auto;margin:0 6px 0 0}.image-tool--filled .cdx-button,.image-tool--filled .image-tool__image-preloader{display:none}.image-tool--loading .image-tool__image{min-height:200px;display:flex;border:1px solid var(--border-color);background-color:#fff}.image-tool--loading .image-tool__image-picture,.image-tool--loading .cdx-button{display:none}.image-tool--withBorder .image-tool__image{border:1px solid var(--border-color)}.image-tool--withBackground .image-tool__image{padding:15px;background:var(--bg-color)}.image-tool--withBackground .image-tool__image-picture{max-width:60%;margin:0 auto}.image-tool--stretched .image-tool__image-picture{width:100%}@keyframes image-preloader-spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}')),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const fO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M11 19V19C9.13623 19 8.20435 19 7.46927 18.6955C6.48915 18.2895 5.71046 17.5108 5.30448 16.5307C5 15.7956 5 14.8638 5 13V12C5 9.19108 5 7.78661 5.67412 6.77772C5.96596 6.34096 6.34096 5.96596 6.77772 5.67412C7.78661 5 9.19108 5 12 5H13.5C14.8956 5 15.5933 5 16.1611 5.17224C17.4395 5.56004 18.44 6.56046 18.8278 7.83886C19 8.40666 19 9.10444 19 10.5V10.5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6.5 17.5L17.5 6.5"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 10.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10.9919 19H11.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13L13 5"/></svg>',pO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M18.9919 9.5H19.0015"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.5 5H14.5096"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M14.625 5H15C17.2091 5 19 6.79086 19 9V9.375"/><path stroke="currentColor" stroke-width="2" d="M9.375 5L9 5C6.79086 5 5 6.79086 5 9V9.375"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 5H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 9.5H5.00957"/><path stroke="currentColor" stroke-width="2" d="M9.375 19H9C6.79086 19 5 17.2091 5 15V14.625"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.3725 19H9.38207"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 14.55H5.00957"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 13V16M16 19V16M19 16H16M16 16H13"/></svg>',Nw='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><rect width="14" height="14" x="5" y="5" stroke="currentColor" stroke-width="2" rx="4"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5.13968 15.32L8.69058 11.5661C9.02934 11.2036 9.48873 11 9.96774 11C10.4467 11 10.9061 11.2036 11.2449 11.5661L15.3871 16M13.5806 14.0664L15.0132 12.533C15.3519 12.1705 15.8113 11.9668 16.2903 11.9668C16.7693 11.9668 17.2287 12.1705 17.5675 12.533L18.841 13.9634"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13.7778 9.33331H13.7867"/></svg>',mO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17 9L20 12L17 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14 12H20"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 9L4 12L7 15"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 12H10"/></svg>';function $r(t,e=null,n={}){const r=document.createElement(t);Array.isArray(e)?r.classList.add(...e):e&&r.classList.add(e);for(const o in n)r[o]=n[o];return r}class yt{constructor({api:e,config:n,onSelectFile:r,readOnly:o}){this.api=e,this.config=n,this.onSelectFile=r,this.readOnly=o,this.nodes={wrapper:$r("div",[this.CSS.baseClass,this.CSS.wrapper]),imageContainer:$r("div",[this.CSS.imageContainer]),fileButton:this.createFileButton(),imageEl:void 0,imagePreloader:$r("div",this.CSS.imagePreloader),caption:$r("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly})},this.nodes.caption.dataset.placeholder=this.config.captionPlaceholder,this.nodes.imageContainer.appendChild(this.nodes.imagePreloader),this.nodes.wrapper.appendChild(this.nodes.imageContainer),this.nodes.wrapper.appendChild(this.nodes.caption),this.nodes.wrapper.appendChild(this.nodes.fileButton)}get CSS(){return{baseClass:this.api.styles.block,loading:this.api.styles.loader,input:this.api.styles.input,button:this.api.styles.button,wrapper:"image-tool",imageContainer:"image-tool__image",imagePreloader:"image-tool__image-preloader",imageEl:"image-tool__image-picture",caption:"image-tool__caption"}}static get status(){return{EMPTY:"empty",UPLOADING:"loading",FILLED:"filled"}}render(e){return!e.file||Object.keys(e.file).length===0?this.toggleStatus(yt.status.EMPTY):this.toggleStatus(yt.status.UPLOADING),this.nodes.wrapper}createFileButton(){const e=$r("div",[this.CSS.button]);return e.innerHTML=this.config.buttonContent||`${Nw} ${this.api.i18n.t("Select an Image")}`,e.addEventListener("click",()=>{this.onSelectFile()}),e}showPreloader(e){this.nodes.imagePreloader.style.backgroundImage=`url(${e})`,this.toggleStatus(yt.status.UPLOADING)}hidePreloader(){this.nodes.imagePreloader.style.backgroundImage="",this.toggleStatus(yt.status.EMPTY)}fillImage(e){const n=/\.mp4$/.test(e)?"VIDEO":"IMG",r={src:e};let o="load";n==="VIDEO"&&(r.autoplay=!0,r.loop=!0,r.muted=!0,r.playsinline=!0,o="loadeddata"),this.nodes.imageEl=$r(n,this.CSS.imageEl,r),this.nodes.imageEl.addEventListener(o,()=>{this.toggleStatus(yt.status.FILLED),this.nodes.imagePreloader&&(this.nodes.imagePreloader.style.backgroundImage="")}),this.nodes.imageContainer.appendChild(this.nodes.imageEl)}fillCaption(e){this.nodes.caption&&(this.nodes.caption.innerHTML=e)}toggleStatus(e){for(const n in yt.status)Object.prototype.hasOwnProperty.call(yt.status,n)&&this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${yt.status[n]}`,e===yt.status[n])}applyTune(e,n){this.nodes.wrapper.classList.toggle(`${this.CSS.wrapper}--${e}`,n)}}function gO(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Rw={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="",o(o.s=3)}([function(n,r){var o;o=function(){return this}();try{o=o||new Function("return this")()}catch{typeof window=="object"&&(o=window)}n.exports=o},function(n,r,o){(function(i){var s=o(2),a=setTimeout;function l(){}function c(k){if(!(this instanceof c))throw new TypeError("Promises must be constructed via new");if(typeof k!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],g(k,this)}function u(k,y){for(;k._state===3;)k=k._value;k._state!==0?(k._handled=!0,c._immediateFn(function(){var p=k._state===1?y.onFulfilled:y.onRejected;if(p!==null){var v;try{v=p(k._value)}catch(w){return void h(y.promise,w)}d(y.promise,v)}else(k._state===1?d:h)(y.promise,k._value)})):k._deferreds.push(y)}function d(k,y){try{if(y===k)throw new TypeError("A promise cannot be resolved with itself.");if(y&&(typeof y=="object"||typeof y=="function")){var p=y.then;if(y instanceof c)return k._state=3,k._value=y,void f(k);if(typeof p=="function")return void g((v=p,w=y,function(){v.apply(w,arguments)}),k)}k._state=1,k._value=y,f(k)}catch(x){h(k,x)}var v,w}function h(k,y){k._state=2,k._value=y,f(k)}function f(k){k._state===2&&k._deferreds.length===0&&c._immediateFn(function(){k._handled||c._unhandledRejectionFn(k._value)});for(var y=0,p=k._deferreds.length;y<p;y++)u(k,k._deferreds[y]);k._deferreds=null}function m(k,y,p){this.onFulfilled=typeof k=="function"?k:null,this.onRejected=typeof y=="function"?y:null,this.promise=p}function g(k,y){var p=!1;try{k(function(v){p||(p=!0,d(y,v))},function(v){p||(p=!0,h(y,v))})}catch(v){if(p)return;p=!0,h(y,v)}}c.prototype.catch=function(k){return this.then(null,k)},c.prototype.then=function(k,y){var p=new this.constructor(l);return u(this,new m(k,y,p)),p},c.prototype.finally=s.a,c.all=function(k){return new c(function(y,p){if(!k||k.length===void 0)throw new TypeError("Promise.all accepts an array");var v=Array.prototype.slice.call(k);if(v.length===0)return y([]);var w=v.length;function x(_,S){try{if(S&&(typeof S=="object"||typeof S=="function")){var T=S.then;if(typeof T=="function")return void T.call(S,function(L){x(_,L)},p)}v[_]=S,--w==0&&y(v)}catch(L){p(L)}}for(var C=0;C<v.length;C++)x(C,v[C])})},c.resolve=function(k){return k&&typeof k=="object"&&k.constructor===c?k:new c(function(y){y(k)})},c.reject=function(k){return new c(function(y,p){p(k)})},c.race=function(k){return new c(function(y,p){for(var v=0,w=k.length;v<w;v++)k[v].then(y,p)})},c._immediateFn=typeof i=="function"&&function(k){i(k)}||function(k){a(k,0)},c._unhandledRejectionFn=function(k){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",k)},r.a=c}).call(this,o(5).setImmediate)},function(n,r,o){r.a=function(i){var s=this.constructor;return this.then(function(a){return s.resolve(i()).then(function(){return a})},function(a){return s.resolve(i()).then(function(){return s.reject(a)})})}},function(n,r,o){function i(g){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(k){return typeof k}:function(k){return k&&typeof Symbol=="function"&&k.constructor===Symbol&&k!==Symbol.prototype?"symbol":typeof k})(g)}o(4);var s,a,l,c,u,d,h,f=o(8),m=(a=function(g){return new Promise(function(k,y){g=c(g),(g=u(g)).beforeSend&&g.beforeSend();var p=window.XMLHttpRequest?new window.XMLHttpRequest:new window.ActiveXObject("Microsoft.XMLHTTP");p.open(g.method,g.url),p.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(g.headers).forEach(function(w){var x=g.headers[w];p.setRequestHeader(w,x)});var v=g.ratio;p.upload.addEventListener("progress",function(w){var x=Math.round(w.loaded/w.total*100),C=Math.ceil(x*v/100);g.progress(Math.min(C,100))},!1),p.addEventListener("progress",function(w){var x=Math.round(w.loaded/w.total*100),C=Math.ceil(x*(100-v)/100)+v;g.progress(Math.min(C,100))},!1),p.onreadystatechange=function(){if(p.readyState===4){var w=p.response;try{w=JSON.parse(w)}catch{}var x=f.parseHeaders(p.getAllResponseHeaders()),C={body:w,code:p.status,headers:x};h(p.status)?k(C):y(C)}},p.send(g.data)})},l=function(g){return g.method="POST",a(g)},c=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(g.url&&typeof g.url!="string")throw new Error("Url must be a string");if(g.url=g.url||"",g.method&&typeof g.method!="string")throw new Error("`method` must be a string or null");if(g.method=g.method?g.method.toUpperCase():"GET",g.headers&&i(g.headers)!=="object")throw new Error("`headers` must be an object or null");if(g.headers=g.headers||{},g.type&&(typeof g.type!="string"||!Object.values(s).includes(g.type)))throw new Error("`type` must be taken from module's contentType library");if(g.progress&&typeof g.progress!="function")throw new Error("`progress` must be a function or null");if(g.progress=g.progress||function(k){},g.beforeSend=g.beforeSend||function(k){},g.ratio&&typeof g.ratio!="number")throw new Error("`ratio` must be a number");if(g.ratio<0||g.ratio>100)throw new Error("`ratio` must be in a 0-100 interval");if(g.ratio=g.ratio||90,g.accept&&typeof g.accept!="string")throw new Error("`accept` must be a string with a list of allowed mime-types");if(g.accept=g.accept||"*/*",g.multiple&&typeof g.multiple!="boolean")throw new Error("`multiple` must be a true or false");if(g.multiple=g.multiple||!1,g.fieldName&&typeof g.fieldName!="string")throw new Error("`fieldName` must be a string");return g.fieldName=g.fieldName||"files",g},u=function(g){switch(g.method){case"GET":var k=d(g.data,s.URLENCODED);delete g.data,g.url=/\?/.test(g.url)?g.url+"&"+k:g.url+"?"+k;break;case"POST":case"PUT":case"DELETE":case"UPDATE":var y=function(){return(arguments.length>0&&arguments[0]!==void 0?arguments[0]:{}).type||s.JSON}(g);(f.isFormData(g.data)||f.isFormElement(g.data))&&(y=s.FORM),g.data=d(g.data,y),y!==m.contentType.FORM&&(g.headers["content-type"]=y)}return g},d=function(){var g=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};switch(arguments.length>1?arguments[1]:void 0){case s.URLENCODED:return f.urlEncode(g);case s.JSON:return f.jsonEncode(g);case s.FORM:return f.formEncode(g);default:return g}},h=function(g){return g>=200&&g<300},{contentType:s={URLENCODED:"application/x-www-form-urlencoded; charset=utf-8",FORM:"multipart/form-data",JSON:"application/json; charset=utf-8"},request:a,get:function(g){return g.method="GET",a(g)},post:l,transport:function(g){return g=c(g),f.selectFiles(g).then(function(k){for(var y=new FormData,p=0;p<k.length;p++)y.append(g.fieldName,k[p],k[p].name);f.isObject(g.data)&&Object.keys(g.data).forEach(function(w){var x=g.data[w];y.append(w,x)});var v=g.beforeSend;return g.beforeSend=function(){return v(k)},g.data=y,l(g)})},selectFiles:function(g){return delete(g=c(g)).beforeSend,f.selectFiles(g)}});n.exports=m},function(n,r,o){o.r(r);var i=o(1);window.Promise=window.Promise||i.a},function(n,r,o){(function(i){var s=i!==void 0&&i||typeof self<"u"&&self||window,a=Function.prototype.apply;function l(c,u){this._id=c,this._clearFn=u}r.setTimeout=function(){return new l(a.call(setTimeout,s,arguments),clearTimeout)},r.setInterval=function(){return new l(a.call(setInterval,s,arguments),clearInterval)},r.clearTimeout=r.clearInterval=function(c){c&&c.close()},l.prototype.unref=l.prototype.ref=function(){},l.prototype.close=function(){this._clearFn.call(s,this._id)},r.enroll=function(c,u){clearTimeout(c._idleTimeoutId),c._idleTimeout=u},r.unenroll=function(c){clearTimeout(c._idleTimeoutId),c._idleTimeout=-1},r._unrefActive=r.active=function(c){clearTimeout(c._idleTimeoutId);var u=c._idleTimeout;u>=0&&(c._idleTimeoutId=setTimeout(function(){c._onTimeout&&c._onTimeout()},u))},o(6),r.setImmediate=typeof self<"u"&&self.setImmediate||i!==void 0&&i.setImmediate||this&&this.setImmediate,r.clearImmediate=typeof self<"u"&&self.clearImmediate||i!==void 0&&i.clearImmediate||this&&this.clearImmediate}).call(this,o(0))},function(n,r,o){(function(i,s){(function(a,l){if(!a.setImmediate){var c,u,d,h,f,m=1,g={},k=!1,y=a.document,p=Object.getPrototypeOf&&Object.getPrototypeOf(a);p=p&&p.setTimeout?p:a,{}.toString.call(a.process)==="[object process]"?c=function(x){s.nextTick(function(){w(x)})}:function(){if(a.postMessage&&!a.importScripts){var x=!0,C=a.onmessage;return a.onmessage=function(){x=!1},a.postMessage("","*"),a.onmessage=C,x}}()?(h="setImmediate$"+Math.random()+"$",f=function(x){x.source===a&&typeof x.data=="string"&&x.data.indexOf(h)===0&&w(+x.data.slice(h.length))},a.addEventListener?a.addEventListener("message",f,!1):a.attachEvent("onmessage",f),c=function(x){a.postMessage(h+x,"*")}):a.MessageChannel?((d=new MessageChannel).port1.onmessage=function(x){w(x.data)},c=function(x){d.port2.postMessage(x)}):y&&"onreadystatechange"in y.createElement("script")?(u=y.documentElement,c=function(x){var C=y.createElement("script");C.onreadystatechange=function(){w(x),C.onreadystatechange=null,u.removeChild(C),C=null},u.appendChild(C)}):c=function(x){setTimeout(w,0,x)},p.setImmediate=function(x){typeof x!="function"&&(x=new Function(""+x));for(var C=new Array(arguments.length-1),_=0;_<C.length;_++)C[_]=arguments[_+1];var S={callback:x,args:C};return g[m]=S,c(m),m++},p.clearImmediate=v}function v(x){delete g[x]}function w(x){if(k)setTimeout(w,0,x);else{var C=g[x];if(C){k=!0;try{(function(_){var S=_.callback,T=_.args;switch(T.length){case 0:S();break;case 1:S(T[0]);break;case 2:S(T[0],T[1]);break;case 3:S(T[0],T[1],T[2]);break;default:S.apply(l,T)}})(C)}finally{v(x),k=!1}}}}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,o(0),o(7))},function(n,r){var o,i,s=n.exports={};function a(){throw new Error("setTimeout has not been defined")}function l(){throw new Error("clearTimeout has not been defined")}function c(p){if(o===setTimeout)return setTimeout(p,0);if((o===a||!o)&&setTimeout)return o=setTimeout,setTimeout(p,0);try{return o(p,0)}catch{try{return o.call(null,p,0)}catch{return o.call(this,p,0)}}}(function(){try{o=typeof setTimeout=="function"?setTimeout:a}catch{o=a}try{i=typeof clearTimeout=="function"?clearTimeout:l}catch{i=l}})();var u,d=[],h=!1,f=-1;function m(){h&&u&&(h=!1,u.length?d=u.concat(d):f=-1,d.length&&g())}function g(){if(!h){var p=c(m);h=!0;for(var v=d.length;v;){for(u=d,d=[];++f<v;)u&&u[f].run();f=-1,v=d.length}u=null,h=!1,function(w){if(i===clearTimeout)return clearTimeout(w);if((i===l||!i)&&clearTimeout)return i=clearTimeout,clearTimeout(w);try{i(w)}catch{try{return i.call(null,w)}catch{return i.call(this,w)}}}(p)}}function k(p,v){this.fun=p,this.array=v}function y(){}s.nextTick=function(p){var v=new Array(arguments.length-1);if(arguments.length>1)for(var w=1;w<arguments.length;w++)v[w-1]=arguments[w];d.push(new k(p,v)),d.length!==1||h||c(g)},k.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=y,s.addListener=y,s.once=y,s.off=y,s.removeListener=y,s.removeAllListeners=y,s.emit=y,s.prependListener=y,s.prependOnceListener=y,s.listeners=function(p){return[]},s.binding=function(p){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(p){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(n,r,o){function i(a,l){for(var c=0;c<l.length;c++){var u=l[c];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}var s=o(9);n.exports=function(){function a(){(function(d,h){if(!(d instanceof h))throw new TypeError("Cannot call a class as a function")})(this,a)}var l,c,u;return l=a,u=[{key:"urlEncode",value:function(d){return s(d)}},{key:"jsonEncode",value:function(d){return JSON.stringify(d)}},{key:"formEncode",value:function(d){if(this.isFormData(d))return d;if(this.isFormElement(d))return new FormData(d);if(this.isObject(d)){var h=new FormData;return Object.keys(d).forEach(function(f){var m=d[f];h.append(f,m)}),h}throw new Error("`data` must be an instance of Object, FormData or <FORM> HTMLElement")}},{key:"isObject",value:function(d){return Object.prototype.toString.call(d)==="[object Object]"}},{key:"isFormData",value:function(d){return d instanceof FormData}},{key:"isFormElement",value:function(d){return d instanceof HTMLFormElement}},{key:"selectFiles",value:function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return new Promise(function(h,f){var m=document.createElement("INPUT");m.type="file",d.multiple&&m.setAttribute("multiple","multiple"),d.accept&&m.setAttribute("accept",d.accept),m.style.display="none",document.body.appendChild(m),m.addEventListener("change",function(g){var k=g.target.files;h(k),document.body.removeChild(m)},!1),m.click()})}},{key:"parseHeaders",value:function(d){var h=d.trim().split(/[\r\n]+/),f={};return h.forEach(function(m){var g=m.split(": "),k=g.shift(),y=g.join(": ");k&&(f[k]=y)}),f}}],(c=null)&&i(l.prototype,c),u&&i(l,u),a}()},function(n,r){var o=function(s){return encodeURIComponent(s).replace(/[!'()*]/g,escape).replace(/%20/g,"+")},i=function(s,a,l,c){return a=a||null,l=l||"&",c=c||null,s?function(u){for(var d=new Array,h=0;h<u.length;h++)u[h]&&d.push(u[h]);return d}(Object.keys(s).map(function(u){var d,h,f=u;if(c&&(f=c+"["+f+"]"),typeof s[u]=="object"&&s[u]!==null)d=i(s[u],null,l,f);else{a&&(h=f,f=!isNaN(parseFloat(h))&&isFinite(h)?a+Number(f):f);var m=s[u];m=(m=(m=(m=m===!0?"1":m)===!1?"0":m)===0?"0":m)||"",d=o(f)+"="+o(m)}return d})).join(l).replace(/[!'()*]/g,""):""};n.exports=i}])})})(Rw);var vO=Rw.exports;const Vr=gO(vO);function su(t){return t&&typeof t.then=="function"}class yO{constructor({config:e,onUpload:n,onError:r}){this.config=e,this.onUpload=n,this.onError=r}uploadSelectedFile({onPreview:e}){const n=function(o){const i=new FileReader;i.readAsDataURL(o),i.onload=s=>{e(s.target.result)}};let r;this.config.uploader&&typeof this.config.uploader.uploadByFile=="function"?r=Vr.selectFiles({accept:this.config.types}).then(o=>{n(o[0]);const i=this.config.uploader.uploadByFile(o[0]);return su(i)||console.warn("Custom uploader method uploadByFile should return a Promise"),i}):r=Vr.transport({url:this.config.endpoints.byFile,data:this.config.additionalRequestData,accept:this.config.types,headers:this.config.additionalRequestHeaders,beforeSend:o=>{n(o[0])},fieldName:this.config.field}).then(o=>o.body),r.then(o=>{this.onUpload(o)}).catch(o=>{this.onError(o)})}uploadByUrl(e){let n;this.config.uploader&&typeof this.config.uploader.uploadByUrl=="function"?(n=this.config.uploader.uploadByUrl(e),su(n)||console.warn("Custom uploader method uploadByUrl should return a Promise")):n=Vr.post({url:this.config.endpoints.byUrl,data:Object.assign({url:e},this.config.additionalRequestData),type:Vr.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(r=>r.body),n.then(r=>{this.onUpload(r)}).catch(r=>{this.onError(r)})}uploadByFile(e,{onPreview:n}){const r=new FileReader;r.readAsDataURL(e),r.onload=i=>{n(i.target.result)};let o;if(this.config.uploader&&typeof this.config.uploader.uploadByFile=="function")o=this.config.uploader.uploadByFile(e),su(o)||console.warn("Custom uploader method uploadByFile should return a Promise");else{const i=new FormData;i.append(this.config.field,e),this.config.additionalRequestData&&Object.keys(this.config.additionalRequestData).length&&Object.entries(this.config.additionalRequestData).forEach(([s,a])=>{i.append(s,a)}),o=Vr.post({url:this.config.endpoints.byFile,data:i,type:Vr.contentType.JSON,headers:this.config.additionalRequestHeaders}).then(s=>s.body)}o.then(i=>{this.onUpload(i)}).catch(i=>{this.onError(i)})}}/**
 * Image Tool for the Editor.js
 *
 * @author CodeX <team@codex.so>
 * @license MIT
 * @see {@link https://github.com/editor-js/image}
 *
 * To developers.
 * To simplify Tool structure, we split it to 4 parts:
 *  1) index.js  main Tool's interface, public API and methods for working with data
 *  2) uploader.js  module that has methods for sending files via AJAX: from device, by URL or File pasting
 *  3) ui.js  module for UI manipulations: render, showing preloader, etc
 *  4) tunes.js  working with Block Tunes: render buttons, handle clicks
 *
 * For debug purposes there is a testing server
 * that can save uploaded files and return a Response {@link UploadResponseFormat}
 *
 *       $ node dev/server.js
 *
 * It will expose 8008 port, so you can pass http://localhost:8008 with the Tools config:
 *
 * image: {
 *   class: ImageTool,
 *   config: {
 *     endpoints: {
 *       byFile: 'http://localhost:8008/uploadFile',
 *       byUrl: 'http://localhost:8008/fetchUrl',
 *     }
 *   },
 * },
 */class gl{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:Nw,title:"Image"}}static get tunes(){return[{name:"withBorder",icon:pO,title:"With border",toggle:!0},{name:"stretched",icon:mO,title:"Stretch image",toggle:!0},{name:"withBackground",icon:fO,title:"With background",toggle:!0}]}constructor({data:e,config:n,api:r,readOnly:o,block:i}){this.api=r,this.readOnly=o,this.block=i,this.config={endpoints:n.endpoints||"",additionalRequestData:n.additionalRequestData||{},additionalRequestHeaders:n.additionalRequestHeaders||{},field:n.field||"image",types:n.types||"image/*",captionPlaceholder:this.api.i18n.t(n.captionPlaceholder||"Caption"),buttonContent:n.buttonContent||"",uploader:n.uploader||void 0,actions:n.actions||[]},this.uploader=new yO({config:this.config,onUpload:s=>this.onUpload(s),onError:s=>this.uploadingFailed(s)}),this.ui=new yt({api:r,config:this.config,onSelectFile:()=>{this.uploader.uploadSelectedFile({onPreview:s=>{this.ui.showPreloader(s)}})},readOnly:o}),this._data={},this.data=e}render(){return this.ui.render(this.data)}validate(e){return e.file&&e.file.url}save(){const e=this.ui.nodes.caption;return this._data.caption=e.innerHTML,this.data}renderSettings(){return gl.tunes.concat(this.config.actions).map(e=>({icon:e.icon,label:this.api.i18n.t(e.title),name:e.name,toggle:e.toggle,isActive:this.data[e.name],onActivate:()=>{if(typeof e.action=="function"){e.action(e.name);return}this.tuneToggled(e.name)}}))}appendCallback(){this.ui.nodes.fileButton.click()}static get pasteConfig(){return{tags:[{img:{src:!0}}],patterns:{image:/https?:\/\/\S+\.(gif|jpe?g|tiff|png|svg|webp)(\?[a-z0-9=]*)?$/i},files:{mimeTypes:["image/*"]}}}async onPaste(e){switch(e.type){case"tag":{const n=e.detail.data;if(/^blob:/.test(n.src)){const r=await(await fetch(n.src)).blob();this.uploadFile(r);break}this.uploadUrl(n.src);break}case"pattern":{const n=e.detail.data;this.uploadUrl(n);break}case"file":{const n=e.detail.file;this.uploadFile(n);break}}}set data(e){this.image=e.file,this._data.caption=e.caption||"",this.ui.fillCaption(this._data.caption),gl.tunes.forEach(({name:n})=>{const r=typeof e[n]<"u"?e[n]===!0||e[n]==="true":!1;this.setTune(n,r)})}get data(){return this._data}set image(e){this._data.file=e||{},e&&e.url&&this.ui.fillImage(e.url)}onUpload(e){e.success&&e.file?this.image=e.file:this.uploadingFailed("incorrect response: "+JSON.stringify(e))}uploadingFailed(e){console.log("Image Tool: uploading failed because of",e),this.api.notifier.show({message:this.api.i18n.t("Couldnt upload image. Please try another."),style:"error"}),this.ui.hidePreloader()}tuneToggled(e){this.setTune(e,!this._data[e])}setTune(e,n){this._data[e]=n,this.ui.applyTune(e,n),e==="stretched"&&Promise.resolve().then(()=>{this.block.stretched=n}).catch(r=>{console.error(r)})}uploadFile(e){this.uploader.uploadByFile(e,{onPreview:n=>{this.ui.showPreloader(n)}})}uploadUrl(e){this.ui.showPreloader(e),this.uploader.uploadByUrl(e)}}var Ow={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(window,function(){return function(n){var r={};function o(i){if(r[i])return r[i].exports;var s=r[i]={i,l:!1,exports:{}};return n[i].call(s.exports,s,s.exports,o),s.l=!0,s.exports}return o.m=n,o.c=r,o.d=function(i,s,a){o.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:a})},o.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},o.t=function(i,s){if(1&s&&(i=o(i)),8&s||4&s&&typeof i=="object"&&i&&i.__esModule)return i;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:i}),2&s&&typeof i!="string")for(var l in i)o.d(a,l,(function(c){return i[c]}).bind(null,l));return a},o.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return o.d(s,"a",s),s},o.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},o.p="/",o(o.s=5)}([function(n,r,o){var i=o(1);typeof i=="string"&&(i=[[n.i,i,""]]);var s={hmr:!0,transform:void 0,insertInto:void 0};o(3)(i,s),i.locals&&(n.exports=i.locals)},function(n,r,o){(n.exports=o(2)(!1)).push([n.i,`/**
 * Plugin styles
 */
.ce-header {
  padding: 0.6em 0 3px;
  margin: 0;
  line-height: 1.25em;
  outline: none;
}

.ce-header p,
.ce-header div{
  padding: 0 !important;
  margin: 0 !important;
}

/**
 * Styles for Plugin icon in Toolbar
 */
.ce-header__icon {}

.ce-header[contentEditable=true][data-placeholder]::before{
  position: absolute;
  content: attr(data-placeholder);
  color: #707684;
  font-weight: normal;
  display: none;
  cursor: text;
}

.ce-header[contentEditable=true][data-placeholder]:empty::before {
  display: block;
}

.ce-header[contentEditable=true][data-placeholder]:empty:focus::before {
  display: none;
}
`,""])},function(n,r){n.exports=function(o){var i=[];return i.toString=function(){return this.map(function(s){var a=function(l,c){var u=l[1]||"",d=l[3];if(!d)return u;if(c&&typeof btoa=="function"){var h=(m=d,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(m))))+" */"),f=d.sources.map(function(g){return"/*# sourceURL="+d.sourceRoot+g+" */"});return[u].concat(f).concat([h]).join(`
`)}var m;return[u].join(`
`)}(s,o);return s[2]?"@media "+s[2]+"{"+a+"}":a}).join("")},i.i=function(s,a){typeof s=="string"&&(s=[[null,s,""]]);for(var l={},c=0;c<this.length;c++){var u=this[c][0];typeof u=="number"&&(l[u]=!0)}for(c=0;c<s.length;c++){var d=s[c];typeof d[0]=="number"&&l[d[0]]||(a&&!d[2]?d[2]=a:a&&(d[2]="("+d[2]+") and ("+a+")"),i.push(d))}},i}},function(n,r,o){var i,s,a={},l=(i=function(){return window&&document&&document.all&&!window.atob},function(){return s===void 0&&(s=i.apply(this,arguments)),s}),c=function(B){return document.querySelector(B)},u=function(B){var P={};return function(R){if(typeof R=="function")return R();if(P[R]===void 0){var D=c.call(this,R);if(window.HTMLIFrameElement&&D instanceof window.HTMLIFrameElement)try{D=D.contentDocument.head}catch{D=null}P[R]=D}return P[R]}}(),d=null,h=0,f=[],m=o(4);function g(B,P){for(var R=0;R<B.length;R++){var D=B[R],M=a[D.id];if(M){M.refs++;for(var F=0;F<M.parts.length;F++)M.parts[F](D.parts[F]);for(;F<D.parts.length;F++)M.parts.push(x(D.parts[F],P))}else{var G=[];for(F=0;F<D.parts.length;F++)G.push(x(D.parts[F],P));a[D.id]={id:D.id,refs:1,parts:G}}}}function k(B,P){for(var R=[],D={},M=0;M<B.length;M++){var F=B[M],G=P.base?F[0]+P.base:F[0],N={css:F[1],media:F[2],sourceMap:F[3]};D[G]?D[G].parts.push(N):R.push(D[G]={id:G,parts:[N]})}return R}function y(B,P){var R=u(B.insertInto);if(!R)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var D=f[f.length-1];if(B.insertAt==="top")D?D.nextSibling?R.insertBefore(P,D.nextSibling):R.appendChild(P):R.insertBefore(P,R.firstChild),f.push(P);else if(B.insertAt==="bottom")R.appendChild(P);else{if(typeof B.insertAt!="object"||!B.insertAt.before)throw new Error(`[Style Loader]

 Invalid value for parameter 'insertAt' ('options.insertAt') found.
 Must be 'top', 'bottom', or Object.
 (https://github.com/webpack-contrib/style-loader#insertat)
`);var M=u(B.insertInto+" "+B.insertAt.before);R.insertBefore(P,M)}}function p(B){if(B.parentNode===null)return!1;B.parentNode.removeChild(B);var P=f.indexOf(B);P>=0&&f.splice(P,1)}function v(B){var P=document.createElement("style");return B.attrs.type===void 0&&(B.attrs.type="text/css"),w(P,B.attrs),y(B,P),P}function w(B,P){Object.keys(P).forEach(function(R){B.setAttribute(R,P[R])})}function x(B,P){var R,D,M,F;if(P.transform&&B.css){if(!(F=P.transform(B.css)))return function(){};B.css=F}if(P.singleton){var G=h++;R=d||(d=v(P)),D=S.bind(null,R,G,!1),M=S.bind(null,R,G,!0)}else B.sourceMap&&typeof URL=="function"&&typeof URL.createObjectURL=="function"&&typeof URL.revokeObjectURL=="function"&&typeof Blob=="function"&&typeof btoa=="function"?(R=function(N){var U=document.createElement("link");return N.attrs.type===void 0&&(N.attrs.type="text/css"),N.attrs.rel="stylesheet",w(U,N.attrs),y(N,U),U}(P),D=L.bind(null,R,P),M=function(){p(R),R.href&&URL.revokeObjectURL(R.href)}):(R=v(P),D=T.bind(null,R),M=function(){p(R)});return D(B),function(N){if(N){if(N.css===B.css&&N.media===B.media&&N.sourceMap===B.sourceMap)return;D(B=N)}else M()}}n.exports=function(B,P){if(typeof DEBUG<"u"&&DEBUG&&typeof document!="object")throw new Error("The style-loader cannot be used in a non-browser environment");(P=P||{}).attrs=typeof P.attrs=="object"?P.attrs:{},P.singleton||typeof P.singleton=="boolean"||(P.singleton=l()),P.insertInto||(P.insertInto="head"),P.insertAt||(P.insertAt="bottom");var R=k(B,P);return g(R,P),function(D){for(var M=[],F=0;F<R.length;F++){var G=R[F];(N=a[G.id]).refs--,M.push(N)}for(D&&g(k(D,P),P),F=0;F<M.length;F++){var N;if((N=M[F]).refs===0){for(var U=0;U<N.parts.length;U++)N.parts[U]();delete a[N.id]}}}};var C,_=(C=[],function(B,P){return C[B]=P,C.filter(Boolean).join(`
`)});function S(B,P,R,D){var M=R?"":D.css;if(B.styleSheet)B.styleSheet.cssText=_(P,M);else{var F=document.createTextNode(M),G=B.childNodes;G[P]&&B.removeChild(G[P]),G.length?B.insertBefore(F,G[P]):B.appendChild(F)}}function T(B,P){var R=P.css,D=P.media;if(D&&B.setAttribute("media",D),B.styleSheet)B.styleSheet.cssText=R;else{for(;B.firstChild;)B.removeChild(B.firstChild);B.appendChild(document.createTextNode(R))}}function L(B,P,R){var D=R.css,M=R.sourceMap,F=P.convertToAbsoluteUrls===void 0&&M;(P.convertToAbsoluteUrls||F)&&(D=m(D)),M&&(D+=`
/*# sourceMappingURL=data:application/json;base64,`+btoa(unescape(encodeURIComponent(JSON.stringify(M))))+" */");var G=new Blob([D],{type:"text/css"}),N=B.href;B.href=URL.createObjectURL(G),N&&URL.revokeObjectURL(N)}},function(n,r){n.exports=function(o){var i=typeof window<"u"&&window.location;if(!i)throw new Error("fixUrls requires window.location");if(!o||typeof o!="string")return o;var s=i.protocol+"//"+i.host,a=s+i.pathname.replace(/\/[^\/]*$/,"/");return o.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(l,c){var u,d=c.trim().replace(/^"(.*)"$/,function(h,f){return f}).replace(/^'(.*)'$/,function(h,f){return f});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(d)?l:(u=d.indexOf("//")===0?d:d.indexOf("/")===0?s+d:a+d.replace(/^\.\//,""),"url("+JSON.stringify(u)+")")})}},function(n,r,o){o.r(r),o.d(r,"default",function(){return a}),o(0);function i(l){return(i=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(l)}function s(l,c){for(var u=0;u<c.length;u++){var d=c[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}/**
 * Header block for the Editor.js.
 *
 * @author CodeX (team@ifmo.su)
 * @copyright CodeX 2018
 * @license MIT
 * @version 2.0.0
 */var a=function(){function l(h){var f=h.data,m=h.config,g=h.api,k=h.readOnly;(function(y,p){if(!(y instanceof p))throw new TypeError("Cannot call a class as a function")})(this,l),this.api=g,this.readOnly=k,this._CSS={block:this.api.styles.block,wrapper:"ce-header"},this._settings=m,this._data=this.normalizeData(f),this._element=this.getTag()}var c,u,d;return c=l,d=[{key:"conversionConfig",get:function(){return{export:"text",import:"text"}}},{key:"sanitize",get:function(){return{level:!1,text:{}}}},{key:"isReadOnlySupported",get:function(){return!0}},{key:"pasteConfig",get:function(){return{tags:["H1","H2","H3","H4","H5","H6"]}}},{key:"toolbox",get:function(){return{icon:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9 7L9 12M9 17V12M9 12L15 12M15 7V12M15 17L15 12"/></svg>',title:"Heading"}}}],(u=[{key:"normalizeData",value:function(h){var f={};return i(h)!=="object"&&(h={}),f.text=h.text||"",f.level=parseInt(h.level)||this.defaultLevel.number,f}},{key:"render",value:function(){return this._element}},{key:"renderSettings",value:function(){var h=this;return this.levels.map(function(f){return{icon:f.svg,label:h.api.i18n.t("Heading ".concat(f.number)),onActivate:function(){return h.setLevel(f.number)},closeOnActivate:!0,isActive:h.currentLevel.number===f.number}})}},{key:"setLevel",value:function(h){this.data={level:h,text:this.data.text}}},{key:"merge",value:function(h){var f={text:this.data.text+h.text,level:this.data.level};this.data=f}},{key:"validate",value:function(h){return h.text.trim()!==""}},{key:"save",value:function(h){return{text:h.innerHTML,level:this.currentLevel.number}}},{key:"getTag",value:function(){var h=document.createElement(this.currentLevel.tag);return h.innerHTML=this._data.text||"",h.classList.add(this._CSS.wrapper),h.contentEditable=this.readOnly?"false":"true",h.dataset.placeholder=this.api.i18n.t(this._settings.placeholder||""),h}},{key:"onPaste",value:function(h){var f=h.detail.data,m=this.defaultLevel.number;switch(f.tagName){case"H1":m=1;break;case"H2":m=2;break;case"H3":m=3;break;case"H4":m=4;break;case"H5":m=5;break;case"H6":m=6}this._settings.levels&&(m=this._settings.levels.reduce(function(g,k){return Math.abs(k-m)<Math.abs(g-m)?k:g})),this.data={level:m,text:f.innerHTML}}},{key:"data",get:function(){return this._data.text=this._element.innerHTML,this._data.level=this.currentLevel.number,this._data},set:function(h){if(this._data=this.normalizeData(h),h.level!==void 0&&this._element.parentNode){var f=this.getTag();f.innerHTML=this._element.innerHTML,this._element.parentNode.replaceChild(f,this._element),this._element=f}h.text!==void 0&&(this._element.innerHTML=this._data.text||"")}},{key:"currentLevel",get:function(){var h=this,f=this.levels.find(function(m){return m.number===h._data.level});return f||(f=this.defaultLevel),f}},{key:"defaultLevel",get:function(){var h=this;if(this._settings.defaultLevel){var f=this.levels.find(function(m){return m.number===h._settings.defaultLevel});if(f)return f;console.warn("('-') Heading Tool: the default level specified was not found in available levels")}return this.levels[1]}},{key:"levels",get:function(){var h=this,f=[{number:1,tag:"H1",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19 17V10.2135C19 10.1287 18.9011 10.0824 18.836 10.1367L16 12.5"/></svg>'},{number:2,tag:"H2",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10 19 9.5 19 12C19 13.9771 16.0684 13.9997 16.0012 16.8981C15.9999 16.9533 16.0448 17 16.1 17L19.3 17"/></svg>'},{number:3,tag:"H3",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 11C16 10.5 16.8323 10 17.6 10C18.3677 10 19.5 10.311 19.5 11.5C19.5 12.5315 18.7474 12.9022 18.548 12.9823C18.5378 12.9864 18.5395 13.0047 18.5503 13.0063C18.8115 13.0456 20 13.3065 20 14.8C20 16 19.5 17 17.8 17C17.8 17 16 17 16 16.3"/></svg>'},{number:4,tag:"H4",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 10L15.2834 14.8511C15.246 14.9178 15.294 15 15.3704 15C16.8489 15 18.7561 15 20.2 15M19 17C19 15.7187 19 14.8813 19 13.6"/></svg>'},{number:5,tag:"H5",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 15.9C16 15.9 16.3768 17 17.8 17C19.5 17 20 15.6199 20 14.7C20 12.7323 17.6745 12.0486 16.1635 12.9894C16.094 13.0327 16 12.9846 16 12.9027V10.1C16 10.0448 16.0448 10 16.1 10H19.8"/></svg>'},{number:6,tag:"H6",svg:'<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M6 7L6 12M6 17L6 12M6 12L12 12M12 7V12M12 17L12 12"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M19.5 10C16.5 10.5 16 13.3285 16 15M16 15V15C16 16.1046 16.8954 17 18 17H18.3246C19.3251 17 20.3191 16.3492 20.2522 15.3509C20.0612 12.4958 16 12.6611 16 15Z"/></svg>'}];return this._settings.levels?f.filter(function(m){return h._settings.levels.includes(m.number)}):f}}])&&s(c.prototype,u),d&&s(c,d),l}()}]).default})})(Ow);var bO=Ow.exports;const wO=nv(bO);(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-marker{background:rgba(245,235,111,.29);padding:3px 0}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const kO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-width="2" d="M11.3536 9.31802L12.7678 7.90381C13.5488 7.12276 14.8151 7.12276 15.5962 7.90381C16.3772 8.68486 16.3772 9.95119 15.5962 10.7322L14.182 12.1464M11.3536 9.31802L7.96729 12.7043C7.40889 13.2627 7.02827 13.9739 6.8734 14.7482L6.69798 15.6253C6.55804 16.325 7.17496 16.942 7.87468 16.802L8.75176 16.6266C9.52612 16.4717 10.2373 16.0911 10.7957 15.5327L14.182 12.1464M11.3536 9.31802L14.182 12.1464"/><line x1="15" x2="19" y1="17" y2="17" stroke="currentColor" stroke-linecap="round" stroke-width="2"/></svg>';let xO=class ui{static get CSS(){return"cdx-marker"}constructor({api:e}){this.api=e,this.button=null,this.tag="MARK",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let n=this.api.selection.findParentTag(this.tag,ui.CSS);n?this.unwrap(n):this.wrap(e)}wrap(e){let n=document.createElement(this.tag);n.classList.add(ui.CSS),n.appendChild(e.extractContents()),e.insertNode(n),this.api.selection.expandToTag(n)}unwrap(e){this.api.selection.expandToTag(e);let n=window.getSelection(),r=n.getRangeAt(0),o=r.extractContents();e.parentNode.removeChild(e),r.insertNode(o),n.removeAllRanges(),n.addRange(r)}checkState(){const e=this.api.selection.findParentTag(this.tag,ui.CSS);this.button.classList.toggle(this.iconClasses.active,!!e)}get toolboxIcon(){return kO}static get sanitize(){return{mark:{class:ui.CSS}}}};(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".cdx-quote-icon svg{transform:rotate(180deg)}.cdx-quote{margin:0}.cdx-quote__text{min-height:158px;margin-bottom:10px}.cdx-quote [contentEditable=true][data-placeholder]:before{position:absolute;content:attr(data-placeholder);color:#707684;font-weight:400;opacity:0}.cdx-quote [contentEditable=true][data-placeholder]:empty:before{opacity:1}.cdx-quote [contentEditable=true][data-placeholder]:empty:focus:before{opacity:0}.cdx-quote-settings{display:flex}.cdx-quote-settings .cdx-settings-button{width:50%}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const EO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 7L6 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M18 17H6"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M16 12L8 12"/></svg>',SO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 7L5 7"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M17 17H5"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M13 12L5 12"/></svg>',CO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 10.8182L9 10.8182C8.80222 10.8182 8.60888 10.7649 8.44443 10.665C8.27998 10.5651 8.15181 10.4231 8.07612 10.257C8.00043 10.0909 7.98063 9.90808 8.01922 9.73174C8.0578 9.55539 8.15304 9.39341 8.29289 9.26627C8.43275 9.13913 8.61093 9.05255 8.80491 9.01747C8.99889 8.98239 9.19996 9.00039 9.38268 9.0692C9.56541 9.13801 9.72159 9.25453 9.83147 9.40403C9.94135 9.55353 10 9.72929 10 9.90909L10 12.1818C10 12.664 9.78929 13.1265 9.41421 13.4675C9.03914 13.8084 8.53043 14 8 14"/><path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 10.8182L15 10.8182C14.8022 10.8182 14.6089 10.7649 14.4444 10.665C14.28 10.5651 14.1518 10.4231 14.0761 10.257C14.0004 10.0909 13.9806 9.90808 14.0192 9.73174C14.0578 9.55539 14.153 9.39341 14.2929 9.26627C14.4327 9.13913 14.6109 9.05255 14.8049 9.01747C14.9989 8.98239 15.2 9.00039 15.3827 9.0692C15.5654 9.13801 15.7216 9.25453 15.8315 9.40403C15.9414 9.55353 16 9.72929 16 9.90909L16 12.1818C16 12.664 15.7893 13.1265 15.4142 13.4675C15.0391 13.8084 14.5304 14 14 14"/></svg>';class uo{static get isReadOnlySupported(){return!0}static get toolbox(){return{icon:CO,title:"Quote"}}static get contentless(){return!0}static get enableLineBreaks(){return!0}static get DEFAULT_QUOTE_PLACEHOLDER(){return"Enter a quote"}static get DEFAULT_CAPTION_PLACEHOLDER(){return"Enter a caption"}static get ALIGNMENTS(){return{left:"left",center:"center"}}static get DEFAULT_ALIGNMENT(){return uo.ALIGNMENTS.left}static get conversionConfig(){return{import:"text",export:function(e){return e.caption?`${e.text}  ${e.caption}`:e.text}}}get CSS(){return{baseClass:this.api.styles.block,wrapper:"cdx-quote",text:"cdx-quote__text",input:this.api.styles.input,caption:"cdx-quote__caption"}}get settings(){return[{name:"left",icon:SO},{name:"center",icon:EO}]}constructor({data:e,config:n,api:r,readOnly:o}){const{ALIGNMENTS:i,DEFAULT_ALIGNMENT:s}=uo;this.api=r,this.readOnly=o,this.quotePlaceholder=n.quotePlaceholder||uo.DEFAULT_QUOTE_PLACEHOLDER,this.captionPlaceholder=n.captionPlaceholder||uo.DEFAULT_CAPTION_PLACEHOLDER,this.data={text:e.text||"",caption:e.caption||"",alignment:Object.values(i).includes(e.alignment)&&e.alignment||n.defaultAlignment||s}}render(){const e=this._make("blockquote",[this.CSS.baseClass,this.CSS.wrapper]),n=this._make("div",[this.CSS.input,this.CSS.text],{contentEditable:!this.readOnly,innerHTML:this.data.text}),r=this._make("div",[this.CSS.input,this.CSS.caption],{contentEditable:!this.readOnly,innerHTML:this.data.caption});return n.dataset.placeholder=this.quotePlaceholder,r.dataset.placeholder=this.captionPlaceholder,e.appendChild(n),e.appendChild(r),e}save(e){const n=e.querySelector(`.${this.CSS.text}`),r=e.querySelector(`.${this.CSS.caption}`);return Object.assign(this.data,{text:n.innerHTML,caption:r.innerHTML})}static get sanitize(){return{text:{br:!0},caption:{br:!0},alignment:{}}}renderSettings(){const e=n=>n[0].toUpperCase()+n.substr(1);return this.settings.map(n=>({icon:n.icon,label:this.api.i18n.t(`Align ${e(n.name)}`),onActivate:()=>this._toggleTune(n.name),isActive:this.data.alignment===n.name,closeOnActivate:!0}))}_toggleTune(e){this.data.alignment=e}_make(e,n=null,r={}){const o=document.createElement(e);Array.isArray(n)?o.classList.add(...n):n&&o.classList.add(n);for(const i in r)o[i]=r[i];return o}}(function(){try{if(typeof document<"u"){var t=document.createElement("style");t.appendChild(document.createTextNode(".inline-code{background:rgba(250,239,240,.78);color:#b44437;padding:3px 4px;border-radius:5px;margin:0 1px;font-family:inherit;font-size:.86em;font-weight:500;letter-spacing:.3px}")),document.head.appendChild(t)}}catch(e){console.error("vite-plugin-css-injected-by-js",e)}})();const TO='<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="none" viewBox="0 0 24 24"><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M9.5 8L6.11524 11.8683C6.04926 11.9437 6.04926 12.0563 6.11524 12.1317L9.5 16"/><path stroke="currentColor" stroke-linecap="round" stroke-width="2" d="M15 8L18.3848 11.8683C18.4507 11.9437 18.4507 12.0563 18.3848 12.1317L15 16"/></svg>';class ho{static get CSS(){return"inline-code"}constructor({api:e}){this.api=e,this.button=null,this.tag="CODE",this.iconClasses={base:this.api.styles.inlineToolButton,active:this.api.styles.inlineToolButtonActive}}static get isInline(){return!0}render(){return this.button=document.createElement("button"),this.button.type="button",this.button.classList.add(this.iconClasses.base),this.button.innerHTML=this.toolboxIcon,this.button}surround(e){if(!e)return;let n=this.api.selection.findParentTag(this.tag,ho.CSS);n?this.unwrap(n):this.wrap(e)}wrap(e){let n=document.createElement(this.tag);n.classList.add(ho.CSS),n.appendChild(e.extractContents()),e.insertNode(n),this.api.selection.expandToTag(n)}unwrap(e){this.api.selection.expandToTag(e);let n=window.getSelection(),r=n.getRangeAt(0),o=r.extractContents();e.parentNode.removeChild(e),r.insertNode(o),n.removeAllRanges(),n.addRange(r)}checkState(){const e=this.api.selection.findParentTag(this.tag,ho.CSS);this.button.classList.toggle(this.iconClasses.active,!!e)}get toolboxIcon(){return TO}static get sanitize(){return{code:{class:ho.CSS}}}}const _O=t=>sw(t).then(e=>{if(e)return{success:1,file:{url:e}}}),IO=async t=>new Promise((n,r)=>{try{n(t)}catch(o){r(o)}}).then(n=>({success:1,file:{url:n}})),BO={embed:Cn,list:{class:hO,inlineToolbar:!0},image:{class:gl,config:{uploader:{uploadByUrl:IO,uploadByFile:_O}}},header:{class:wO,config:{placeholder:"Type Heading...",levels:[2,3],defaultLevels:2}},quote:{class:uo,inlineToolbar:!0},marker:xO,inlineCode:ho},AO=()=>{let[t,e]=E.useState(iw),{blog:n,blog:{title:r,banner:o,content:i,tags:s,des:a},setBlog:l,textEditor:c,SetTextEditor:u,setEditorState:d}=E.useContext(nc),{UserAuth:{access_token:h}}=E.useContext(ir),f=ls();E.useEffect(()=>{c.isReady||u(new lO({holderId:"textEditor",data:i,tools:BO,placeholder:"Let's write an awesome story"}))},[]);const m=async v=>{let w=X.loading("Uploading..."),x=v.target.files[0];const C=await sw(x).then(_=>{e(_),l({...n,banner:_}),X.dismiss(w),X.success("Uploaded ")}).catch(_=>{console.log("errro hai bhai>",_),X.error("Error in uplaoding the Image")});console.log("image url in main>>>>",C)};E.useEffect(()=>{console.log("banner image is >>",t)},[t]);const g=v=>{v.keyCode==13&&v.preventDefault()},k=v=>{let w=v.target;w.style.height="auto",w.style.height=w.scrollHeight+"px",l({...n,title:w.value})},y=()=>{if(!o.length)return X.error("upload a banner to publish your blog");if(!r.length)return X.error("Write a Title to publish your blog");c.isReady&&c.save().then(v=>{if(v.blocks.length)l({...n,content:v}),d("publish");else return X.error("write something in the blog to publish it")}).catch(v=>{console.log(v)})},p=v=>{if(v.target.className.includes("disable"))return;if(!r.length)return X.error("Write blog title before saving it to draft");let w=X.loading("saving draft...");v.target.classList.add("disable"),c.isReady&&c.save().then(x=>{let C={title:r,banner:o,des:a,content:x,tags:s,draft:!0};Be.post("https://b-bloggy.onrender.com/create-blog",C,{headers:{Authorization:`Bearer ${h} `}}).then(()=>{v.target.classList.remove("disable"),X.dismiss(w),X.success("published "),setTimeout(()=>{f("/")},500)}).catch(({reponse:_})=>(v.target.classList.remove("disable"),X.dismiss(w),X.error(_.data.error)))})};return b.jsxs(b.Fragment,{children:[b.jsxs("nav",{className:"navbar",children:[b.jsx(ke,{to:"/",className:"flex-none w-10",children:b.jsx("img",{src:S0})}),b.jsx("p",{className:"max-md:hidden text-black line-clamp-1 w-full",children:r.length?r:"New Blog"}),b.jsxs("div",{className:"flex gap-4 ml-auto",children:[b.jsx("button",{className:"btn-dark py-2",onClick:y,children:"Publish"}),b.jsx("button",{className:"btn-light py-2",onClick:p,children:"Save Draft"})]})]}),b.jsx(cf,{}),b.jsx(Ke,{children:b.jsx("section",{children:b.jsxs("div",{className:"mx-auto max-w-[900px] w-full",children:[b.jsx("div",{className:"relative aspect-video hover:opacity-80 bg-white border-4 border-grey",children:b.jsxs("label",{htmlFor:"uploadBanner",children:[b.jsx("img",{src:o,className:"z-20"}),b.jsx("input",{id:"uploadBanner",type:"file",accept:".png, .jpg, .jpeg",onChange:m,name:"uploadBanner",hidden:!0})]})}),b.jsx("textarea",{defaultValue:r,placeholder:"Blog Title",className:"text-4xl font-medium w-full h-20 outline-none resize-none mt-10 leading-tight placeholder:opacity-40",onKeyDown:g,onChange:k}),b.jsx("hr",{className:"w-full opacity-10 my-5 "}),b.jsx("div",{id:"textEditor",className:"font-galasio"})]})})})]})},PO=({tag:t,tagIndex:e})=>{let{blog:n,blog:{tags:r},setBlog:o}=E.useContext(nc);const i=l=>{l.target.setAttribute("contentEditable",!0),l.target.focus()},s=()=>{r=r.filter(l=>l!=t),o({...n,tags:r})},a=l=>{if(l.keyCode==13||l.keyCode==188){l.preventDefault();let c=l.target.innerText;console.log("editable >>>",c),r[e]=c,o({...n,tags:r}),l.target.setAttribute("contentEditable",!1)}};return b.jsxs("div",{className:"relative p-2 mt-2 mr-2 px-5 bg-white rounded-full inline-block hover:bg-opacity-50 pr-10",children:[b.jsx("p",{className:"outline-none",onClick:i,onKeyDown:a,children:t}),b.jsx("button",{className:"mt-[2px] rounded-full absolute right-3 top-1/2 -translate-y-1/2",onClick:s,children:b.jsx("i",{className:"fi fi-br-cross text-sm pointer-events-none"})})]})},LO=()=>{let t=200,e=10,{blog:n,blog:{banner:r,title:o,tags:i,des:s,content:a},setEditorState:l,setBlog:c}=E.useContext(nc),u=ls(),{UserAuth:{access_token:d}}=E.useContext(ir);const h=()=>{l("editor")},f=p=>{let v=p.target;c({...n,title:v.value})},m=p=>{let v=p.target;console.log("description is >>",v),c({...n,des:v.value})},g=p=>{p.keyCode==13&&p.preventDefault()},k=p=>{if(p.keyCode==13||p.keyCode==188){p.preventDefault();let v=p.target.value;i.length<e?!i.includes(v)&&v.length&&c({...n,tags:[...i,v]}):vt.error(`you can add max ${e} tags`),p.target.value=""}},y=p=>{if(p.target.className.includes("disable"))return;if(!o.length)return vt.error("Write blog title before publishing");if(!s.length&&s.length>t)return vt.error(`Write blog description before publishing ${t} charters to publish`);if(!i.length)return vt.error("Enter at least 1 tag to help us rank your blog ");let v=vt.loading("publishing...");p.target.classList.add("disable");let w={title:o,banner:r,des:s,content:a,tags:i,draft:!1};Be.post("https://b-bloggy.onrender.com/create-blog",w,{headers:{Authorization:`Bearer ${d} `}}).then(()=>{p.target.classList.remove("disable"),vt.dismiss(v),vt.success("published "),setTimeout(()=>{u("/")},500)}).catch(({reponse:x})=>(p.target.classList.remove("disable"),vt.dismiss(v),vt.error(x.data.error)))};return b.jsx(Ke,{children:b.jsxs("section",{children:[b.jsx(cf,{}),b.jsx("button",{className:"w-12 h-12 absolute right-[5vw] z-10 top-[5%] lg:top-[10%]",onClick:h,children:b.jsx("i",{className:"fi fi-br-cross-small"})}),b.jsxs("div",{className:"md:flex",children:[b.jsxs("div",{className:"max-w-[550px] center my-auto",children:[b.jsx("p",{className:"text-dark-greay mb-1",children:"Preview"}),b.jsx("div",{className:"w-full aspect-video rounded-lg overflow-hidden bg-grey mt-4",children:b.jsx("img",{src:r})}),b.jsx("h1",{className:"text-4xl font-medium mt-2 leading-tight line-clamp-2",children:o}),b.jsx("p",{className:"font-gelasio line-clamp-2 text-xl leading-7 mt-4",children:s})]}),b.jsxs("div",{className:"border-grey lg:border-1 lg:pl-8 mx-4",children:[b.jsx("p",{className:"text-dark-grey mb-2 mt-9",children:"Blog Title"}),b.jsx("input",{type:"text",placeholder:"Blog Title",defaultValue:o,className:"input-box pl-4",onChange:f}),b.jsx("p",{className:"text-dark-grey mb-2 mt-9",children:"Short description about your blog"}),b.jsx("textarea",{maxLength:t,defaultValue:s,className:"h-40 resize-none leading-7 input-box pl-4 ",onChange:m,onKeyDown:g}),b.jsxs("p",{className:"mt-1 text-dark-grey text-sm text-right",children:[t-s.length,"Characters Left"]}),b.jsx("p",{className:"text-dark-grey mb-2 mt-9",children:"Topics-(helps in searching and ranking your blog post)"}),b.jsxs("div",{className:"realative input-box pl-2 py-2 pb-4",children:[b.jsx("input",{type:"text",placeholder:"Topic ",className:"stickey input-box bg-white top-0 left-0 pl-4 mb-5 focus:bg-white",onKeyDown:k}),i.map((p,v)=>b.jsx(PO,{tag:p,tagIndex:v},v))]}),b.jsxs("p",{className:"mt-1 mb4 text-dark-grey text-right",children:[e-i.length,"tags left"]}),b.jsx("button",{className:"btn-dark px-8",onClick:y,children:"Publish"})]})]})]})})},NO={title:"",banner:iw,content:[],tags:[],des:"",author:{personal_info:{}}},nc=E.createContext({}),RO=()=>{const[t,e]=E.useState(NO),[n,r]=E.useState("editor"),[o,i]=E.useState({isReady:!1});let{UserAuth:{access_token:s}}=E.useContext(ir);return b.jsx(nc.Provider,{value:{blog:t,setBlog:e,editorState:n,setEditorState:r,textEditor:o,SetTextEditor:i},children:s===null?b.jsx(E0,{to:"/signin"}):n=="editor"?b.jsx(AO,{}):b.jsx(LO,{})})};let Ys,Ea;const jf=({routes:t,defaultHidden:e=[],defaultActiveIndex:n=0,children:r})=>{let[o,i]=E.useState(n);Ys=E.useRef(),Ea=E.useRef();const s=(a,l)=>{let{offsetWidth:c,offsetLeft:u}=a;Ys.current.style.width=c+"px",Ys.current.style.left=u+"px",i(l)};return E.useEffect(()=>{s(Ea.current,n)},[]),b.jsxs(b.Fragment,{children:[b.jsxs("div",{className:"relative mb-8 bg-white border-b border-grey flex flex-nowrap overflow-x-auto ",children:[t.map((a,l)=>b.jsx("button",{ref:l===n?Ea:null,className:`p-4 px-5 capitalize ${o===l?"text-black":"text-dark-grey"} ${e.includes(a)?"md:hidden":""}`,onClick:c=>{s(c.target,l)},children:a},l)),b.jsx("hr",{ref:Ys,className:"absolute bottom-0 duration-300"})]}),Array.isArray(r)?r[o]:r]})},$t=()=>b.jsx("div",{className:"w-12 mx-auto my-8",children:b.jsxs("svg",{"aria-hidden":"true",className:"w-12 h-12 mr-2 text-white animate-spin fill-dark-grey",viewBox:"0 0 100 101",fill:"none",children:[b.jsx("path",{d:"M100 50.5908C100 78.2051 77.6142 100.591 50 100.591C22.3858 100.591 0 78.2051 0 50.5908C0 22.9766 22.3858 0.59082 50 0.59082C77.6142 0.59082 100 22.9766 100 50.5908ZM9.08144 50.5908C9.08144 73.1895 27.4013 91.5094 50 91.5094C72.5987 91.5094 90.9186 73.1895 90.9186 50.5908C90.9186 27.9921 72.5987 9.67226 50 9.67226C27.4013 9.67226 9.08144 27.9921 9.08144 50.5908Z",fill:"currentColor"}),b.jsx("path",{d:"M93.9676 39.0409C96.393 38.4038 97.8624 35.9116 97.0079 33.5539C95.2932 28.8227 92.871 24.3692 89.8167 20.348C85.8452 15.1192 80.8826 10.7238 75.2124 7.41289C69.5422 4.10194 63.2754 1.94025 56.7698 1.05124C51.7666 0.367541 46.6976 0.446843 41.7345 1.27873C39.2613 1.69328 37.813 4.19778 38.4501 6.62326C39.0873 9.04874 41.5694 10.4717 44.0505 10.1071C47.8511 9.54855 51.7191 9.52689 55.5402 10.0491C60.8642 10.7766 65.9928 12.5457 70.6331 15.2552C75.2735 17.9648 79.3347 21.5619 82.5849 25.841C84.9175 28.9121 86.7997 32.2913 88.1811 35.8758C89.083 38.2158 91.5421 39.6781 93.9676 39.0409Z",fill:"currentFill"})]})});let Mw=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];const Dw=t=>{let e=new Date(t);return`${e.getDate()} ${Mw[e.getMonth()]}`},OO=t=>{let e=new Date(t);return`${e.getDate()} ${Mw[e.getMonth()]} ${e.getFullYear()}`},rc=t=>{let{content:e,author:n,Deletebtn:r,myReRedrenfun:o}=t,{title:i,blog_id:s,publishedAt:a,tags:l,des:c,banner:u,activity:{total_likes:d}}=e,{personal_info:{fullname:h,profile_img:f,username:m}}=n;const g=k=>{k.preventDefault(),console.log("delete blog",typeof s),Be.delete(`https://b-bloggy.onrender.com/delete-blog/${s}`).then(y=>(console.log(y),window.location.replace(`/dashboard/blogs/${m}`),console.log("username>>>>>>",m),vt.success(y.success))).catch(y=>(console.log(y),vt.error("Problem in blog deletion")))};return b.jsxs(ke,{to:`/blog/${s}`,className:"flex gap-8 items-center border-b border-grey pb-5 mb-4 ",children:[b.jsxs("div",{className:"w-full",children:[b.jsxs("div",{className:"flex gap-2 items-center mb-7",children:[b.jsx("img",{src:f,alt:"Profile_img",className:"w-6 h6 rounded-full"}),b.jsxs("p",{className:"line-clamp-1",children:[h,"@",m]}),b.jsx("p",{className:"min-w-fit",children:Dw(a)})]}),b.jsx("h1",{className:"blog-title",children:i}),b.jsx("p",{className:"my-3 text-xl font-gelasio leading-7 max-sm:hidden md:max-[1100px]:hidden line-clamp-2",children:c}),b.jsxs("div",{className:"flex gap-4 mt-7 ",children:[b.jsx("span",{className:"btn-light py-1 px-4",children:l[0]}),b.jsxs("span",{className:"ml-3 flex items-center gap-2 text-dark-grey",children:[b.jsx("i",{className:"fi fi-rr-heart text-xl"}),d]})]})]}),b.jsxs("div",{className:"h-28 aspect-square flex items-center justify-center sm:flex-row flex-col",children:[b.jsx("img",{src:u,alt:"banner",className:"w-full aspect-square object-cover"}),r?b.jsxs("span",{className:"flex gap-2 text-dark-grey",onClick:k=>{g(k)},children:[b.jsx("i",{className:"fi fi-rr-trash p-2 text-xl"}),b.jsx("h1",{children:"Delete Blog"})]}):""]})]})},Zg=({blog:t,index:e})=>{let{title:n,blog_id:r,author:o,author:{personal_info:{fullname:i,username:s,profile_img:a}},publishedAt:l}=t;return b.jsxs(ke,{to:`/blog/${r}`,className:"flex gap-5 mb-8 ",children:[b.jsx("h1",{className:"blog-index",children:e<10?"0"+(e+1):e}),b.jsxs("div",{children:[b.jsxs("div",{className:"flex gap-2 items-center mb-7",children:[b.jsx("img",{src:a,alt:"Profile_img",className:"w-6 h6 rounded-full"}),b.jsxs("p",{className:"line-clamp-1",children:[i,"@",s]}),b.jsx("p",{className:"min-w-fit",children:Dw(l)})]}),b.jsx("h1",{className:"blog-title",children:n})]})]})},Cr=({message:t})=>b.jsx("div",{className:"text-center w-full p-4 rounded-full bg-grey/50 mt-4 ",children:b.jsx("p",{children:t})}),ts=async({create_new_arr:t=!1,arr:e,data:n,page:r,countRoute:o,data_to_send:i={}})=>{let s;return e!=null&&!t?s={...state,results:[...state.results,...date],page:r}:await Be.post("https://b-bloggy.onrender.com"+o,i).then(({data:{totalDocs:a}})=>{s={results:n,page:r,totalDocs:a}}).catch(a=>{console.log(a)}),s},oc=({state:t,FeatchDataFun:e})=>{if(t!=null&&t.totalDocs>t.results.length&&t.results.length!=0)return b.jsx("button",{onClick:()=>{e({page:t.page+1})},className:"text-dark-grey p-2 px-3 hover:bg-grey/30 rounded-md flex items-center gap-2",children:"Load More"})},MO=()=>{let[t,e]=E.useState(null),[n,r]=E.useState(null),o=["programing","health","travel","life style","finance","Anime"],[i,s]=E.useState("home");const a=({page:d=1})=>{Be.post("https://b-bloggy.onrender.com/latest-blog",{page:d}).then(async({data:h})=>{let f=await ts({state:t,data:h.blogs,page:d,countRoute:"/all-latest-blogs-count"});console.log(f),e(f)}).catch(h=>{console.log(h)})},l=d=>{let h=d.target.innerText.toLowerCase();if(e(null),i==h){s("home");return}s(h)},c=({page:d=1})=>{Be.post("https://b-bloggy.onrender.com/search-blogs",{tag:i,page:d}).then(async({data:h})=>{console.log(h,"sdckjdcnslekinowlsn....");let f=await ts({state:t,data:h.blog,page:d,countRoute:"/search-blogs-count",data_to_send:{tag:i}});console.log(f),e(f)}).catch(h=>{console.log(h)})},u=()=>{Be.get("https://b-bloggy.onrender.com/trending-blogs").then(({data:d})=>{r(d.blog)}).catch(d=>{console.log(d)})};return E.useEffect(()=>{Ea.current.click(),i=="home"?a({page:1}):c({page:1}),n||u()},[i]),b.jsx(Ke,{children:b.jsxs("section",{className:"h-cover flex justify-center gap-10",children:[b.jsx("div",{className:"w-full",children:b.jsxs(jf,{routes:[i,"trending blog"],defaultHidden:["trending blog"],children:[b.jsxs(b.Fragment,{children:[t==null?b.jsx($t,{}):t.results.length?t.results.map((d,h)=>b.jsx(Ke,{transition:{duration:1,delay:h*.1},children:b.jsx(rc,{content:d,author:d.author})},h)):b.jsx(Cr,{message:"No Blogs published"}),b.jsx(oc,{state:t,FeatchDataFun:i=="home"?a:c})]}),b.jsx(b.Fragment,{children:n==null?b.jsx($t,{}):n.length?n.map((d,h)=>b.jsx(Ke,{transition:{duration:1,delay:h*.1},children:b.jsx(Zg,{blog:d,index:h})},h)):b.jsx(Cr,{message:"No Trending Blogs"})})]})}),b.jsx("div",{className:"min-w-[40%] lg:min-w-[400px] max-w-min border-1 border-grey pl-8 pt-3 max-md:hidden",children:b.jsxs("div",{className:"flex flex-col gap-10",children:[b.jsxs("div",{children:[b.jsx("h1",{className:"font-medium text-xl mb-8",children:"Stories from all interests"}),b.jsx("div",{className:"flex gap-3 flex-wrap",children:o.map((d,h)=>b.jsx("button",{onClick:l,className:`
                        tag ${i==d?"bg-black text-white":""}`,children:d},h))})]}),b.jsx("div",{children:b.jsxs("h1",{className:"font-medium text-xl mb-8",children:["Trending ",b.jsx("i",{className:"fi fi-rr-arrow-trend-up"}),b.jsx(b.Fragment,{children:n==null?b.jsx($t,{}):n.length?n.map((d,h)=>b.jsx(Ke,{transition:{duration:1,delay:h*.1},children:b.jsx(Zg,{blog:d,index:h})},h)):b.jsx(Cr,{message:"No Trending Blogs"})})]})})]})})]})})},DO=({user:t})=>{let{personal_info:{username:e,fullname:n,profile_img:r}}=t;return b.jsxs(ke,{to:`/user/${e}`,className:"flex gap-5 items-center mb-5 ",children:[b.jsx("img",{src:r,alt:"",className:"w-14 h-14 rounded-full "}),b.jsxs("div",{children:[b.jsx("h1",{className:"font-medium text-xl line-clamp-2 ",children:n}),b.jsxs("p",{className:"text-dark-grey",children:["@",e]})]})]})},jO=()=>{let{query:t}=Rl(),[e,n]=E.useState(null),[r,o]=E.useState(null);const i=({page:l=1,create_new_arr:c=!1})=>{Be.post("https://b-bloggy.onrender.com/search-blogs",{query:t,page:l}).then(async({data:u})=>{console.log(u);let d=await ts({state:e,data:u.blog,page:l,countRoute:"/search-blogs-count",data_to_send:{query:t},create_new_arr:c});console.log(d),n(d)}).catch(u=>{console.log(u)})},s=()=>{Be.post("https://b-bloggy.onrender.com/search-users",{query:t}).then(l=>{o(l.data.users)})};E.useEffect(()=>{i({page:1}),s()},[t]);const a=()=>(console.log(r),b.jsx(b.Fragment,{children:r==null?b.jsx($t,{}):r.length?r.map((l,c)=>b.jsx(Ke,{transition:{duration:1,delay:c*.08},children:b.jsx(DO,{user:l})},c)):b.jsx(Cr,{message:"No user Found"})}));return b.jsxs("section",{className:"h-cover flex justify-center gap-10 ",children:[b.jsx("div",{className:"w-full",children:b.jsxs(jf,{routes:[`Search Results from "${t}"`,"Account Matched"],defaultHidden:["Account Matched"],children:[b.jsxs(b.Fragment,{children:[e==null?b.jsx($t,{}):e.results.length?e.results.map((l,c)=>b.jsx(Ke,{transition:{duration:1,delay:c*.1},children:b.jsx(rc,{content:l,author:l.author})},c)):b.jsx(Cr,{message:"No Blogs published"}),b.jsx(oc,{state:e,FeatchDataFun:i})]}),b.jsx(b.Fragment,{children:b.jsx(a,{})})]})}),b.jsxs("div",{className:"min-w-[40%] lg:min-w-[350px] max-w-min border-1 border-grey pl-8 pt-3 max-md:hidden",children:[b.jsxs("h1",{className:"font-medium text-xl mb-8",children:["User releted to search ",b.jsx("i",{className:"fi fi-rr-user"})]}),b.jsx(a,{})]})]})},FO="/assets/404-25c67c97.png",UO="/assets/full-logo-faf49934.png",jw=()=>b.jsxs("section",{className:"h-cover relative p-10 flex flex-col items-center gap-20  text-center",children:[b.jsx("img",{src:FO,alt:"",className:"border-2 select-none border-grey w-72 aspect-square object-cover rounded"}),b.jsx("h1",{className:"text-4xl font-gelasio leading-7",children:"Page not found"}),b.jsxs("p",{className:"text-dark-grey text-xl leading-7 -mt-8 ",children:["The page you are looking for does not exists.Head back to",b.jsx(ke,{to:"/",className:"text-black underline px-2",children:"Home page"})]}),b.jsxs("div",{className:"mt-auto",children:[b.jsx("img",{src:UO,alt:"",className:"h-8 object-contain block mx-auto select-none "}),b.jsx("p",{children:"Read millions of stories around the world"})]})]}),ev=({bio:t,social_link:e,joinedAt:n,classname:r})=>b.jsxs("div",{className:"md:w-[90%] md:mt-7 "+r,children:[b.jsx("p",{className:"text-xl leading-7",children:t.length?t:"Nothing to read hear"}),b.jsx("div",{className:"flex gap-7 gap-y-2 flex-wrap my-7 items-center text-dark-grey",children:Object.keys(e).map(o=>{let i=e[o];return i?b.jsx(ke,{to:i,target:"_blank",children:b.jsx("i",{className:"fi "+(o!="website"?"fi-brands-"+o:"fi-rr-globe")+" text-2xl hover:text-black"})},o):""})}),b.jsxs("p",{className:"text-xl leading-7 text-dark-grey",children:["Joined On ",OO(n)]})]}),tv={user:{personal_info:{fullname:"",username:"",profile_img:"",bio:""},account_info:{total_post:"",total_blog:""},social_links:{},joinedAt:""}},$O=()=>{let{id:t}=Rl(),[e,n]=E.useState(tv),[r,o]=E.useState(!0),[i,s]=E.useState(null),[a,l]=E.useState(""),{user:{personal_info:{fullname:c,username:u,profile_img:d,bio:h},account_info:{total_posts:f,total_reads:m},social_links:g,joinedAt:k}}=e,{UserAuth:y,UserAuth:{username:p}}=E.useContext(ir);const v=()=>{console.log(t),Be.post("https://b-bloggy.onrender.com/get-profile",{username:t}).then(({data:C})=>{console.log("user is ",C),C!=null&&n(C),l(t),x({user_id:C.user._id}),o(!1)}).catch(C=>{console.log(C),o(!1)})};E.useEffect(()=>{t!=a&&s(null),i==null&&(w(),v())},[t,i]);const w=()=>{n(tv),o(!0),l("")},x=({page:C=1,user_id:_})=>{_=_??i.user_id,console.log("profile user_id",_),Be.post("https://b-bloggy.onrender.com/search-blogs",{author:_,page:C}).then(async({data:S})=>{console.log(S);let T=await ts({state:i,data:S.blog,page:C,countRoute:"/search-blogs-count",data_to_send:{author:_}});T.user_id=_,console.log("formatedData",T),s(T)})};return E.useEffect(()=>{console.log("blog is ",i)},[s]),b.jsx(Ke,{children:r?b.jsx($t,{}):u.length?b.jsxs("section",{className:"h-cover md:flex flex-row-reverse items-start gap-5 min-[1100px]:gap-12",children:[b.jsxs("div",{className:"flex flex-col max-md:items-center gap-5 min-w-[250px] md:w-[50%] md:pl-8 md:border-1 border-grey md:sticky md:top-[100px] py-10",children:[b.jsx("img",{src:d,alt:"",className:"w-48 h-48 bg-grey rounded-full md:w-32 md:h-32"}),b.jsxs("h1",{className:"text-2xl font-medium",children:["@",u]}),b.jsx("p",{className:"text-xl capitalize h-6",children:c}),b.jsxs("p",{children:[f.toLocaleString()," blogs -"," ",m.toLocaleString()," reads"]}),b.jsx("div",{className:"flex gap-4 mt-2",children:t==p?b.jsx(ke,{to:"/setting/edit-profile",className:"btn-light rounded-md",children:"Edit Profile"}):""}),b.jsx(ev,{bio:h,social_link:g,joinedAt:k,classname:"max-md:hidden"})]}),b.jsx("div",{className:"max-md:mt-12 w-full",children:b.jsxs(jf,{routes:["Blogs Published","About"],defaultHidden:["About"],children:[b.jsxs(b.Fragment,{children:[i==null?b.jsx($t,{}):i.results.length?i.results.map((C,_)=>b.jsx(Ke,{transition:{duration:1,delay:_*.1},children:b.jsx(rc,{content:C,author:C.author})},_)):b.jsx(Cr,{message:"No Blogs published"}),b.jsx(oc,{state:i,FeatchDataFun:x})]}),b.jsx(ev,{bio:h,social_link:g,joinedAt:k})]})})]}):b.jsx(jw,{})})},VO={0:{activity:{total_comments:"",total_likes:"",total_parent_comments:"",total_reads:""},author:{personal_info:{fullname:"",profile_img:"",username:""},_id:""},banner:"",des:"",publishedAt:"",tags:[],content:{0:{blocks:[]}},title:""}},HO=()=>{let{blog_id:t}=Rl(),[e,n]=E.useState(VO),{0:{activity:{total_comments:r,total_likes:o,total_parent_comments:i,total_reads:s},author:{personal_info:{fullname:a,profile_img:l,username:c},_id:u},banner:d,des:h,publishedAt:f,tags:m,content:{0:{blocks:g}},title:k}}=e;const y=()=>{Be.post("https://b-bloggy.onrender.com/search-blogs",{blog_id:t}).then(({data:p})=>{console.log(p.blog),n(p.blog)}).catch(p=>{console.log({error:p})})};return E.useEffect(()=>{y()},[]),b.jsx(Ke,{children:k.length==0?b.jsx($t,{}):b.jsxs("div",{children:[b.jsx("h1",{className:"text-center text-3xl font-bold underline p-10",children:k}),b.jsxs("div",{className:"mx-auto md:w-[50%] w-full m-5 p-5",children:[b.jsx("img",{src:d,alt:""}),b.jsxs("div",{className:"text-xl mx-auto ",children:[b.jsxs(ke,{to:`/user/${c}`,className:"flex gap-5 items-center mb-5 p-2",children:[b.jsx("img",{src:l,alt:"",className:"w-14 h-14 rounded-full "}),b.jsxs("div",{children:[b.jsx("h1",{className:"font-medium text-xl line-clamp-2 ",children:a}),b.jsxs("p",{className:"text-dark-grey",children:["@",c]})]})]}),b.jsxs("div",{className:"flex",children:[b.jsxs("span",{className:"ml-3 flex items-center gap-2 text-dark-grey",children:[b.jsx("i",{className:"fi fi-rr-heart text-xl"}),o]}),b.jsxs("span",{className:"ml-3 flex items-center gap-2 text-dark-grey",children:[b.jsx("i",{className:"fi fi-rr-comment-alt-dots"}),r]})]}),b.jsx("div",{className:"p-10 flex flex-wrap",children:m.map((p,v)=>b.jsx("span",{className:"btn-dark py-1 px-4 m-2",children:p},v))}),b.jsx("div",{className:"bg-[#f3f3f3] rounded-2xl italic font-gelasio text-xl",children:g.map((p,v)=>{if(p.data.text)return b.jsx("h1",{dangerouslySetInnerHTML:{__html:p.data.text},className:"m-5"},v);if(p.data.items){let w=p.data.items;return b.jsx("ul",{className:"list-inside list-disc",children:w.map((x,C)=>b.jsx("li",{className:"text-xl",dangerouslySetInnerHTML:{__html:x}},C))},v)}})})]})]}),b.jsx("div",{})]})})},zO={page:"",results:[],totalDocs:"",user_id:""},WO=()=>{let[t,e]=E.useState(zO),[n,r]=E.useState(!0),[o,i]=E.useState(!0),s=Rl();const a=()=>{Be.post("https://b-bloggy.onrender.com/get-profile",{username:s}).then(({data:u})=>{console.log("username",s),console.log("user is ",u),l({user_id:u.user._id}),r(!1)}).catch(u=>{console.log(u),r(!1)})},l=({page:u=1,user_id:d})=>{d=d??t.user_id,Be.post("https://b-bloggy.onrender.com/search-blogs",{author:d,page:u}).then(async({data:h})=>{if(console.log("data",h),h.blog.length){let f=await ts({state:t,data:h.blog,page:u,countRoute:"/search-blogs-count",data_to_send:{author:d}});e(f),r(!1),f.user_id=d,console.log("formatedData",f)}}).catch(h=>{console.log({errror:h.message})})},c=u=>{console.log("bhava blog id ali ",u),e(d=>d.results.blog_id.filter(h=>h.id!==u))};return E.useEffect(()=>{t.results.length==0&&a()},[]),b.jsxs(b.Fragment,{children:[n?b.jsx($t,{}):b.jsxs("div",{className:"md:m-32 p-5 m-10 bg-[#d7d5d5] rounded-2xl flex justify-between items-center",children:[b.jsxs("div",{children:[b.jsxs("h1",{className:"text-2xl font-gelasio italic",children:["Hello, ",s.id]}),b.jsx("h1",{className:"text-2xl font-bold",children:"Blog status"})]}),b.jsxs("span",{className:"flex items-center w-32",children:[b.jsx("span",{className:"text-3xl font-bold p-2",children:t.totalDocs}),b.jsx("h1",{className:"",children:"Blogs Published"})]})]}),b.jsxs("div",{className:"md:w-[50%] w-full mx-auto m-10 p-9",children:[n?b.jsx($t,{}):t.results.length?t.results.map((u,d)=>b.jsx(Ke,{transition:{duration:1,delay:d*.1},children:b.jsx(rc,{content:u,author:u.author,Deletebtn:o,myReRedrenfun:c})},d)):b.jsx(Cr,{message:"No Blogs published"}),b.jsx(oc,{state:t,FeatchDataFun:l})]})]})},ir=E.createContext({}),KO=()=>{const[t,e]=E.useState({});return E.useEffect(()=>{let n=P2("user");e(n?JSON.parse(n):{access_token:null})},[]),b.jsx(ir.Provider,{value:{UserAuth:t,setUserAuth:e},children:b.jsxs(rS,{children:[b.jsx(gt,{path:"/editor",element:b.jsx(RO,{})}),b.jsxs(gt,{path:"/",element:b.jsx(R2,{}),children:[b.jsx(gt,{index:!0,element:b.jsx(MO,{})}),b.jsx(gt,{path:"signin",element:b.jsx(Vg,{type:"sign-in"})}),b.jsx(gt,{path:"signup",element:b.jsx(Vg,{type:"sign-up"})}),b.jsx(gt,{path:"//search/:query",element:b.jsx(jO,{})}),b.jsx(gt,{path:"user/:id",element:b.jsx($O,{})}),b.jsx(gt,{path:"/blog/:blog_id",element:b.jsx(HO,{})}),b.jsx(gt,{path:"/dashboard/blogs/:id",element:b.jsx(WO,{})}),b.jsx(gt,{path:"*",element:b.jsx(jw,{})})]})]})})};au.createRoot(document.getElementById("root")).render(b.jsx(cS,{children:b.jsx(KO,{})}));
